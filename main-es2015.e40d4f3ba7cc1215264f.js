(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"+qE3":function(t,e,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function u(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,r){var i,o,s;if(u(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,console&&console.warn&&console.warn(a)}return t}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[t];if(void 0===c)return!1;if("function"==typeof c)o(c,this,e);else{var u=c.length,l=m(c,u);for(n=0;n<u;++n)o(l[n],this,e)}return!0},a.prototype.on=a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return u(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return u(e),this.prependListener(t,d(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,r,i,o,s;if(u(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},"/uUt":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return n=>n.lift(new o(t,e))}class o{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new s(t,this.compare,this.keySelector))}}class s extends r.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}},0:function(t,e,n){t.exports=n("zUnb")},1:function(t,e){},"1G5W":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(t){return e=>e.lift(new s(t))}class s{constructor(t){this.notifier=t}call(t,e){const n=new a(t),r=Object(i.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class a extends r.a{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2Vo4":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("XNiG"),i=n("9ppp");class o extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"2lpH":function(t,e){t.exports=r;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function r(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function i(t){return!0===(t&&t.__isLong__)}Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=i;var o={},s={};function a(t,e){var n,r,i;return e?(i=0<=(t>>>=0)&&t<256)&&(r=s[t])?r:(n=u(t,(0|t)<0?-1:0,!0),i&&(s[t]=n),n):(i=-128<=(t|=0)&&t<128)&&(r=o[t])?r:(n=u(t,t<0?-1:0,!1),i&&(o[t]=n),n)}function c(t,e){if(isNaN(t))return e?y:b;if(e){if(t<0)return y;if(t>=p)return E}else{if(t<=-g)return S;if(t+1>=g)return O}return t<0?c(-t,e).neg():u(t%d|0,t/d|0,e)}function u(t,e,n){return new r(t,e,n)}r.fromInt=a,r.fromNumber=c,r.fromBits=u;var l=Math.pow;function h(t,e,n){if(0===t.length)throw Error("empty string");if("NaN"===t||"Infinity"===t||"+Infinity"===t||"-Infinity"===t)return b;if("number"==typeof e?(n=e,e=!1):e=!!e,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=t.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return h(t.substring(1),e,n).neg();for(var i=c(l(n,8)),o=b,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+a),n);if(a<8){var f=c(l(n,a));o=o.mul(f).add(c(u))}else o=(o=o.mul(i)).add(c(u))}return o.unsigned=e,o}function f(t,e){return"number"==typeof t?c(t,e):"string"==typeof t?h(t,e):u(t.low,t.high,"boolean"==typeof e?e:t.unsigned)}r.fromString=h,r.fromValue=f;var d=4294967296,p=d*d,g=p/2,m=a(1<<24),b=a(0);r.ZERO=b;var y=a(0,!0);r.UZERO=y;var _=a(1);r.ONE=_;var v=a(1,!0);r.UONE=v;var w=a(-1);r.NEG_ONE=w;var O=u(-1,2147483647,!1);r.MAX_VALUE=O;var E=u(-1,-1,!0);r.MAX_UNSIGNED_VALUE=E;var S=u(0,-2147483648,!1);r.MIN_VALUE=S;var A=r.prototype;A.toInt=function(){return this.unsigned?this.low>>>0:this.low},A.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},A.toString=function(t){if((t=t||10)<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var e=c(t),n=this.div(e),r=n.mul(e).sub(this);return n.toString(t)+r.toInt().toString(t)}return"-"+this.neg().toString(t)}for(var i=c(l(t,6),this.unsigned),o=this,s="";;){var a=o.div(i),u=(o.sub(a.mul(i)).toInt()>>>0).toString(t);if((o=a).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},A.getHighBits=function(){return this.high},A.getHighBitsUnsigned=function(){return this.high>>>0},A.getLowBits=function(){return this.low},A.getLowBitsUnsigned=function(){return this.low>>>0},A.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var t=0!=this.high?this.high:this.low,e=31;e>0&&0==(t&1<<e);e--);return 0!=this.high?e+33:e+1},A.isZero=function(){return 0===this.high&&0===this.low},A.eqz=A.isZero,A.isNegative=function(){return!this.unsigned&&this.high<0},A.isPositive=function(){return this.unsigned||this.high>=0},A.isOdd=function(){return 1==(1&this.low)},A.isEven=function(){return 0==(1&this.low)},A.equals=function(t){return i(t)||(t=f(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},A.eq=A.equals,A.notEquals=function(t){return!this.eq(t)},A.neq=A.notEquals,A.ne=A.notEquals,A.lessThan=function(t){return this.comp(t)<0},A.lt=A.lessThan,A.lessThanOrEqual=function(t){return this.comp(t)<=0},A.lte=A.lessThanOrEqual,A.le=A.lessThanOrEqual,A.greaterThan=function(t){return this.comp(t)>0},A.gt=A.greaterThan,A.greaterThanOrEqual=function(t){return this.comp(t)>=0},A.gte=A.greaterThanOrEqual,A.ge=A.greaterThanOrEqual,A.compare=function(t){if(i(t)||(t=f(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},A.comp=A.compare,A.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(_)},A.neg=A.negate,A.add=function(t){i(t)||(t=f(t));var e=0,n=0,r=0,o=0;return r+=(o+=(65535&this.low)+(65535&t.low))>>>16,n+=(r+=(this.low>>>16)+(t.low>>>16))>>>16,e+=(n+=(65535&this.high)+(65535&t.high))>>>16,e+=(this.high>>>16)+(t.high>>>16),u((r&=65535)<<16|(o&=65535),(e&=65535)<<16|(n&=65535),this.unsigned)},A.subtract=function(t){return i(t)||(t=f(t)),this.add(t.neg())},A.sub=A.subtract,A.multiply=function(t){if(this.isZero())return b;if(i(t)||(t=f(t)),n)return u(n.mul(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned);if(t.isZero())return b;if(this.eq(S))return t.isOdd()?S:b;if(t.eq(S))return this.isOdd()?S:b;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(m)&&t.lt(m))return c(this.toNumber()*t.toNumber(),this.unsigned);var e=65535&this.high,r=this.low>>>16,o=65535&this.low,s=65535&t.high,a=t.low>>>16,l=65535&t.low,h=0,d=0,p=0,g=0;return p+=(g+=o*l)>>>16,d+=(p+=r*l)>>>16,p&=65535,d+=(p+=o*a)>>>16,h+=(d+=e*l)>>>16,d&=65535,h+=(d+=r*a)>>>16,d&=65535,h+=(d+=o*s)>>>16,h+=(this.high>>>16)*l+e*a+r*s+o*(t.high>>>16),u((p&=65535)<<16|(g&=65535),(h&=65535)<<16|(d&=65535),this.unsigned)},A.mul=A.multiply,A.divide=function(t){if(i(t)||(t=f(t)),t.isZero())throw Error("division by zero");var e,r,o;if(n)return this.unsigned||-2147483648!==this.high||-1!==t.low||-1!==t.high?u((this.unsigned?n.div_u:n.div_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:b;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return y;if(t.gt(this.shru(1)))return v;o=y}else{if(this.eq(S))return t.eq(_)||t.eq(w)?S:t.eq(S)?_:(e=this.shr(1).div(t).shl(1)).eq(b)?t.isNegative()?_:w:(r=this.sub(t.mul(e)),o=e.add(r.div(t)));if(t.eq(S))return this.unsigned?y:b;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=b}for(r=this;r.gte(t);){e=Math.max(1,Math.floor(r.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(e)/Math.LN2),a=s<=48?1:l(2,s-48),h=c(e),d=h.mul(t);d.isNegative()||d.gt(r);)d=(h=c(e-=a,this.unsigned)).mul(t);h.isZero()&&(h=_),o=o.add(h),r=r.sub(d)}return o},A.div=A.divide,A.modulo=function(t){return i(t)||(t=f(t)),n?u((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,t.low,t.high),n.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},A.mod=A.modulo,A.rem=A.modulo,A.not=function(){return u(~this.low,~this.high,this.unsigned)},A.and=function(t){return i(t)||(t=f(t)),u(this.low&t.low,this.high&t.high,this.unsigned)},A.or=function(t){return i(t)||(t=f(t)),u(this.low|t.low,this.high|t.high,this.unsigned)},A.xor=function(t){return i(t)||(t=f(t)),u(this.low^t.low,this.high^t.high,this.unsigned)},A.shiftLeft=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):u(0,this.low<<t-32,this.unsigned)},A.shl=A.shiftLeft,A.shiftRight=function(t){return i(t)&&(t=t.toInt()),0==(t&=63)?this:t<32?u(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):u(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},A.shr=A.shiftRight,A.shiftRightUnsigned=function(t){if(i(t)&&(t=t.toInt()),0==(t&=63))return this;var e=this.high;return t<32?u(this.low>>>t|e<<32-t,e>>>t,this.unsigned):u(32===t?e:e>>>t-32,0,this.unsigned)},A.shru=A.shiftRightUnsigned,A.shr_u=A.shiftRightUnsigned,A.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},A.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},A.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},A.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},A.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},r.fromBytes=function(t,e,n){return n?r.fromBytesLE(t,e):r.fromBytesBE(t,e)},r.fromBytesLE=function(t,e){return new r(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},r.fromBytesBE=function(t,e){return new r(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3Y9A":function(t,e,n){"use strict";t.exports=function(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),s=n("lJxs"),a=n("Cfvw");function c(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new o.a(this,e,n),s=this.destination;s.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&s.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"96a6":function(t,e,n){"use strict";e.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},e.install=function(t){var e=new global.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},B3rN:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return StoreDevtoolsModule}));var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("fXoL"),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("kt0X"),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("EY2u"),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("HDdC"),rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("LRne"),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("VRyK"),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("qgXg"),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("jtHE"),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("w1tV"),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("pLZG"),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("lJxs"),rxjs_operators__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("bOdf"),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("tS1D"),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("Kj3r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("JIr8"),rxjs_operators__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("IzEk"),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("1G5W"),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("eIep"),rxjs_operators__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("zP0r"),rxjs_operators__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("pxpQ"),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("zp1y"),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("Kqap");function DevToolsFeatureOptions(){}class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("@ngrx/devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("@ngrx/devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){const e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}};let n="function"==typeof t?t():t;const r=Object.assign({},e,{features:n.features||!!n.logOnly&&{pause:!0,export:!0,test:!0}||e.features},n);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(t){this.timestamp=t,this.type=RESET}}class Rollback{constructor(t){this.timestamp=t,this.type=ROLLBACK}}class Commit{constructor(t){this.timestamp=t,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(t){this.id=t,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(t,e,n=!0){this.start=t,this.end=e,this.active=n,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(t){this.index=t,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(t){this.actionId=t,this.type=JUMP_TO_ACTION}}class ImportState{constructor(t){this.nextLiftedState=t,this.type=IMPORT_STATE}}class LockChanges{constructor(t){this.status=t,this.type=LOCK_CHANGES}}class PauseRecording{constructor(t){this.status=t,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class t extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a{}return t.\u0275fac=function(e){return \u0275DevtoolsDispatcher_BaseFactory(e||t)},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb({token:t,factory:t.\u0275fac}),t})();const \u0275DevtoolsDispatcher_BaseFactory=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Rb(DevtoolsDispatcher);function difference(t,e){return t.filter(t=>e.indexOf(t)<0)}function unliftState(t){const{computedStates:e,currentStateIndex:n}=t;if(n>=e.length){const{state:t}=e[e.length-1];return t}const{state:r}=e[n];return r}function unliftAction(t){return t.actionsById[t.nextActionId-1]}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce((n,r)=>{const i=Number(r);return n[i]=sanitizeAction(t,e[i],i),n},{})}function sanitizeAction(t,e,n){return Object.assign(Object.assign({},e),{action:t(e.action,n)})}function sanitizeStates(t,e){return e.map((e,n)=>({state:sanitizeState(t,e.state,n),error:e.error}))}function sanitizeState(t,e,n){return t(e,n)}function shouldFilterActions(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function filterLiftedState(t,e,n,r){const i=[],o={},s=[];return t.stagedActionIds.forEach((a,c)=>{const u=t.actionsById[a];u&&(c&&isActionFiltered(t.computedStates[c],u,e,n,r)||(o[a]=u,i.push(a),s.push(t.computedStates[c])))}),Object.assign(Object.assign({},t),{stagedActionIds:i,actionsById:o,computedStates:s})}function isActionFiltered(t,e,n,r,i){const o=n&&!n(t,e.action),s=r&&!e.action.type.match(r.map(t=>escapeRegExp(t)).join("|")),a=i&&e.action.type.match(i.map(t=>escapeRegExp(t)).join("|"));return o||s||a}function escapeRegExp(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("Redux Devtools Extension");function ReduxDevtoolsExtensionConnection(){}function ReduxDevtoolsExtensionConfig(){}function ReduxDevtoolsExtension(){}let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(t,e,n){this.config=e,this.dispatcher=n,this.devtoolsExtension=t,this.createActionStreams()}notify(t,e){if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;const n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const r=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,i=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(()=>this.extensionConnection.send(i,r))}else{const t=Object.assign(Object.assign({},e),{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,t,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.a(t=>{const e=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=e,e.init(),e.subscribe(e=>t.next(e)),e.unsubscribe}):Object(rxjs__WEBPACK_IMPORTED_MODULE_2__.b)()}createActionStreams(){const t=this.createChangesObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.a)()),e=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.START)),n=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.STOP)),r=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.DISPATCH),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.a)(t=>t.type===IMPORT_STATE?this.dispatcher.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.a)(1e3),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(()=>t),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.a)(()=>Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t)),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.a)(1)):Object(rxjs__WEBPACK_IMPORTED_MODULE_4__.a)(t))),i=t.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.a)(t=>t.type===ExtensionActionTypes.ACTION),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(t=>this.unwrapAction(t.payload))).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),o=r.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n));this.start$=e.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.a)(n)),this.actions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>i)),this.liftedActions$=this.start$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.a)(()=>o))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(t){const e={name:t.name,features:t.features,serialize:t.serialize};return!1!==t.maxAge&&(e.maxAge=t.maxAge),e}sendToReduxDevtools(t){try{t()}catch(e){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",e)}}}return DevtoolsExtension.\u0275fac=function(t){return new(t||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function ComputedState(){}function LiftedAction(){}function LiftedActions(){}function LiftedState(){}function computeNextEntry(t,e,n,r,i){if(r)return{state:n,error:"Interrupted by an error up the chain"};let o,s=n;try{s=t(n,e)}catch(a){o=a.toString(),i.handleError(a.stack||a)}return{state:s,error:o}}function recomputeStates(t,e,n,r,i,o,s,a,c){if(e>=t.length&&t.length===o.length)return t;const u=t.slice(0,e),l=o.length-(c?1:0);for(let h=e;h<l;h++){const t=o[h],e=i[t].action,c=u[h-1],l=c?c.state:r,f=c?c.error:void 0,d=s.indexOf(t)>-1?c:computeNextEntry(n,e,l,f,a);u.push(d)}return c&&u.push(t[t.length-1]),u}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,n,r,i={}){return o=>(s,a)=>{let{monitorState:c,actionsById:u,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:b}=s||e;function y(t){let e=t,n=h.slice(1,e+1);for(let r=0;r<n.length;r++){if(g[r+1].error){e=r,n=h.slice(1,e+1);break}delete u[n[r]]}f=f.filter(t=>-1===n.indexOf(t)),h=[0,...h.slice(e+1)],d=g[e].state,g=g.slice(e),p=p>e?p-e:0}function _(){u={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],d=g[p].state,p=0,g=[]}s||(u=Object.create(u));let v=0;switch(a.type){case LOCK_CHANGES:m=a.status,v=1/0;break;case PAUSE_RECORDING:b=a.status,b?(h=[...h,l],u[l]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),l++,v=h.length-1,g=g.concat(g[g.length-1]),p===h.length-2&&p++,v=1/0):_();break;case RESET:u={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],d=t,p=0,g=[];break;case COMMIT:_();break;case ROLLBACK:u={0:liftAction(INIT_ACTION)},l=1,h=[0],f=[],p=0,g=[];break;case TOGGLE_ACTION:{const{id:t}=a,e=f.indexOf(t);f=-1===e?[t,...f]:f.filter(e=>e!==t),v=h.indexOf(t);break}case SET_ACTIONS_ACTIVE:{const{start:t,end:e,active:n}=a,r=[];for(let i=t;i<e;i++)r.push(i);f=n?difference(f,r):[...f,...r],v=h.indexOf(t);break}case JUMP_TO_STATE:p=a.index,v=1/0;break;case JUMP_TO_ACTION:{const t=h.indexOf(a.actionId);-1!==t&&(p=t),v=1/0;break}case SWEEP:h=difference(h,f),f=[],p=Math.min(p,h.length-1);break;case PERFORM_ACTION:{if(m)return s||e;if(b||s&&isActionFiltered(s.computedStates[p],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){const t=g[g.length-1];g=[...g.slice(0,-1),computeNextEntry(o,a.action,t.state,t.error,n)],v=1/0;break}i.maxAge&&h.length===i.maxAge&&y(1),p===h.length-1&&p++;const t=l++;u[t]=a,h=[...h,t],v=h.length-1;break}case IMPORT_STATE:({monitorState:c,actionsById:u,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:b}=a.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.b:v=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,v,o,d,u,h,f,n,b),y(h.length-i.maxAge),v=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.l:if(g.filter(t=>t.error).length>0)v=0,i.maxAge&&h.length>i.maxAge&&(g=recomputeStates(g,v,o,d,u,h,f,n,b),y(h.length-i.maxAge),v=1/0);else{if(!b&&!m){p===h.length-1&&p++;const t=l++;u[t]=new PerformAction(a,+Date.now()),h=[...h,t],v=h.length-1,g=recomputeStates(g,v,o,d,u,h,f,n,b)}g=g.map(t=>Object.assign(Object.assign({},t),{state:o(t.state,RECOMPUTE_ACTION)})),p=h.length-1,i.maxAge&&h.length>i.maxAge&&y(h.length-i.maxAge),v=1/0}break;default:v=1/0}return g=recomputeStates(g,v,o,d,u,h,f,n,b),c=r(c,a),{monitorState:c,actionsById:u,nextActionId:l,stagedActionIds:h,skippedActionIds:f,committedState:d,currentStateIndex:p,computedStates:g,isLocked:m,isPaused:b}}}let StoreDevtools=(()=>{class t{constructor(t,e,n,r,i,o,s,a){const c=liftInitialState(s,a.monitor),u=liftReducerWith(s,c,o,a.monitor,a),l=Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(Object(rxjs__WEBPACK_IMPORTED_MODULE_5__.a)(e.asObservable().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.a)(1)),r.actions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(liftAction)),t,r.liftedActions$).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.b)(rxjs__WEBPACK_IMPORTED_MODULE_6__.a)),h=n.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(u)),f=new rxjs__WEBPACK_IMPORTED_MODULE_7__.a(1),d=l.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.a)(h),Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.a)(({state:t},[e,n])=>{let i=n(t,e);return e.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(i=filterLiftedState(i,a.predicate,a.actionsSafelist,a.actionsBlocklist)),r.notify(e,i),{state:i,action:e}},{state:c,action:null})).subscribe(({state:t,action:e})=>{f.next(t),e.type===PERFORM_ACTION&&i.next(e.action)}),p=r.start$.subscribe(()=>{this.refresh()}),g=f.asObservable(),m=g.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.a)(unliftState));this.extensionStartSubscription=p,this.stateSubscription=d,this.dispatcher=t,this.liftedState=g,this.state=m}dispatch(t){this.dispatcher.next(t)}next(t){this.dispatcher.next(t)}error(t){}complete(){}performAction(t){this.dispatch(new PerformAction(t,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(t){this.dispatch(new ToggleAction(t))}jumpToAction(t){this.dispatch(new JumpToAction(t))}jumpToState(t){this.dispatch(new JumpToState(t))}importState(t){this.dispatch(new ImportState(t))}lockChanges(t){this.dispatch(new LockChanges(t))}pauseRecording(t){this.dispatch(new PauseRecording(t))}}return t.\u0275fac=function(e){return new(e||t)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.a),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.e),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.f),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(_angular_core__WEBPACK_IMPORTED_MODULE_0__.m),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.c),_angular_core__WEBPACK_IMPORTED_MODULE_0__.Xb(STORE_DEVTOOLS_CONFIG))},t.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Gb({token:t,factory:t.\u0275fac}),t})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.q("Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function createStateObservable(t){return t.state}let StoreDevtoolsModule=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:e},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.g,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.d,useExisting:DevtoolsDispatcher}]}}}return t.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Ib({type:t}),t.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Hb({factory:function(e){return new(e||t)}}),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},H7XF:function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[1];return 3*(e[0]+n)/4-n},e.toByteArray=function(t){var e,n,r=u(t),s=r[0],a=r[1],c=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),l=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=i[t.charCodeAt(n)]<<18|i[t.charCodeAt(n+1)]<<12|i[t.charCodeAt(n+2)]<<6|i[t.charCodeAt(n+3)],c[l++]=e>>16&255,c[l++]=e>>8&255,c[l++]=255&e;return 2===a&&(e=i[t.charCodeAt(n)]<<2|i[t.charCodeAt(n+1)]>>4,c[l++]=255&e),1===a&&(e=i[t.charCodeAt(n)]<<10|i[t.charCodeAt(n+1)]<<4|i[t.charCodeAt(n+2)]>>2,c[l++]=e>>8&255,c[l++]=255&e),c},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(l(t,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(e=t[n-1])>>2]+r[e<<4&63]+"=="):2===i&&o.push(r[(e=(t[n-2]<<8)+t[n-1])>>10]+r[e>>4&63]+r[e<<2&63]+"="),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=s.length;a<c;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,n){for(var i,o=[],s=e;s<n;s+=3)o.push(r[(i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q"),i=n("4I5i"),o=n("EY2u");function s(t){return e=>0===t?Object(o.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new c(t,this.total))}}class c extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},JIr8:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj");function s(t){return function(e){const n=new a(t),r=e.lift(n);return n.caught=r}}class a{constructor(t){this.selector=t}call(t,e){return e.subscribe(new c(t,this.selector,this.caught))}}class c extends r.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new i.a(this,void 0,void 0);this.add(r);const s=Object(o.a)(this,n,void 0,void 0,r);s!==r&&this.add(s)}}}},KLYn:function(t,e,n){"use strict";e.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},e.install=function(t){return function(){var e=global.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e),t}}},Kj3r:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("D0XW");function o(t,e=i.a){return n=>n.lift(new s(t,e))}class s{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))}}class a extends r.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function c(t){t.debouncedNext()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new o(t,e,n))}}class o{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))}}class s extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},OifR:function(t,e,n){"use strict";var r,i,o,s=[n(1),n("S1oR"),n("Zk5R"),n("96a6"),n("KLYn"),n("rY9s")],a=-1,c=[],u=!1;function l(){r&&i&&(r=!1,i.length?c=i.concat(c):a=-1,c.length&&h())}function h(){if(!r){u=!1,r=!0;for(var t=c.length,e=setTimeout(l);t;){for(i=c,c=[];i&&++a<t;)i[a].run();a=-1,t=c.length}i=null,a=-1,r=!1,clearTimeout(e)}}for(var f=-1,d=s.length;++f<d;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(h);break}function p(t,e){this.fun=t,this.array=e}p.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}},t.exports=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),u||r||(u=!0,o())}},P7XM:function(t,e){t.exports="function"==typeof Object.create?function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},S1oR:function(t,e,n){"use strict";e.test=function(){return"function"==typeof global.queueMicrotask},e.install=function(t){return function(){global.queueMicrotask(t)}}},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,l}},SjWX:function(t,e){function n(t){var e=o([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter((function(e){return e.rule&&e.rule.test(t)}))[0];return e?e.name:null}function r(){return"undefined"!=typeof process&&process.version&&{name:"node",version:process.version.slice(1),os:process.platform}}function i(t){var e=o([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]]);if(!t)return null;var r=e.map((function(e){var n=e.rule.exec(t),r=n&&n[1].split(/[._]/).slice(0,3);return r&&r.length<3&&(r=r.concat(1==r.length?[0,0]:[0])),n&&{name:e.name,version:r.join(".")}})).filter(Boolean)[0]||null;return r&&(r.os=n(t)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(t)&&((r=r||{}).bot=!0),r}function o(t){return t.map((function(t){return{name:t[0],rule:t[1]}}))}t.exports={detect:function(){return"undefined"!=typeof navigator?i(navigator.userAgent):r()},detectOS:n,getNodeVersion:r,parseUserAgent:i}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("EY2u"),i=n("LRne"),o=n("z6cu");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function s(t,e,n,s,a=new r.a(t,n,s)){if(!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},Zk5R:function(t,e,n){"use strict";var r=global.MutationObserver||global.WebKitMutationObserver;e.test=function(){return r},e.install=function(t){var e=0,n=new r(t),i=global.document.createTextNode("");return n.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}},aaBP:function(t,e,n){t.exports=function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[0]-680876936|0)<<7|n>>>25)+r|0)&r|~n&i)+e[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&r)+e[2]+606105819|0)<<17|i>>>15)+o|0)&o|~i&n)+e[3]-1044525330|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[4]-176418897|0)<<7|n>>>25)+r|0)&r|~n&i)+e[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&r)+e[6]-1473231341|0)<<17|i>>>15)+o|0)&o|~i&n)+e[7]-45705983|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[8]+1770035416|0)<<7|n>>>25)+r|0)&r|~n&i)+e[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&r)+e[10]-42063|0)<<17|i>>>15)+o|0)&o|~i&n)+e[11]-1990404162|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&i|~r&o)+e[12]+1804603682|0)<<7|n>>>25)+r|0)&r|~n&i)+e[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&r)+e[14]-1502002290|0)<<17|i>>>15)+o|0)&o|~i&n)+e[15]+1236535329|0)<<22|r>>>10)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[1]-165796510|0)<<5|n>>>27)+r|0)&i|r&~i)+e[6]-1069501632|0)<<9|o>>>23)+n|0)&r|n&~r)+e[11]+643717713|0)<<14|i>>>18)+o|0)&n|o&~n)+e[0]-373897302|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[5]-701558691|0)<<5|n>>>27)+r|0)&i|r&~i)+e[10]+38016083|0)<<9|o>>>23)+n|0)&r|n&~r)+e[15]-660478335|0)<<14|i>>>18)+o|0)&n|o&~n)+e[4]-405537848|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[9]+568446438|0)<<5|n>>>27)+r|0)&i|r&~i)+e[14]-1019803690|0)<<9|o>>>23)+n|0)&r|n&~r)+e[3]-187363961|0)<<14|i>>>18)+o|0)&n|o&~n)+e[8]+1163531501|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r&o|i&~o)+e[13]-1444681467|0)<<5|n>>>27)+r|0)&i|r&~i)+e[2]-51403784|0)<<9|o>>>23)+n|0)&r|n&~r)+e[7]+1735328473|0)<<14|i>>>18)+o|0)&n|o&~n)+e[12]-1926607734|0)<<20|r>>>12)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[5]-378558|0)<<4|n>>>28)+r|0)^r^i)+e[8]-2022574463|0)<<11|o>>>21)+n|0)^n^r)+e[11]+1839030562|0)<<16|i>>>16)+o|0)^o^n)+e[14]-35309556|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[1]-1530992060|0)<<4|n>>>28)+r|0)^r^i)+e[4]+1272893353|0)<<11|o>>>21)+n|0)^n^r)+e[7]-155497632|0)<<16|i>>>16)+o|0)^o^n)+e[10]-1094730640|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[13]+681279174|0)<<4|n>>>28)+r|0)^r^i)+e[0]-358537222|0)<<11|o>>>21)+n|0)^n^r)+e[3]-722521979|0)<<16|i>>>16)+o|0)^o^n)+e[6]+76029189|0)<<23|r>>>9)+i|0,r=((r+=((i=((i+=((o=((o+=((n=((n+=(r^i^o)+e[9]-640364487|0)<<4|n>>>28)+r|0)^r^i)+e[12]-421815835|0)<<11|o>>>21)+n|0)^n^r)+e[15]+530742520|0)<<16|i>>>16)+o|0)^o^n)+e[2]-995338651|0)<<23|r>>>9)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[0]-198630844|0)<<6|n>>>26)+r|0)|~i))+e[7]+1126891415|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[14]-1416354905|0)<<15|i>>>17)+o|0)|~n))+e[5]-57434055|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[12]+1700485571|0)<<6|n>>>26)+r|0)|~i))+e[3]-1894986606|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[10]-1051523|0)<<15|i>>>17)+o|0)|~n))+e[1]-2054922799|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[8]+1873313359|0)<<6|n>>>26)+r|0)|~i))+e[15]-30611744|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[6]-1560198380|0)<<15|i>>>17)+o|0)|~n))+e[13]+1309151649|0)<<21|r>>>11)+i|0,r=((r+=((o=((o+=(r^((n=((n+=(i^(r|~o))+e[4]-145523070|0)<<6|n>>>26)+r|0)|~i))+e[11]-1120210379|0)<<10|o>>>22)+n|0)^((i=((i+=(n^(o|~r))+e[2]+718787259|0)<<15|i>>>17)+o|0)|~n))+e[9]-343485551|0)<<21|r>>>11)+i|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=i+t[2]|0,t[3]=o+t[3]|0}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var e,i,o,s,a,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(l,r(t.substring(e-64,e)));for(i=(t=t.substring(e-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(l,o),e=0;e<16;e+=1)o[e]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(l,o),l}function s(t){var n,r="";for(n=0;n<4;n+=1)r+=e[t>>8*n+4&15]+e[t>>8*n&15];return r}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function l(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(e,n){var r,i,o,s,a=this.byteLength,c=t(e,a),u=a;return void 0!==n&&(u=t(n,a)),c>u?new ArrayBuffer(0):(r=u-c,i=new ArrayBuffer(r),o=new Uint8Array(i),s=new Uint8Array(this,c,r),o.set(s),i)}}(),l.prototype.append=function(t){return this.appendBinary(c(t)),this},l.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,i=this._buff.length;for(e=64;e<=i;e+=64)n(this._hash,r(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},l.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=a(this._hash),t&&(n=u(n)),this.reset(),n},l.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},l.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},l.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},l.prototype._finish=function(t,e){var r,i,o,s=e;if(t[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,t),s=0;s<16;s+=1)t[s]=0;r=(r=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),o=parseInt(r[1],16)||0,t[14]=i,t[15]=o,n(this._hash,t)},l.hash=function(t,e){return l.hashBinary(c(t),e)},l.hashBinary=function(t,e){var n=a(o(t));return e?u(n):n},(l.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,r,o,s,a=(r=this._buff.buffer,o=t,(s=new Uint8Array(r.byteLength+o.byteLength)).set(new Uint8Array(r)),s.set(new Uint8Array(o),r.byteLength),s),c=a.length;for(this._length+=t.byteLength,e=64;e<=c;e+=64)n(this._hash,i(a.subarray(e-64,e)));return this._buff=e-64<c?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},l.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=a(this._hash),t&&(n=u(n)),this.reset(),n},l.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},l.ArrayBuffer.prototype.getState=function(){var t=l.prototype.getState.call(this);return t.buff=String.fromCharCode.apply(null,new Uint8Array(t.buff)),t},l.ArrayBuffer.prototype.setState=function(t){return t.buff=function(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return o}(t.buff),l.prototype.setState.call(this,t)},l.ArrayBuffer.prototype.destroy=l.prototype.destroy,l.ArrayBuffer.prototype._finish=l.prototype._finish,l.ArrayBuffer.hash=function(t,e){var r=a(function(t){var e,r,o,s,a,c,u=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=u;e+=64)n(l,i(t.subarray(e-64,e)));for(r=(t=e-64<u?t.subarray(e-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(l,o),e=0;e<16;e+=1)o[e]=0;return s=(s=8*u).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(l,o),l}(new Uint8Array(t)));return e?u(r):r},l}()},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},byjP:function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(t):o===e.length-2?i[e.pop()]=t:e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,i,o,s,a,c,u,l,h="";n=e.pop();)if(r=n.obj,h+=n.prefix||"",i=n.val||"")h+=i;else if("object"!=typeof r)h+=void 0===r?null:JSON.stringify(r);else if(null===r)h+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),o=r.length-1;o>=0;o--)e.push({obj:r[o],prefix:0===o?"":","});e.push({val:"["})}else{for(a in s=[],r)r.hasOwnProperty(a)&&s.push(a);for(e.push({val:"}"}),o=s.length-1;o>=0;o--)u=r[c=s[o]],l=o>0?",":"",l+=JSON.stringify(c)+":",e.push({obj:u,prefix:l});e.push({val:"{"})}return h},e.parse=function(t){for(var e,n,i,o,s,a,c,u,l,h=[],f=[],d=0;;)if("}"!==(e=t[d++])&&"]"!==e&&void 0!==e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,r(null,h,f);break;case"t":d+=3,r(!0,h,f);break;case"f":d+=4,r(!1,h,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(i=t[d++],!/[\d\.\-e\+]/.test(i)){d--;break}n+=i}r(parseFloat(n),h,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=t[d++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;r(JSON.parse('"'+o+'"'),h,f);break;case"[":h.push((u={element:[],index:h.length}).element),f.push(u);break;case"{":h.push((l={element:{},index:h.length}).element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===h.length)return h.pop();r(h.pop(),h,f)}}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("l7GE"),i=n("51Dv"),o=n("ZUHj"),s=n("lJxs"),a=n("Cfvw");function c(t,e){return"function"==typeof e?n=>n.pipe(c((n,r)=>Object(a.a)(t(n,r)).pipe(Object(s.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new u(t))}class u{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends r.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const s=new i.a(this,e,n),a=this.destination;a.add(s),this.innerSubscription=Object(o.a)(this,t,void 0,void 0,s),this.innerSubscription!==s&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}},f6aa:function(t,e,n){"use strict";var r=n("H7XF"),i=n("kVK+"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,a.prototype),e}function a(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return l(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|p(t,e),r=s(n),i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return h(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(F(t,ArrayBuffer)||t&&F(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(F(t,SharedArrayBuffer)||t&&F(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return a.from(r,e,n);var i=function(t){if(a.isBuffer(t)){var e=0|d(t.length),n=s(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||$(t.length)?s(0):h(t):"Buffer"===t.type&&Array.isArray(t.data)?h(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function l(t){return u(t),s(t<0?0:0|d(t))}function h(t){for(var e=t.length<0?0:0|d(t.length),n=s(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,a.prototype),r}function d(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|t}function p(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||F(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return B(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(t).length;default:if(i)return r?-1:B(t).length;e=(""+e).toLowerCase(),i=!0}}function g(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return I(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return x(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),$(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,i){var o,s=1,a=t.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){var l=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===c)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var h=!0,f=0;f<c;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function _(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(e.substr(2*s,2),16);if($(a))return s;t[n+s]=a}return s}function v(t,e,n,r){return U(B(e,t.length-n),t,n,r)}function w(t,e,n,r){return U(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function O(t,e,n,r){return w(t,e,n,r)}function E(t,e,n,r){return U(L(e),t,n,r)}function S(t,e,n,r){return U(function(t,e){for(var n,r,i=[],o=0;o<t.length&&!((e-=2)<0);++o)r=(n=t.charCodeAt(o))>>8,i.push(n%256),i.push(r);return i}(e,t.length-n),t,n,r)}function A(t,e,n){return r.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,s,a,c,u=t[i],l=null,h=u>239?4:u>223?3:u>191?2:1;if(i+h<=n)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(o=t[i+1]))&&(c=(31&u)<<6|63&o)>127&&(l=c);break;case 3:s=t[i+2],128==(192&(o=t[i+1]))&&128==(192&s)&&(c=(15&u)<<12|(63&o)<<6|63&s)>2047&&(c<55296||c>57343)&&(l=c);break;case 4:s=t[i+2],a=t[i+3],128==(192&(o=t[i+1]))&&128==(192&s)&&128==(192&a)&&(c=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&c<1114112&&(l=c)}null===l?(l=65533,h=1):l>65535&&(r.push((l-=65536)>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return n}(r)}function T(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function I(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=V[t[o]];return i}function D(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function N(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function R(t,e,n,r,o){return e=+e,n>>>=0,o||N(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,o){return e=+e,n>>>=0,o||N(t,0,n,8),i.write(t,e,n,r,52,8),n+8}e.Buffer=a,e.SlowBuffer=function(t){return+t!=t&&(t=0),a.alloc(+t)},e.INSPECT_MAX_BYTES=50,e.kMaxLength=2147483647,(a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(n){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?s(t):void 0!==e?"string"==typeof n?s(t).fill(e,n):s(t).fill(e):s(t)}(t,e,n)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==a.prototype},a.compare=function(t,e){if(F(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),F(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=a.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(F(o,Uint8Array)&&(o=a.from(o)),!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):g.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(a.prototype[o]=a.prototype.inspect),a.prototype.compare=function(t,e,n,r,i){if(F(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0),c=Math.min(o,s),u=this.slice(r,i),l=t.slice(e,n),h=0;h<c;++h)if(u[h]!==l[h]){o=u[h],s=l[h];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},a.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},a.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},a.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return _(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return w(this,t,e,n);case"latin1":case"binary":return O(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},a.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},a.prototype.readUInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return t>>>=0,e||k(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||k(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return t>>>=0,e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t>>>=0,e||k(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(t,e){t>>>=0,e||k(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return t>>>=0,e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t>>>=0,e||k(t,4,this.length),i.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t>>>=0,e||k(t,4,this.length),i.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t>>>=0,e||k(t,8,this.length),i.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t>>>=0,e||k(t,8,this.length),i.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},a.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},a.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},a.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},a.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);P(this,t,e,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},a.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},a.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},a.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},a.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},a.prototype.writeFloatLE=function(t,e,n){return R(this,t,e,!0,n)},a.prototype.writeFloatBE=function(t,e,n){return R(this,t,e,!1,n)},a.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},a.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},a.prototype.copy=function(t,e,n,r){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;if(this===t&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,n,r);else if(this===t&&n<e&&e<r)for(var o=i-1;o>=0;--o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,r),e);return i},a.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=a.isBuffer(t)?t:a.from(t,r),c=s.length;if(0===c)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=s[o%c]}return this};var M=/[^+/0-9A-Za-z-_]/g;function B(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],s=0;s<r;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function L(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function U(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function F(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function $(t){return t!=t}var V=function(){for(var t=new Array(256),e=0;e<16;++e)for(var n=16*e,r=0;r<16;++r)t[n+r]="0123456789abcdef"[e]+"0123456789abcdef"[r];return t}()},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return xo})),n.d(e,"b",(function(){return vu})),n.d(e,"c",(function(){return gu})),n.d(e,"d",(function(){return du})),n.d(e,"e",(function(){return pu})),n.d(e,"f",(function(){return ll})),n.d(e,"g",(function(){return tl})),n.d(e,"h",(function(){return uo})),n.d(e,"i",(function(){return ku})),n.d(e,"j",(function(){return aa})),n.d(e,"k",(function(){return Eu})),n.d(e,"l",(function(){return ca})),n.d(e,"m",(function(){return _n})),n.d(e,"n",(function(){return qc})),n.d(e,"o",(function(){return H})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return W})),n.d(e,"r",(function(){return To})),n.d(e,"s",(function(){return Ta})),n.d(e,"t",(function(){return xa})),n.d(e,"u",(function(){return Ou})),n.d(e,"v",(function(){return st})),n.d(e,"w",(function(){return nl})),n.d(e,"x",(function(){return ot})),n.d(e,"y",(function(){return Xu})),n.d(e,"z",(function(){return Ru})),n.d(e,"A",(function(){return h})),n.d(e,"B",(function(){return _u})),n.d(e,"C",(function(){return yu})),n.d(e,"D",(function(){return fa})),n.d(e,"E",(function(){return la})),n.d(e,"F",(function(){return ha})),n.d(e,"G",(function(){return pa})),n.d(e,"H",(function(){return ur})),n.d(e,"I",(function(){return d})),n.d(e,"J",(function(){return ol})),n.d(e,"K",(function(){return Pa})),n.d(e,"L",(function(){return Vu})),n.d(e,"M",(function(){return ho})),n.d(e,"N",(function(){return ga})),n.d(e,"O",(function(){return Ra})),n.d(e,"P",(function(){return mt})),n.d(e,"Q",(function(){return Yu})),n.d(e,"R",(function(){return Bn})),n.d(e,"S",(function(){return D})),n.d(e,"T",(function(){return Mn})),n.d(e,"U",(function(){return cl})),n.d(e,"V",(function(){return Wu})),n.d(e,"W",(function(){return wu})),n.d(e,"X",(function(){return fo})),n.d(e,"Y",(function(){return Ya})),n.d(e,"Z",(function(){return ar})),n.d(e,"ab",(function(){return qn})),n.d(e,"bb",(function(){return Tn})),n.d(e,"cb",(function(){return In})),n.d(e,"db",(function(){return Nn})),n.d(e,"eb",(function(){return kn})),n.d(e,"fb",(function(){return Dn})),n.d(e,"gb",(function(){return Pn})),n.d(e,"hb",(function(){return Ha})),n.d(e,"ib",(function(){return al})),n.d(e,"jb",(function(){return Ka})),n.d(e,"kb",(function(){return Ga})),n.d(e,"lb",(function(){return xn})),n.d(e,"mb",(function(){return B})),n.d(e,"nb",(function(){return No})),n.d(e,"ob",(function(){return ts})),n.d(e,"pb",(function(){return Qo})),n.d(e,"qb",(function(){return Wa})),n.d(e,"rb",(function(){return Ft})),n.d(e,"sb",(function(){return T})),n.d(e,"tb",(function(){return Cn})),n.d(e,"ub",(function(){return Vs})),n.d(e,"vb",(function(){return Gs})),n.d(e,"wb",(function(){return ia})),n.d(e,"xb",(function(){return Dr})),n.d(e,"yb",(function(){return Lo})),n.d(e,"zb",(function(){return ws})),n.d(e,"Ab",(function(){return Ls})),n.d(e,"Bb",(function(){return Us})),n.d(e,"Cb",(function(){return vs})),n.d(e,"Db",(function(){return iu})),n.d(e,"Eb",(function(){return vt})),n.d(e,"Fb",(function(){return Tt})),n.d(e,"Gb",(function(){return b})),n.d(e,"Hb",(function(){return y})),n.d(e,"Ib",(function(){return St})),n.d(e,"Jb",(function(){return xt})),n.d(e,"Kb",(function(){return qo})),n.d(e,"Lb",(function(){return Xo})),n.d(e,"Mb",(function(){return Jo})),n.d(e,"Nb",(function(){return Yo})),n.d(e,"Ob",(function(){return Go})),n.d(e,"Pb",(function(){return Ko})),n.d(e,"Qb",(function(){return Zo})),n.d(e,"Rb",(function(){return gn})),n.d(e,"Sb",(function(){return Fs})),n.d(e,"Tb",(function(){return _c})),n.d(e,"Ub",(function(){return Sc})),n.d(e,"Vb",(function(){return vc})),n.d(e,"Wb",(function(){return Ec})),n.d(e,"Xb",(function(){return et})),n.d(e,"Yb",(function(){return zo})),n.d(e,"Zb",(function(){return fu})),n.d(e,"ac",(function(){return es})),n.d(e,"bc",(function(){return au})),n.d(e,"cc",(function(){return is})),n.d(e,"dc",(function(){return $c})),n.d(e,"ec",(function(){return Vc})),n.d(e,"fc",(function(){return us})),n.d(e,"gc",(function(){return ss})),n.d(e,"hc",(function(){return Wo})),n.d(e,"ic",(function(){return ls})),n.d(e,"jc",(function(){return hs})),n.d(e,"kc",(function(){return jc})),n.d(e,"lc",(function(){return Mc})),n.d(e,"mc",(function(){return Bc})),n.d(e,"nc",(function(){return Lc})),n.d(e,"oc",(function(){return tu})),n.d(e,"pc",(function(){return Vo})),n.d(e,"qc",(function(){return se})),n.d(e,"rc",(function(){return lr})),n.d(e,"sc",(function(){return At})),n.d(e,"tc",(function(){return ou})),n.d(e,"uc",(function(){return eu})),n.d(e,"vc",(function(){return _s})),n.d(e,"wc",(function(){return $o})),n.d(e,"xc",(function(){return hu})),n.d(e,"yc",(function(){return Ns})),n.d(e,"zc",(function(){return Rs})),n.d(e,"Ac",(function(){return js})),n.d(e,"Bc",(function(){return Ms})),n.d(e,"Cc",(function(){return Bs})),n.d(e,"Dc",(function(){return nu}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),a=n("w1tV");function c(t){return{toString:t}.toString()}function u(t,e,n){return c(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const l=u("Inject",t=>({token:t})),h=u("Optional"),f=u("Self"),d=u("SkipSelf");var p=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function m(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function _(t){return v(t,t[O])||v(t,t[A])}function v(t,e){return e&&e.token===t?e:null}function w(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(C))?t[E]:null}const O=g({"\u0275prov":g}),E=g({"\u0275inj":g}),S=g({"\u0275provFallback":g}),A=g({ngInjectableDef:g}),C=g({ngInjectorDef:g});function T(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(T).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function x(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const I=g({__forward_ref__:g});function D(t){return t.__forward_ref__=D,t.toString=function(){return T(this())},t}function k(t){return P(t)?t():t}function P(t){return"function"==typeof t&&t.hasOwnProperty(I)&&t.__forward_ref__===D}const N="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,M="undefined"!=typeof global&&global,B=N||M||R||j,L=g({"\u0275cmp":g}),U=g({"\u0275dir":g}),F=g({"\u0275pipe":g}),$=g({"\u0275mod":g}),V=g({"\u0275loc":g}),q=g({"\u0275fac":g}),z=g({__NG_ELEMENT_ID__:g});class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=b({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const H=new W("INJECTOR",-1),K={},G=/\n/gm,X=g({provide:String,useValue:g});let Y,J=void 0;function Z(t){const e=J;return J=t,e}function Q(t){const e=Y;return Y=t,e}function tt(t,e=p.Default){if(void 0===J)throw new Error("inject() must be called from an injection context");return null===J?nt(t,void 0,e):J.get(t,e&p.Optional?null:void 0,e)}function et(t,e=p.Default){return(Y||tt)(k(t),e)}function nt(t,e,n){const r=_(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&p.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${T(t)}]`)}function rt(t){const e=[];for(let n=0;n<t.length;n++){const r=k(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=p.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof h||"Optional"===i.ngMetadataName||i===h?n|=p.Optional:i instanceof d||"SkipSelf"===i.ngMetadataName||i===d?n|=p.SkipSelf:i instanceof f||"Self"===i.ngMetadataName||i===f?n|=p.Self:t=i instanceof l||i===l?i.token:i}e.push(et(t,n))}else e.push(et(r))}return e}class it{get(t,e=K){if(e===K){const e=new Error(`NullInjectorError: No provider for ${T(t)}!`);throw e.name="NullInjectorError",e}return e}}class ot{}class st{}function at(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function ct(t,e){t.forEach(t=>Array.isArray(t)?ct(t,e):e(t))}function ut(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ht(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ft(t,e,n){let r=pt(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dt(t,e){const n=pt(t,e);if(n>=0)return t[1|n]}function pt(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var gt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),mt=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const bt={},yt=[];let _t=0;function vt(t){return c(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===gt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||yt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||mt.Emulated,id:"c",styles:t.styles||yt,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,s=t.features,a=t.pipes;return i.id+=_t++,i.inputs=Ct(t.inputs,r),i.outputs=Ct(t.outputs),s&&s.forEach(t=>t(i)),i.directiveDefs=o?()=>("function"==typeof o?o():o).map(wt):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(Ot):null,i})}function wt(t){return It(t)||function(t){return t[U]||null}(t)}function Ot(t){return function(t){return t[F]||null}(t)}const Et={};function St(t){const e={type:t.type,bootstrap:t.bootstrap||yt,declarations:t.declarations||yt,imports:t.imports||yt,exports:t.exports||yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&c(()=>{Et[t.id]=t.type}),e}function At(t,e){return c(()=>{const n=kt(t,!0);n.declarations=e.declarations||yt,n.imports=e.imports||yt,n.exports=e.exports||yt})}function Ct(t,e){if(null==t)return bt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Tt=vt;function xt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function It(t){return t[L]||null}function Dt(t,e){return t.hasOwnProperty(q)?t[q]:null}function kt(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${T(t)} does not have '\u0275mod' property.`);return n}function Pt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Nt(t){return Array.isArray(t)&&!0===t[1]}function Rt(t){return 0!=(8&t.flags)}function jt(t){return 2==(2&t.flags)}function Mt(t){return 1==(1&t.flags)}function Bt(t){return null!==t.template}function Lt(t){return 0!=(512&t[2])}let Ut=void 0;function Ft(t){Ut=t}function $t(){return void 0!==Ut?Ut:"undefined"!=typeof document?document:void 0}function Vt(t){return!!t.listen}const qt={createRenderer:(t,e)=>$t()};function zt(t){for(;Array.isArray(t);)t=t[0];return t}function Wt(t,e){return zt(e[t+20])}function Ht(t,e){return zt(e[t.index])}function Kt(t,e){return t.data[e+20]}function Gt(t,e){return t[e+20]}function Xt(t,e){const n=e[t];return Pt(n)?n:n[0]}function Yt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Jt(t){return 4==(4&t[2])}function Zt(t){return 128==(128&t[2])}function Qt(t,e){return null===t||null==e?null:t[e]}function te(t){t[18]=0}function ee(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const ne={lFrame:Se(null),bindingsEnabled:!0,checkNoChangesMode:!1};function re(){return ne.bindingsEnabled}function ie(){return ne.lFrame.lView}function oe(){return ne.lFrame.tView}function se(t){ne.lFrame.contextLView=t}function ae(){return ne.lFrame.previousOrParentTNode}function ce(t,e){ne.lFrame.previousOrParentTNode=t,ne.lFrame.isParent=e}function ue(){return ne.lFrame.isParent}function le(){ne.lFrame.isParent=!1}function he(){return ne.checkNoChangesMode}function fe(t){ne.checkNoChangesMode=t}function de(){const t=ne.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pe(){return ne.lFrame.bindingIndex}function ge(){return ne.lFrame.bindingIndex++}function me(t){const e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function be(t,e){const n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,ye(e)}function ye(t){ne.lFrame.currentDirectiveIndex=t}function _e(){return ne.lFrame.currentQueryIndex}function ve(t){ne.lFrame.currentQueryIndex=t}function we(t,e){const n=Ee();ne.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Oe(t,e){const n=Ee(),r=t[1];ne.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ee(){const t=ne.lFrame,e=null===t?null:t.child;return null===e?Se(t):e}function Se(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){const t=ne.lFrame;return ne.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Ce=Ae;function Te(){const t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xe(){return ne.lFrame.selectedIndex}function Ie(t){ne.lFrame.selectedIndex=t}function De(){const t=ne.lFrame;return Kt(t.tView,t.selectedIndex)}function ke(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Pe(t,e,n){je(t,e,3,n)}function Ne(t,e,n,r){(3&t[2])===n&&je(t,e,n,r)}function Re(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function je(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Me(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Me(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}class Be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Le(t,e,n){const r=Vt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,s):e.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Fe(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function Ue(t){return 3===t||4===t||6===t}function Fe(t){return 64===t.charCodeAt(0)}function $e(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ve(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ve(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function qe(t){return-1!==t}function ze(t){return 32767&t}function We(t){return t>>16}function He(t,e){let n=We(t),r=e;for(;n>0;)r=r[15],n--;return r}function Ke(t){return"string"==typeof t?t:null==t?"":""+t}function Ge(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ke(t)}const Xe=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function Ye(t){return t instanceof Function?t():t}let Je=!0;function Ze(t){const e=Je;return Je=t,e}let Qe=0;function tn(t,e){const n=nn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,en(r.data,t),en(e,null),en(r.blueprint,null));const i=rn(t,e),o=t.injectorIndex;if(qe(i)){const t=ze(i),n=He(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function en(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function rn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function on(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(z)&&(r=n[z]),null==r&&(r=n[z]=Qe++);const i=255&r,o=1<<i,s=64&i,a=32&i,c=e.data;128&i?s?a?c[t+7]|=o:c[t+6]|=o:a?c[t+5]|=o:c[t+4]|=o:s?a?c[t+3]|=o:c[t+2]|=o:a?c[t+1]|=o:c[t]|=o}(t,e,n)}function sn(t,e,n,r=p.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(z)?t[z]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){we(e,t);try{const t=i();if(null!=t||r&p.Optional)return t;throw new Error(`No provider for ${Ge(n)}!`)}finally{Ce()}}else if("number"==typeof i){if(-1===i)return new dn(t,e);let o=null,s=nn(t,e),a=-1,c=r&p.Host?e[16][6]:null;for((-1===s||r&p.SkipSelf)&&(a=-1===s?rn(t,e):e[s+8],fn(r,!1)?(o=e[1],s=ze(a),e=He(a,e)):s=-1);-1!==s;){a=e[s+8];const t=e[1];if(hn(i,s,t.data)){const t=cn(s,e,n,o,r,c);if(t!==an)return t}fn(r,e[1].data[s+8]===c)&&hn(i,s,e)?(o=t,s=ze(a),e=He(a,e)):s=-1}}}if(r&p.Optional&&void 0===i&&(i=null),0==(r&(p.Self|p.Host))){const t=e[9],o=Q(void 0);try{return t?t.get(n,i,r&p.Optional):nt(n,i,r&p.Optional)}finally{Q(o)}}if(r&p.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Ge(n)}]`)}const an={};function cn(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],c=un(a,s,n,null==r?jt(a)&&Je:r!=s&&3===a.type,i&p.Host&&o===a);return null!==c?ln(e,s,c,a):an}function un(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=65535&o,c=t.directiveStart,u=o>>16,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=s[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=s[c];if(t&&Bt(t)&&t.type===n)return c}return null}function ln(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Be){const s=i;if(s.resolving)throw new Error(`Circular dep for ${Ge(o[n])}`);const a=Ze(s.canSeeViewProviders);let c;s.resolving=!0,s.injectImpl&&(c=Q(s.injectImpl)),we(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:o}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{s.injectImpl&&Q(c),Ze(a),s.resolving=!1,Ce()}}return i}function hn(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function fn(t,e){return!(t&p.Self||t&p.Host&&e)}class dn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return sn(this._tNode,this._lView,t,void 0,e)}}function pn(t){const e=t;if(P(t))return()=>{const t=pn(k(e));return t?t():null};let n=Dt(e);if(null===n){const t=w(e);n=t&&t.factory}return n||null}function gn(t){return c(()=>{const e=t.prototype.constructor,n=e[q]||pn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[q]||pn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function mn(t){return t.ngDebugContext}function bn(t){return t.ngOriginalError}function yn(t,...e){t.error(...e)}class _n{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||yn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?mn(t)?mn(t):this._findContext(bn(t)):null}_findOriginalError(t){let e=bn(t);for(;e&&bn(e);)e=bn(e);return e}}class vn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class wn extends vn{getTypeName(){return"HTML"}}class On extends vn{getTypeName(){return"Style"}}class En extends vn{getTypeName(){return"Script"}}class Sn extends vn{getTypeName(){return"URL"}}class An extends vn{getTypeName(){return"ResourceURL"}}function Cn(t){return t instanceof vn?t.changingThisBreaksApplicationSecurity:t}function Tn(t,e){const n=xn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function xn(t){return t instanceof vn&&t.getTypeName()||null}function In(t){return new wn(t)}function Dn(t){return new On(t)}function kn(t){return new En(t)}function Pn(t){return new Sn(t)}function Nn(t){return new An(t)}let Rn=!0,jn=!1;function Mn(){return jn=!0,Rn}function Bn(){if(jn)throw new Error("Cannot enable prod mode after platform setup.");Rn=!1}function Ln(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Un:new Fn(t)}class Un{getInertBodyElement(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Fn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Vn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function qn(t){return(t=String(t)).match($n)||t.match(Vn)?t:(Mn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function zn(t){return(t=String(t)).split(",").map(t=>qn(t.trim())).join(", ")}function Wn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Hn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Kn=Wn("area,br,col,hr,img,wbr"),Gn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Wn("rp,rt"),Yn=Hn(Xn,Gn),Jn=Hn(Kn,Hn(Gn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hn(Xn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yn),Zn=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qn=Wn("srcset"),tr=Hn(Zn,Qn,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),er=Wn("script,style,template");class nr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Jn.hasOwnProperty(e))return this.sanitizedSomething=!0,!er.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!tr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;Zn[i]&&(o=qn(o)),Qn[i]&&(o=zn(o)),this.buf.push(" ",e,'="',or(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Jn.hasOwnProperty(e)&&!Kn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(or(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const rr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ir=/([^\#-~ |!])/g;function or(t){return t.replace(/&/g,"&amp;").replace(rr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ir,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let sr;function ar(t,e){let n=null;try{sr=sr||Ln(t);let r=e?String(e):"";n=sr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=sr.getInertBodyElement(r)}while(r!==o);const s=new nr,a=s.sanitizeChildren(cr(n)||n);return Mn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=cr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ur=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function lr(t){const e=function(){const t=ie();return t&&t[12]}();return e?e.sanitize(ur.URL,t)||"":Tn(t,"URL")?Cn(t):qn(Ke(t))}function hr(t,e){t.__ngContext__=e}function fr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function dr(){throw new Error("Cannot mix multi providers and regular providers")}function pr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function gr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==pr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function mr(t){return 0===t.type&&"ng-template"!==t.tagName}function br(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function yr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Ue(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!br(t,c,n)||""===c&&1===e.length){if(_r(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!gr(t.attrs,u,n)){if(_r(r))return!1;s=!0}continue}const l=vr(8&r?"class":c,i,mr(t),n);if(-1===l){if(_r(r))return!1;s=!0;continue}if(""!==u){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==pr(e,u,0)||2&r&&u!==t){if(_r(r))return!1;s=!0}}}}else{if(!s&&!_r(r)&&!_r(c))return!1;if(s&&_r(c))continue;s=!1,r=c|1&r}}return _r(r)||s}function _r(t){return 0==(1&t)}function vr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wr(t,e,n=!1){for(let r=0;r<e.length;r++)if(yr(t,e[r],n))return!0;return!1}function Or(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Er(t,e){return t?":not("+e.trim()+")":e}function Sr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||_r(s)||(e+=Er(o,i),i=""),r=s,o=o||!_r(r);n++}return""!==i&&(e+=Er(o,i)),e}const Ar={};function Cr(t){const e=t[3];return Nt(e)?e[3]:e}function Tr(t){return Ir(t[13])}function xr(t){return Ir(t[4])}function Ir(t){for(;null!==t&&!Nt(t);)t=t[4];return t}function Dr(t){kr(oe(),ie(),xe()+t,he())}function kr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Pe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ne(e,r,0,n)}Ie(n)}const Pr={marker:"element"},Nr={marker:"comment"};function Rr(t,e){return t<<17|e<<2}function jr(t){return t>>17&32767}function Mr(t){return 2|t}function Br(t){return(131068&t)>>2}function Lr(t,e){return-131069&t|e<<2}function Ur(t){return 1|t}function Fr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ve(i),n.contentQueries(2,e[o],o)}}}function $r(t,e,n){return Vt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vr(t,e,n,r,i,o,s,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,te(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function qr(t,e,n,r,i,o){const s=n+20,a=t.data[s]||function(t,e,n,r,i,o){const s=ae(),a=ue(),c=a?s:s&&s.parent,u=t.data[n]=ti(0,c&&c!==e?c:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=u),s&&(!a||null!=s.child||null===u.parent&&2!==s.type?a||(s.next=u):s.child=u),u}(t,e,s,r,i,o);return ce(a,!0),a}function zr(t,e,n){Oe(e,e[6]);try{const r=t.viewQuery;null!==r&&Ei(1,r,n);const i=t.template;null!==i&&Kr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fr(t,e),t.staticViewQueries&&Ei(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)yi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Te()}}function Wr(t,e,n,r){const i=e[2];if(256==(256&i))return;Oe(e,e[6]);const o=he();try{te(e),ne.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Kr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Pe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ne(e,n,0,null),Re(e,0)}if(function(t){for(let e=Tr(t);null!==e;e=xr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&ee(r,1),n[2]|=1024}}}(e),function(t){for(let e=Tr(t);null!==e;e=xr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Zt(n)&&Wr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Fr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Pe(e,n)}else{const n=t.contentHooks;null!==n&&Ne(e,n,1),Re(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Ie(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(be(r,i),s(2,e[i])),i++)}}}finally{Ie(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&Ei(2,c,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Pe(e,n)}else{const n=t.viewHooks;null!==n&&Ne(e,n,2),Re(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,ee(e[3],-1))}finally{Te()}}function Hr(t,e,n,r){const i=e[10],o=!he(),s=Jt(e);try{o&&!s&&i.begin&&i.begin(),s&&zr(t,e,r),Wr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Kr(t,e,n,r,i){const o=xe();try{Ie(-1),2&r&&e.length>20&&kr(t,e,0,he()),n(r,i)}finally{Ie(o)}}function Gr(t,e,n){if(Rt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Xr(t,e,n){re()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||tn(n,e),hr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=Bt(r);o&&fi(e,n,r);const c=ln(e,t,a,n);hr(c,e),null!==s&&pi(0,a-i,c,r,0,s),o&&(Xt(n.index,e)[8]=c)}}(t,e,n,Ht(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,a=n.index-20,c=ne.lFrame.currentDirectiveIndex;try{Ie(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ye(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?si(r,i):s&&o.push(null)}}finally{Ie(-1),ye(c)}}(t,e,n))}function Yr(t,e,n=Ht){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function Jr(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zr(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zr(t,e,n,r,i,o,s,a,c,u){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ar);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:u,incompleteFirstPass:!1}}function Qr(t,e,n,r){const i=Ai(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ti(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ei(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ni(t,e,n,r,i,o,s,a){const c=Ht(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Ti(t,n,u,r,i),jt(e)&&function(t,e){const n=Xt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.tagName||"",r):i,Vt(o)?o.setProperty(c,r,i):Fe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ri(t,e,n,r){let i=!1;if(re()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];wr(n,s.selectors,!1)&&(i||(i=[]),on(tn(n,e),t,s.type),Bt(s)?(2&n.flags&&fr(n),ci(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,li(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}ai(t,n,o.length);let a=!1,c=!1;for(let i=0;i<o.length;i++){const u=o[i];n.mergedAttrs=$e(n.mergedAttrs,u.hostAttrs),hi(t,e,u),ui(t.data.length-1,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128),!a&&(u.onChanges||u.onInit||u.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),c||!u.onChanges&&!u.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),c=!0),ii(t,u),r+=u.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||mr(e)?null:gi(n,i);o.push(u),s=ei(n,c,s),a=ei(t.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n),oi(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=$e(n.mergedAttrs,n.attrs),i}function ii(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function oi(t,e,n){for(let r=0;r<n;r++)e.push(Ar),t.blueprint.push(Ar),t.data.push(null)}function si(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ai(t,e,n){const r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ci(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ui(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Bt(e)&&(n[""]=t)}}function li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Dt(n.type)),i=new Be(r,Bt(n),null);t.blueprint.push(i),e.push(i)}function fi(t,e,n){const r=Ht(e,t),i=Jr(n),o=t[10],s=_i(t,Vr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=s}function di(t,e,n,r,i,o){const s=Ht(t,e),a=e[11];if(null==r)Vt(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Ke(r):i(r,t.tagName||"",n);Vt(a)?a.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}function pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function bi(t,e){const n=Xt(e,t);if(Zt(n)){const t=n[1];80&n[2]?Wr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Tr(e);null!==r;r=xr(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Wr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Xt(n[r],e);Zt(i)&&i[5]>0&&t(i)}}(n)}}function yi(t,e){const n=Xt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),zr(r,n,n[8])}function _i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function vi(t){for(;t;){t[2]|=64;const e=Cr(t);if(Lt(t)&&!e)return t;t=e}return null}function wi(t,e,n){const r=e[10];r.begin&&r.begin();try{Wr(t,e,t.template,n)}catch(i){throw Ci(e,i),i}finally{r.end&&r.end()}}function Oi(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Yt(n),i=r[1];Hr(i,r,i.template,n)}}(t[8])}function Ei(t,e,n){ve(0),e(t,n)}const Si=(()=>Promise.resolve(null))();function Ai(t){return t[7]||(t[7]=[])}function Ci(t,e){const n=t[9],r=n?n.get(_n,null):null;r&&r.handleError(e)}function Ti(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=e[s],u=t.data[s];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function xi(t,e,n){const r=Wt(e,t),i=t[11];Vt(i)?i.setValue(r,n):r.textContent=n}function Ii(t,e){const n=e[3];return-1===t.index?Nt(n)?n:null:n}function Di(t,e){const n=Ii(t,e);return n?qi(e[11],n[7]):null}function ki(t,e,n,r,i){if(null!=r){let o,s=!1;Nt(r)?o=r:Pt(r)&&(s=!0,r=r[0]);const a=zt(r);0===t&&null!==n?null==i?$i(e,n,a):Fi(e,n,a,i||null):1===t&&null!==n?Fi(e,n,a,i||null):2===t?Ki(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==zt(n)&&ki(e,t,r,o,i);for(let s=10;s<n.length;s++){const i=n[s];Xi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Pi(t,e){return Vt(e)?e.createText(t):e.createTextNode(t)}function Ni(t,e,n,r){const i=Di(t.node,e);i&&Xi(t,e,e[11],n?1:2,i,r)}function Ri(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&ee(e[3],-1),n.splice(r,1)}function ji(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Ri(i,r),e>0&&(t[n-1][4]=r[4]);const o=lt(t,10+e);Ni(r[1],r,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Mi(t,e){if(!(256&e[2])){const n=e[11];Vt(n)&&n.destroyNode&&Xi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Li(t[1],t);for(;e;){let n=null;if(Pt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Pt(e)&&Li(e[1],e),e=Bi(e,t);null===e&&(e=t),Pt(e)&&Li(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bi(t,e){let n;return Pt(t)&&(n=t[6])&&2===n.type?Ii(n,t):t[3]===e?null:t[3]}function Li(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):zt(e[i]),s=t[n[r+2]],a=n[r+3];"boolean"==typeof a?o.removeEventListener(n[r],s,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Vt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Nt(e[3])){r!==e[3]&&Ri(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function Ui(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Di(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ht(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==mt.ShadowDom&&n!==mt.Native)return null}return Ht(r,n)}function Fi(t,e,n,r){Vt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function $i(t,e,n){Vt(t)?t.appendChild(e,n):e.appendChild(n)}function Vi(t,e,n,r){null!==r?Fi(t,e,n,r):$i(t,e,n)}function qi(t,e){return Vt(t)?t.parentNode(e):e.parentNode}function zi(t,e){if(2===t.type){const n=Ii(t,e);return null===n?null:Hi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Ht(t,e):null}function Wi(t,e,n,r){const i=Ui(t,r,e);if(null!=i){const t=e[11],o=zi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Vi(t,i,n[e],o);else Vi(t,i,n,o)}}function Hi(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Ht(n,e);if(0===r)return Hi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Nt(t)?Hi(-1,t):zt(t)}}{const r=e[16],i=r[6],o=Cr(r),s=i.projection[n.projection];return null!=s?t(o,s):t(e,n.next)}}return null}(t,r)}return e[7]}function Ki(t,e,n){const r=qi(t,e);r&&function(t,e,n,r){Vt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Gi(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;s&&0===e&&(a&&hr(zt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===c||5===c?(Gi(t,e,n.child,r,i,o,!1),ki(e,t,i,a,o)):1===c?Ji(t,e,r,n,i,o):ki(e,t,i,a,o)),n=s?n.projectionNext:n.next}}function Xi(t,e,n,r,i,o){Gi(n,r,t.node.child,e,i,o,!1)}function Yi(t,e,n){Ji(e[11],0,e,n,Ui(t,n,e),zi(n.parent||e[6],e))}function Ji(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)ki(e,t,i,a[c],o);else Gi(t,e,a,s[3],i,o,!0)}function Zi(t,e,n){Vt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Qi(t,e,n){Vt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class to{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(zt(s)),Nt(s))for(let e=10;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Cr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Mi(this._lView[1],this._lView)}onDestroy(t){Qr(this._lView[1],this._lView,null,t)}markForCheck(){vi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){fe(!0);try{wi(t,e,n)}finally{fe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Xi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class eo extends to{constructor(t){super(t),this._view=t}detectChanges(){Oi(this._view)}checkNoChanges(){!function(t){fe(!0);try{Oi(t)}finally{fe(!1)}}(this._view)}get context(){return null}}let no,ro,io;function oo(t,e,n){return no||(no=class extends t{}),new no(Ht(e,n))}function so(t,e,n,r){return ro||(ro=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),zr(e,n,t),new to(n)}}),0===n.type?new ro(r,n,oo(e,n,r)):null}function ao(t,e,n,r){let i;io||(io=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return oo(e,this._hostTNode,this._hostView)}get injector(){return new dn(this._hostTNode,this._hostView)}get parentInjector(){const t=rn(this._hostTNode,this._hostView),e=He(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=We(t),i=e,o=e[6];for(;r>1;)i=i[15],o=i[6],r--;return o}(t,this._hostView,this._hostTNode);return qe(t)&&null!=n?new dn(n,e):new dn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ot,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Nt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new io(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ut(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Ni(r,n,!0,Hi(i,this._lContainer)),t.attachToViewContainerRef(this),ut(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=ji(t,e);n&&Mi(n[1],n)}(this._lContainer,e),lt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=lt(this._lContainer[8],e)?new to(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Nt(o))i=o;else{let t;if(4===n.type)t=zt(o);else if(t=r[11].createComment(""),Lt(r)){const e=r[11],i=Ht(n,r);Fi(e,qi(e,i),t,function(t,e){return Vt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Wi(r[1],r,t,n);r[n.index]=i=mi(o,r,t,n),_i(r,i)}return new io(i,n,r)}function co(t=!1){return function(t,e,n){if(!n&&jt(t)){const n=Xt(t.index,e);return new to(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new to(e[16],e):null}(ae(),ie(),t)}let uo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>lo(),t})();const lo=co,ho=Function,fo=new W("Set Injector scope."),po={},go={},mo=[];let bo=void 0;function yo(){return void 0===bo&&(bo=new it),bo}function _o(t,e=null,n=null,r){return new vo(t,n,e||yo(),r)}class vo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&ct(e,n=>this.processProvider(n,t,e)),ct([t],t=>this.processInjectorType(t,[],i)),this.records.set(H,Eo(void 0,this));const o=this.records.get(fo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:T(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=K,n=p.Default){this.assertNotDestroyed();const r=Z(this);try{if(!(n&p.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof W)&&_(t);e=n&&this.injectableDefInScope(n)?Eo(wo(t),po):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&p.Self?yo():this.parent).get(t,e=n&p.Optional&&e===K?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(T(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=T(e);if(Array.isArray(e))i=e.map(T).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):T(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(G,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Z(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(T(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=k(t)))return!1;let r=w(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=w(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{ct(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];ct(r,t=>this.processProvider(t,n,r||mo))}}this.injectorDefTypes.add(o),this.records.set(o,Eo(r.factory,po));const a=r.providers;if(null!=a&&!s){const e=t;ct(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ao(t=k(t))?t:k(t&&t.provide);const i=function(t,e,n){return So(t)?Eo(void 0,t.useValue):Eo(Oo(t,e,n),po)}(t,e,n);if(Ao(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&dr()}else{let e=this.records.get(r);e?void 0===e.multi&&dr():(e=Eo(void 0,po,!0),e.factory=()=>rt(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===go?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(T(t)):e.value===po&&(e.value=go,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function wo(t){const e=_(t),n=null!==e?e.factory:Dt(t);if(null!==n)return n;const r=w(t);if(null!==r)return r.factory;if(t instanceof W)throw new Error(`Token ${T(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=ht(e,"?");throw new Error(`Can't resolve all parameters for ${T(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[A]||t[S]&&t[S]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Oo(t,e,n){let r=void 0;if(Ao(t)){const e=k(t);return Dt(e)||wo(e)}if(So(t))r=()=>k(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...rt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>et(k(t.useExisting));else{const i=k(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${T(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Dt(i)||wo(i);r=()=>new i(...rt(t.deps))}var i;return r}function Eo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function So(t){return null!==t&&"object"==typeof t&&X in t}function Ao(t){return"function"==typeof t}const Co=function(t,e,n){return function(t,e=null,n=null,r){const i=_o(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let To=(()=>{class t{static create(t,e){return Array.isArray(t)?Co(t,e,""):Co(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=K,t.NULL=new it,t.\u0275prov=b({token:t,providedIn:"any",factory:()=>et(H)}),t.__NG_ELEMENT_ID__=-1,t})();const xo=new W("AnalyzeForEntryComponents");function Io(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=x(i,t):2==o&&(r=x(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let Do=null;function ko(){if(!Do){const t=B.Symbol;if(t&&t.iterator)Do=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Do=n)}}}return Do}class Po{constructor(t){this.wrapped=t}static wrap(t){return new Po(t)}static unwrap(t){return Po.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Po}}function No(t){return!!Ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&ko()in t)}function Ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function jo(t,e,n){return t[e]=n}function Mo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bo(t,e,n,r){const i=Mo(t,e,n);return Mo(t,e+1,r)||i}function Lo(t,e,n,r){const i=ie();return Mo(i,ge(),e)&&(oe(),di(De(),i,t,e,n,r)),Lo}function Uo(t,e,n,r){return Mo(t,ge(),n)?e+Ke(n)+r:Ar}function Fo(t,e,n,r,i,o,s,a,c,u){const l=function(t,e,n,r,i,o){const s=Bo(t,e,n,r);return Bo(t,e+2,i,o)||s}(t,pe(),n,i,s,c);return me(4),l?e+Ke(n)+r+Ke(i)+o+Ke(s)+a+Ke(c)+u:Ar}function $o(t,e,n,r,i,o,s,a){const c=ie(),u=oe(),l=t+20,h=u.firstCreatePass?function(t,e,n,r,i,o,s,a,c){const u=e.consts,l=qr(e,n[6],t,0,s||null,Qt(u,a));ri(e,n,l,Qt(u,c)),ke(e,l);const h=l.tViews=Zr(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u),f=ti(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,u,c,e,n,r,i,o,s):u.data[l];ce(h,!1);const f=c[11].createComment("");Wi(u,c,f,h),hr(f,c),_i(c,c[l]=mi(f,c,f,h)),Mt(h)&&Xr(u,c,h),null!=s&&Yr(c,h,a)}function Vo(t){return Gt(ne.lFrame.contextLView,t)}function qo(t,e=p.Default){const n=ie();return null==n?et(t,e):sn(ae(),n,k(t),e)}function zo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ue(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(ae(),t)}function Wo(t,e,n){const r=ie();return Mo(r,ge(),e)&&ni(oe(),De(),r,t,e,r[11],n,!1),Wo}function Ho(t,e,n,r,i){const o=i?"class":"style";Ti(t,n,e.inputs[o],o,r)}function Ko(t,e,n,r){const i=ie(),o=oe(),s=20+t,a=i[11],c=i[s]=$r(e,a,ne.lFrame.currentNamespace),u=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,c=Qt(a,o),u=qr(e,n[6],t,3,i,c);return ri(e,n,u,Qt(a,s)),null!==u.attrs&&Io(u,u.attrs,!1),null!==u.mergedAttrs&&Io(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(t,o,i,0,e,n,r):o.data[s];ce(u,!0);const l=u.mergedAttrs;null!==l&&Le(a,c,l);const h=u.classes;null!==h&&Qi(a,c,h);const f=u.styles;null!==f&&Zi(a,c,f),Wi(o,i,c,u),0===ne.lFrame.elementDepthCount&&hr(c,i),ne.lFrame.elementDepthCount++,Mt(u)&&(Xr(o,i,u),Gr(o,u,i)),null!==r&&Yr(i,u)}function Go(){let t=ae();ue()?le():(t=t.parent,ce(t,!1));const e=t;ne.lFrame.elementDepthCount--;const n=oe();n.firstCreatePass&&(ke(n,t),Rt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ho(n,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ho(n,e,ie(),e.stylesWithoutHost,!1)}function Xo(t,e,n,r){Ko(t,e,n,r),Go()}function Yo(t,e,n){const r=ie(),i=oe(),o=t+20,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Qt(o,r),a=qr(e,n[6],t,4,"ng-container",s);return null!==s&&Io(a,s,!0),ri(e,n,a,Qt(o,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[o];ce(s,!0);const a=r[o]=r[11].createComment("");Wi(i,r,a,s),hr(a,r),Mt(s)&&(Xr(i,r,s),Gr(i,s,r)),null!=n&&Yr(r,s)}function Jo(){let t=ae();const e=oe();ue()?le():(t=t.parent,ce(t,!1)),e.firstCreatePass&&(ke(e,t),Rt(t)&&e.queries.elementEnd(t))}function Zo(){return ie()}function Qo(t){return!!t&&"function"==typeof t.then}function ts(t){return!!t&&"function"==typeof t.subscribe}function es(t,e,n=!1,r){const i=ie(),o=oe(),s=ae();return function(t,e,n,r,i,o,s=!1,a){const c=Mt(r),u=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ai(e);let h=!0;if(3===r.type){const f=Ht(r,e),d=a?a(f):bt,p=d.target||f,g=l.length,m=a?t=>a(zt(t[r.index])).target:r.index;if(Vt(n)){let s=null;if(!a&&c&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=rs(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),u&&u.push(i,m,g,g+1)}}else o=rs(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),u&&u.push(i,m,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),u&&u.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),es}function ns(t,e,n){try{return!1!==e(n)}catch(r){return Ci(t,r),!1}}function rs(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Xt(t.index,e):e;0==(32&e[2])&&vi(s);let a=ns(e,n,o),c=i.__ngNextListenerFn__;for(;c;)a=ns(e,c,o)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function is(t=1){return function(t){return(ne.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ne.lFrame.contextLView))[8]}(t)}function os(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?wr(t,o,!0):Or(r,o))return i}else n=i}return n}function ss(t){const e=ie()[16][6];if(!e.projection){const n=e.projection=ht(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?os(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let as=!1;function cs(t){as=t}function us(t,e=0,n){const r=ie(),i=oe(),o=qr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),le(),as||Yi(i,r,o)}function ls(t,e,n){return hs(t,"",e,"",n),ls}function hs(t,e,n,r,i){const o=ie(),s=Uo(o,e,n,r);return s!==Ar&&ni(oe(),De(),o,t,s,o[11],i,!1),hs}const fs=[];function ds(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?jr(o):Br(o),c=!1;for(;0!==a&&(!1===c||s);){const n=t[a+1];ps(t[a],e)&&(c=!0,t[a+1]=r?Ur(n):Mr(n)),a=r?jr(n):Br(n)}c&&(t[n+1]=r?Mr(o):Ur(o))}function ps(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pt(t,e)>=0}const gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ms(t){return t.substring(gs.key,gs.keyEnd)}function bs(t,e){const n=gs.textEnd;return n===e?-1:(e=gs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,gs.key=e,n),ys(t,e,n))}function ys(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function _s(t,e,n){return Es(t,e,n,!1),_s}function vs(t,e){return Es(t,e,null,!0),vs}function ws(t){Ss(ft,Os,t,!0)}function Os(t,e){for(let n=function(t){return function(t){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=t.length}(t),bs(t,ys(t,0,gs.textEnd))}(e);n>=0;n=bs(e,n))ft(t,ms(e),!0)}function Es(t,e,n,r){const i=ie(),o=oe(),s=me(2);o.firstUpdatePass&&Cs(o,t,s,r),e!==Ar&&Mo(i,s,e)&&Is(o,o.data[xe()+20],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=T(Cn(t)))),t}(e,n),r,s)}function Ss(t,e,n,r){const i=oe(),o=me(2);i.firstUpdatePass&&Cs(i,null,o,r);const s=ie();if(n!==Ar&&Mo(s,o,n)){const a=i.data[xe()+20];if(Ps(a,r)&&!As(i,o)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=x(t,n||"")),Ho(i,a,s,n,r)}else!function(t,e,n,r,i,o,s,a){i===Ar&&(i=fs);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=c<i.length?i[c+1]:void 0,d=u<o.length?o[u+1]:void 0;let p=null,g=void 0;l===h?(c+=2,u+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(c+=2,p=l):(u+=2,p=h,g=d),null!==p&&Is(t,e,n,r,p,g,s,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return fs;const r=[],i=Cn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function As(t,e){return e>=t.expandoStartIndex}function Cs(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[xe()+20],s=As(t,n);Ps(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ne.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=xs(n=Ts(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ts(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Br(r))return t[jr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ts(null,t,e,n[1],r),n=xs(n,e.attrs,r),function(t,e,n,r){t[jr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=xs(r,t[o].hostAttrs,n);return xs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=jr(s),c=Br(s);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||pt(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=jr(t[a+1]);t[r+1]=Rr(e,a),0!==e&&(t[e+1]=Lr(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Rr(a,0),0!==a&&(t[a+1]=Lr(t[a+1],r)),a=r;else t[r+1]=Rr(c,0),0===a?a=r:t[c+1]=Lr(t[c+1],r),c=r;l&&(t[r+1]=Mr(t[r+1])),ds(t,u,r,!0),ds(t,u,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&pt(o,e)>=0&&(n[r+1]=Ur(n[r+1]))}(e,u,t,r,o),s=Rr(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ts(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=xs(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function xs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ft(t,s,!!n||e[++o]))}return void 0===t?null:t}function Is(t,e,n,r,i,o,s,a){if(3!==e.type)return;const c=t.data,u=c[a+1];ks(1==(1&u)?Ds(c,e,n,i,Br(u),s):void 0)||(ks(o)||function(t){return 2==(2&t)}(u)&&(o=Ds(c,null,n,i,a,s)),function(t,e,n,r,i){const o=Vt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,e):n.style.removeProperty(r):o?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,s,Wt(xe(),n),i,o))}function Ds(t,e,n,r,i,o){const s=null===e;let a=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),c=o?e[1]:e,u=null===c;let l=n[i+1];l===Ar&&(l=u?fs:void 0);let h=u?dt(l,r):c===r?l:void 0;if(o&&!ks(h)&&(h=dt(e,r)),ks(h)&&(a=h,s))return a;const f=t[i+1];i=s?jr(f):Br(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=dt(t,r))}return a}function ks(t){return void 0!==t}function Ps(t,e){return 0!=(t.flags&(e?16:32))}function Ns(t,e=""){const n=ie(),r=oe(),i=t+20,o=r.firstCreatePass?qr(r,n[6],t,3,null,null):r.data[i],s=n[i]=Pi(e,n[11]);Wi(r,n,s,o),ce(o,!1)}function Rs(t){return js("",t,""),Rs}function js(t,e,n){const r=ie(),i=Uo(r,t,e,n);return i!==Ar&&xi(r,xe(),i),js}function Ms(t,e,n,r,i){const o=ie(),s=function(t,e,n,r,i,o){const s=Bo(t,pe(),n,i);return me(2),s?e+Ke(n)+r+Ke(i)+o:Ar}(o,t,e,n,r,i);return s!==Ar&&xi(o,xe(),s),Ms}function Bs(t,e,n,r,i,o,s,a,c){const u=ie(),l=Fo(u,t,e,n,r,i,o,s,a,c);return l!==Ar&&xi(u,xe(),l),Bs}function Ls(t,e,n){Ss(ft,Os,Uo(ie(),t,e,n),!0)}function Us(t,e,n,r,i,o,s,a,c){Ss(ft,Os,Fo(ie(),t,e,n,r,i,o,s,a,c),!0)}function Fs(t,e,n){const r=ie();return Mo(r,ge(),e)&&ni(oe(),De(),r,t,e,r[11],n,!0),Fs}function $s(t,e){const n=Yt(t)[1],r=n.data.length-1;ke(n,{directiveStart:r,directiveEnd:r+1})}function Vs(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(Bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=qs(t.inputs),e.declaredInputs=qs(t.declaredInputs),e.outputs=qs(t.outputs);const n=i.hostBindings;n&&Hs(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&zs(t,o),s&&Ws(t,s),m(t.inputs,i.inputs),m(t.declaredInputs,i.declaredInputs),m(t.outputs,i.outputs),Bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Vs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=$e(i.hostAttrs,n=$e(n,i.hostAttrs))}}(r)}function qs(t){return t===bt?{}:t===yt?[]:t}function zs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ws(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Hs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class Ks{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Gs(t){t.type.prototype.ngOnChanges&&(t.setInput=Xs,t.onChanges=function(){const t=Ys(this),e=t&&t.current;if(e){const n=t.previous;if(n===bt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function Xs(t,e,n,r){const i=Ys(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:bt,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new Ks(c&&c.currentValue,e,s===bt),t[r]=e}function Ys(t){return t.__ngSimpleChanges__||null}function Js(t,e,n,r,i){if(t=k(t),Array.isArray(t))for(let o=0;o<t.length;o++)Js(t[o],e,n,r,i);else{const o=oe(),s=ie();let a=Ao(t)?t:k(t.provide),c=Oo(t);const u=ae(),l=65535&u.providerIndexes,h=u.directiveStart,f=u.providerIndexes>>16;if(Ao(t)||!t.multi){const r=new Be(c,i,qo),d=ta(a,e,i?l:l+f,h);-1===d?(on(tn(u,s),o,a),Zs(o,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ta(a,e,l+f,h),p=ta(a,e,l,l+f),g=d>=0&&n[d],m=p>=0&&n[p];if(i&&!m||!i&&!g){on(tn(u,s),o,a);const l=function(t,e,n,r,i){const o=new Be(t,n,qo);return o.multi=[],o.index=e,o.componentProviders=0,Qs(o,i,r&&!n),o}(i?na:ea,n.length,i,r,c);!i&&m&&(n[p].providerFactory=l),Zs(o,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=65536),n.push(l),s.push(l)}else Zs(o,t,d>-1?d:p,Qs(n[i?p:d],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Zs(t,e,n,r){const i=Ao(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function Qs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ta(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ea(t,e,n,r){return ra(this.multi,[])}function na(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ln(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ra(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ra(i,o);return o}function ra(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ia(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=oe();if(r.firstCreatePass){const i=Bt(t);Js(n,r.data,r.blueprint,i,!0),Js(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}Gs.ngInherit=!0;class oa{}class sa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${T(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let aa=(()=>{class t{}return t.NULL=new sa,t})(),ca=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ua(t),t})();const ua=function(t){return oo(t,ae(),ie())};class la{}var ha=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>da(),t})();const da=function(){const t=ie(),e=Xt(ae().index,t);return function(t){const e=t[11];if(Vt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Pt(e)?e:t)};let pa=(()=>{class t{}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>null}),t})();class ga{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ma=new ga("10.0.3");class ba{constructor(){}supports(t){return No(t)}create(t){return new _a(t)}}const ya=(t,e)=>e;class _a{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ya}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ea(n,r,i)?e:n,s=Ea(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!No(t))throw new Error(`Error trying to diff '${T(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[ko()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new va(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Oa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class va{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Oa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new wa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ea(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Sa{constructor(){}supports(t){return t instanceof Map||Ro(t)}create(){return new Aa}}class Aa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ro(t)))throw new Error(`Error trying to diff '${T(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ca(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ca{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ta=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new ba])}),t})(),xa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new d,new h]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=b({token:t,providedIn:"root",factory:()=>new t([new Sa])}),t})();const Ia=[new Sa],Da=new Ta([new ba]),ka=new xa(Ia);let Pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Na(t,ca),t})();const Na=function(t,e){return so(t,e,ae(),ie())};let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ja(t,ca),t})();const ja=function(t,e){return ao(t,e,ae(),ie())},Ma={};class Ba extends aa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=It(t);return new Fa(e,this.ngModule)}}function La(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ua=new W("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Xe});class Fa extends oa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Sr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return La(this.componentDef.inputs)}get outputs(){return La(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,Ma,i);return o!==Ma||r===Ma?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(la,qt),s=i.get(pa,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(Vt(t))return t.selectRootElement(e,n===mt.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):$r(c,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Xe,clean:Si,playerHandler:null,flags:0},f=Zr(0,-1,null,1,0,null,null,null,null,null),d=Vr(null,f,h,l,null,null,o,a,s,i);let p,g;Oe(d,null);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=qr(s,null,0,3,null,null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Io(a,c,!0),null!==t&&(Le(i,t,c),null!==a.classes&&Qi(i,t,a.classes),null!==a.styles&&Zi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Vr(n,Jr(e),null,e.onPush?64:16,n[20],a,r,u,void 0);return s.firstCreatePass&&(on(tn(a,n),s,e.type),ci(s,a),li(a,n.length,1)),_i(n,l),n[20]=l}(u,this.componentDef,d,o,a);if(u)if(n)Le(a,u,["ng-version",ma.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!_r(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Le(a,u,t),e&&e.length>0&&Qi(a,u,e.join(" "))}if(g=Kt(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=ae();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ai(t,r,1),hi(t,e,n));const i=ln(e,t,e.length-1,r);hr(i,e);const o=Ht(r,e);return o&&hr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const a=ae();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Ie(a.index-20);const t=n[1];ii(t,e),oi(t,n,e.hostVars),si(e,s)}return s}(t,this.componentDef,d,h,[$s]),zr(f,d,null)}finally{Te()}const m=new $a(this.componentType,p,oo(ca,g,d),d,g);return f.node.child=g,m}}class $a extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new eo(r),function(t,e,n,r){let i=t.node;null==i&&(t.node=i=ti(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new dn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const Va=void 0;var qa=["en",[["a","p"],["AM","PM"],Va],[["AM","PM"],Va,Va],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Va,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Va,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Va,"{1} 'at' {0}",Va],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let za={};function Wa(t,e,n){"string"!=typeof e&&(n=e,e=t[Ya.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),za[e]=t,n&&(za[e][Ya.ExtraData]=n)}function Ha(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Xa(e);if(n)return n;const r=e.split("-")[0];if(n=Xa(r),n)return n;if("en"===r)return qa;throw new Error(`Missing locale data for the locale "${t}".`)}function Ka(t){return Ha(t)[Ya.CurrencyCode]||null}function Ga(t){return Ha(t)[Ya.PluralCase]}function Xa(t){return t in za||(za[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),za[t]}var Ya=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const Ja=["zero","one","two","few","many"],Za=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qa=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,tc=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,ec=/\ufffd(\d+):?\d*\ufffd/gi,nc=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function rc(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Za.test(n)?r.push(ic(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function ic(t){const e=[],n=[];let r=1,i=0;const o=rc(t=t.replace(Za,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=rc(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function oc(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Qa.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function sc(t,e,n,r=null){const i=[null,null],o=t.split(ec);let s=0;for(let a=0;a<o.length;a++){const t=o[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),s|=lc(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=s,i[1]=i.length-2,i}function ac(t,e=0){let n;e|=lc(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=ec.exec(r);)e|=lc(parseInt(n[1],10));else e=ac(r,e)}}return e}const cc=[];let uc=-1;function lc(t){return 1<<Math.min(t,31)}const hc=[];let fc;function dc(t){return t+fc++}function pc(t,e,n,r,i){const o=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let s=e.next;for(;s;)s.next===e&&(s.next=o),s=s.next;if(1===e.type)return Yi(t,i,e),e;Wi(t,i,Ht(e,i),e);const a=i[e.index];return 0!==e.type&&Nt(a)&&Wi(t,i,a[7],e),e}function gc(t){return void 0===t}function mc(t,e,n,r,i,o){const s=ae();e[n+20]=i;const a=qr(t,e[6],n,r,o,null);return s&&s.next===a&&(s.next=null),a}function bc(t,e,n,r){const i=r[11];let o=null,s=null;const a=[];for(let c=0;c<e.length;c++){const u=e[c];if("string"==typeof u){const t=Pi(u,i),l=e[++c];s=o,o=mc(n,r,l,3,t,null),a.push(l),le()}else if("number"==typeof u)switch(7&u){case 1:const i=u>>>17;let l;l=i===t?r[6]:Kt(n,i),s=pc(n,o,l,s,r);break;case 0:const h=u>=0,f=(h?u:~u)>>>3;a.push(f),s=o,o=Kt(n,f),o&&ce(o,h);break;case 5:s=o=Kt(n,u>>>3),ce(o,!1);break;case 4:const d=e[++c],p=e[++c];di(Kt(n,u>>>3),r,d,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}else switch(u){case Nr:const t=e[++c],l=e[++c],h=i.createComment(t);s=o,o=mc(n,r,l,5,h,null),a.push(l),hr(h,r),o.activeCaseIndex=null,le();break;case Pr:const f=e[++c],d=e[++c];s=o,o=mc(n,r,d,3,i.createElement(f),f),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${u}"`)}}return le(),a}function yc(t,e,n,r){const i=Kt(t,n),o=Wt(n,e);o&&Ki(e[11],o);const s=Gt(e,n);if(Nt(s)){const t=s;0!==i.type&&Ki(e[11],t[7])}r&&(i.flags|=64)}function _c(t,e,n){(function(t,e,n){const r=oe();cc[++uc]=t,cs(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){const o=e.blueprint.length-20;fc=0;const s=ae(),a=ue()?s:s&&s.parent;let c=a&&a!==t[6]?a.index-20:n,u=0;hc[u]=c;const l=[];if(n>0&&s!==a){let t=s.index-20;ue()||(t=~t),l.push(t<<3|0)}const h=[],f=[];if(""===r&&gc(i))l.push(r,dc(o),c<<17|1);else{const t=function(t,e){if(gc(e))return oc(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return oc(t.substring(n,r))}}(r,i),e=(d=t,d.replace(Ic," ")).split(tc);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);c=hc[--u],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,c<<17|1),e&&(hc[++u]=c=t)}else{const e=rc(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=dc(o);l.push(Nr,"",i,c<<17|1);const s=ac(r);Cc(f,r,i,i);const a=f.length-1;h.push(lc(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,s,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(ec),i=dc(o);l.push(r?"":t,i,c<<17|1),r&&at(sc(t,i),h)}}}}var d;fc>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,fc),e.data[n+20]={vars:fc,create:l,update:h,icus:f.length?f:null}}(ie(),r,t,e,n)})(t,e,n),function(){const t=ie();!function(t,e){const n=cc[uc--],r=t.data[n+20],i=ae(),o=bc(n,r.create,t,e);let s=n+1;for(;s<=i.index-20;){-1===o.indexOf(s)&&yc(t,e,s,!0);const n=Kt(t,s);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(s+=n.localNames.length>>1),s++}}(oe(),t),cs(!1)}()}function vc(t,e){!function(t,e,n,r){const i=ae().index-20,o=[];for(let s=0;s<r.length;s+=2){const a=r[s],c=r[s+1].split(nc);for(let r=0;r<c.length;r++){const s=c[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==s)if(s.match(ec))e.firstCreatePass&&null===e.data[n+20]&&at(sc(s,i,a),o);else{const n=Kt(e,i);3===n.type&&di(n,t,a,s,null,null);const r=null!==n.inputs&&n.inputs[a];r&&Ti(e,t,r,a,s)}}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=o)}(ie(),oe(),t,e)}let wc=0,Oc=0;function Ec(t){return Mo(ie(),ge(),t)&&(wc|=1<<Oc),Oc++,Ec}function Sc(t){if(Oc){const e=oe(),n=e.data[t+20];let r,i=null;Array.isArray(n)?r=n:(r=n.update,i=n.icus);const o=pe()-Oc-1,s=ie();!function t(e,n,r,i,o,s,a=!1){let c=!1;for(let u=0;u<e.length;u++){const l=e[u],h=e[++u];if(a||l&i){let a="";for(let l=u+1;l<=u+h;l++){const u=e[l];if("string"==typeof u)a+=u;else if("number"==typeof u)if(u<0)a+=Ke(s[r-u]);else{const h=u>>>2;let f,d,p;switch(3&u){case 1:const u=e[++l],g=e[++l];ni(o,Kt(o,h),s,u,a,s[11],g,!1);break;case 0:xi(s,h,a);break;case 2:if(f=e[++l],d=n[f],p=Kt(o,h),null!==p.activeCaseIndex){const t=d.remove[p.activeCaseIndex];for(let e=0;e<t.length;e++){const r=t[e];switch(7&r){case 3:yc(o,s,r>>>3,!1);break;case 6:const i=Kt(o,t[e+1]>>>3).activeCaseIndex;null!==i&&at(n[r>>>3].remove[i],t)}}}const m=Ac(d,a);p.activeCaseIndex=-1!==m?m:null,m>-1&&(bc(-1,d.create[m],o,s),c=!0);break;case 3:f=e[++l],d=n[f],p=Kt(o,h),null!==p.activeCaseIndex&&t(d.update[p.activeCaseIndex],n,r,i,o,s,c)}}}}u+=h}}(r,i,o,wc,e,s),wc=0,Oc=0}}function Ac(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=Ga(e)(parseInt(t,10)),r=Ja[n];return void 0!==r?r:"other"}(e,Dc);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}function Cc(t,e,n,r){const i=[],o=[],s=[],a=[],c=[];for(let u=0;u<e.values.length;u++){const l=e.values[u],h=[];for(let t=0;t<l.length;t++){const e=l[t];if("string"!=typeof e){const n=h.push(e)-1;l[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}const f=Tc(l.join(""),n,h,t,r);i.push(f.create),o.push(f.remove),s.push(f.update),a.push(f.vars),c.push(f.childIcus)}t.push({type:e.type,vars:a,childIcus:c,cases:e.cases,create:i,remove:o,update:s}),fc+=Math.max(...a)}function Tc(t,e,n,r,i){const o=Ln($t()).getInertBodyElement(t);if(!o)throw new Error("Unable to generate inert body element");const s={vars:0,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,o,s){if(e){const a=[];for(;e;){const c=e.nextSibling,u=s+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const c=e,l=c.tagName.toLowerCase();if(Jn.hasOwnProperty(l)){n.create.push(Pr,l,u,r<<17|1);const a=c.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(ec)?tr.hasOwnProperty(r)&&at(Zn[r]?sc(e.value,u,e.name,qn):Qn[r]?sc(e.value,u,e.name,zn):sc(e.value,u,e.name),n.update):n.create.push(u<<3|4,e.name,e.value)}t(e.firstChild,n,u,i,o,s),n.remove.push(u<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",f=h.match(ec);n.create.push(f?"":h,u,r<<17|1),n.remove.push(u<<3|3),f&&at(sc(h,u),n.update);break;case Node.COMMENT_NODE:const d=xc.exec(e.textContent||"");if(d){const t=parseInt(d[1],10);n.create.push(Nr,"",u,r<<17|1),a.push([i[t],u])}else n.vars--;break;default:n.vars--}e=c}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Cc(o,e,r,s+n.vars);const i=o.length-1;n.vars+=Math.max(...o[i].vars),n.childIcus.push(i);const c=ac(e);n.update.push(lc(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,c,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((cr(o)||o).firstChild,s,e,n,r,i),s}const xc=/\ufffd(\d+)\ufffd/,Ic=/\uE500/g;let Dc="en-US";function kc(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Dc=t.toLowerCase().replace(/_/g,"-"))}const Pc=new Map;class Nc extends ot{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ba(this);const n=kt(t),r=t[V]||null;r&&kc(r),this._bootstrapComponents=Ye(n.bootstrap),this._r3Injector=_o(t,e,[{provide:ot,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],T(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=To.THROW_IF_NOT_FOUND,n=p.Default){return t===To||t===ot||t===H?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Rc extends st{constructor(t){super(),this.moduleType=t,null!==kt(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${T(e)} vs ${T(e.name)}`)})(t,Pc.get(t),e),Pc.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Nc(this.moduleType,t)}}function jc(t,e,n){const r=de()+t,i=ie();return i[r]===Ar?jo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Mc(t,e,n,r){return Fc(ie(),de(),t,e,n,r)}function Bc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const a=e+n;return Bo(t,a,i,o)?jo(t,a+2,s?r.call(s,i,o):r(i,o)):Uc(t,a+2)}(ie(),de(),t,e,n,r,i)}function Lc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,a){const c=e+n;return function(t,e,n,r,i){const o=Bo(t,e,n,r);return Mo(t,e+2,i)||o}(t,c,i,o,s)?jo(t,c+3,a?r.call(a,i,o,s):r(i,o,s)):Uc(t,c+3)}(ie(),de(),t,e,n,r,i,o)}function Uc(t,e){const n=t[e];return n===Ar?void 0:n}function Fc(t,e,n,r,i,o){const s=e+n;return Mo(t,s,i)?jo(t,s+1,o?r.call(o,i):r(i)):Uc(t,s+1)}function $c(t,e){const n=oe();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Dt(r.type)),s=Q(qo),a=Ze(!1),c=o();return Ze(a),Q(s),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,ie(),t,c),c}function Vc(t,e,n){const r=ie(),i=Gt(r,t);return function(t,e){return Po.isWrapped(e)&&(e=Po.unwrap(e),t[pe()]=Ar),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?Fc(r,de(),e,i.transform,n,i):i.transform(n))}const qc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,o,s);return t instanceof i.a&&t.add(a),a}};function zc(){return this._results[ko()]()}class Wc{constructor(){this.dirty=!0,this._results=[],this.changes=new qc,this.length=0;const t=ko(),e=Wc.prototype;e[t]||(e[t]=zc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Hc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Kc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Kc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==lu(t,e).matches&&this.queries[e].setDirty()}}class Gc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Xc{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Xc(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Yc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Yc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Jc(e,n[r]))}else{const n=this.metadata.predicate;n===Pa?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,un(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ca||r===Ra||r===Pa&&0===e.type)this.addMatch(e.index,-2);else{const n=un(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Jc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Zc(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?oo(ca,t,e):0===t.type?so(Pa,ca,t,e):null}(e,t):-2===n?function(t,e,n){return n===ca?oo(ca,e,t):n===Pa?so(Pa,ca,e,t):n===Ra?ao(Ra,ca,e,t):void 0}(t,e,r):ln(t,t[1],n,e)}function Qc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Zc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function tu(t){const e=ie(),n=oe(),r=_e();ve(r+1);const i=lu(n,r);if(t.dirty&&Jt(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const a=Qc(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(a[e/2]);else{const o=s[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Qc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function eu(t,e,n){ru(oe(),ie(),t,e,n,!0)}function nu(t,e,n){ru(oe(),ie(),t,e,n,!1)}function ru(t,e,n,r,i,o){t.firstCreatePass&&(uu(t,new Gc(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),cu(t,e)}function iu(t,e,n,r){su(oe(),ie(),e,n,r,!1,ae(),t)}function ou(t,e,n,r){su(oe(),ie(),e,n,r,!0,ae(),t)}function su(t,e,n,r,i,o,s,a){t.firstCreatePass&&(uu(t,new Gc(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),o&&(t.staticContentQueries=!0)),cu(t,e)}function au(){return t=ie(),e=_e(),t[19].queries[e].queryList;var t,e}function cu(t,e){const n=new Wc;Qr(t,e,n,n.destroy),null===e[19]&&(e[19]=new Kc),e[19].queries.push(new Hc(n))}function uu(t,e,n){null===t.queries&&(t.queries=new Xc),t.queries.track(new Yc(e,n))}function lu(t,e){return t.queries.getByIndex(e)}function hu(t,e){return so(Pa,ca,t,e)}function fu(t=p.Default){const e=co(!0);if(null!=e||t&p.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const du=new W("Application Initializer");let pu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Qo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(et(du,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const gu=new W("AppId"),mu={provide:gu,useFactory:function(){return`${bu()}${bu()}${bu()}`},deps:[]};function bu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const yu=new W("Platform Initializer"),_u=new W("Platform ID"),vu=new W("appBootstrapListener");let wu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Ou=new W("LocaleId"),Eu=new W("DefaultCurrencyCode");class Su{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Au=function(t){return new Rc(t)},Cu=Au,Tu=function(t){return Promise.resolve(Au(t))},xu=function(t){const e=Au(t),n=Ye(kt(t).declarations).reduce((t,e)=>{const n=It(e);return n&&t.push(new Fa(n)),t},[]);return new Su(e,n)},Iu=xu,Du=function(t){return Promise.resolve(xu(t))};let ku=(()=>{class t{constructor(){this.compileModuleSync=Cu,this.compileModuleAsync=Tu,this.compileModuleAndAllComponentsSync=Iu,this.compileModuleAndAllComponentsAsync=Du}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();const Pu=(()=>Promise.resolve(0))();function Nu(t){"undefined"==typeof Zone?Pu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ru{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qc(!1),this.onMicrotaskEmpty=new qc(!1),this.onStable=new qc(!1),this.onError=new qc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Lu(t),Bu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Lu(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,a)=>{try{return Uu(t),n.invokeTask(i,o,s,a)}finally{e&&"eventTask"===o.type&&e(),Fu(t)}},onInvoke:(e,n,r,i,o,s,a)=>{try{return Uu(t),e.invoke(r,i,o,s,a)}finally{Fu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Lu(t),Bu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ru.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ru.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Mu,ju,ju);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ju(){}const Mu={};function Bu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Uu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Fu(t){t._nesting--,Bu(t)}class $u{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qc,this.onMicrotaskEmpty=new qc,this.onStable=new qc,this.onError=new qc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Vu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ru.assertNotInAngularZone(),Nu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(et(Ru))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})(),qu=(()=>{class t{constructor(){this._applications=new Map,Ku.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ku.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();class zu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wu(t){Ku=t}let Hu,Ku=new zu;const Gu=new W("AllowMultipleToken");class Xu{constructor(t,e){this.name=t,this.token=e}}function Yu(t,e,n=[]){const r=`Platform: ${e}`,i=new W(r);return(e=[])=>{let o=Ju();if(!o||o.injector.get(Gu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:fo,useValue:"platform"});!function(t){if(Hu&&!Hu.destroyed&&!Hu.injector.get(Gu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Hu=t.get(Zu);const e=t.get(yu,null);e&&e.forEach(t=>t())}(To.create({providers:t,name:r}))}return function(t){const e=Ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ju(){return Hu&&!Hu.destroyed?Hu:null}let Zu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new $u:("zone.js"===t?void 0:t)||new Ru({enableLongStackTrace:Mn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Ru,useValue:n}];return n.run(()=>{const e=To.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(_n,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>el(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return Qo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(pu);return t.runInitializers(),t.donePromise.then(()=>(kc(i.injector.get(Ou,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Qu({},e);return function(t,e,n){const r=new Rc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(tl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${T(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(et(To))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function Qu(t,e){return Array.isArray(e)?e.reduce(Qu,t):Object.assign(Object.assign({},t),e)}let tl=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Mn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const u=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Ru.assertNotInAngularZone(),Nu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Ru.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(u,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof oa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ot),i=n.create(To.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Vu,null);return o&&i.injector.get(qu).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Mn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;el(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(vu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),el(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(et(Ru),et(wu),et(To),et(_n),et(aa),et(pu))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function el(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class nl{}class rl{}const il={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ol=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||il}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>sl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>sl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(et(ku),et(rl,8))},t.\u0275prov=b({token:t,factory:t.\u0275fac}),t})();function sl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const al=function(t){return null},cl=Yu(null,"core",[{provide:_u,useValue:"unknown"},{provide:Zu,deps:[To]},{provide:qu,deps:[]},{provide:wu,deps:[]}]),ul=[{provide:tl,useClass:tl,deps:[Ru,wu,To,_n,aa,pu]},{provide:Ua,deps:[Ru],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:pu,useClass:pu,deps:[[new h,du]]},{provide:ku,useClass:ku,deps:[]},mu,{provide:Ta,useFactory:function(){return Da},deps:[]},{provide:xa,useFactory:function(){return ka},deps:[]},{provide:Ou,useFactory:function(t){return kc(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new l(Ou),new h,new d]]},{provide:Eu,useValue:"USD"}];let ll=(()=>{class t{constructor(t){}}return t.\u0275mod=St({type:t}),t.\u0275inj=y({factory:function(e){return new(e||t)(et(tl))},providers:ul}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jtHE:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("XNiG"),i=n("qgXg"),o=n("quSY"),s=n("pxpQ"),a=n("9ppp"),c=n("Ylt2");class u extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new l(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let u;if(this.closed)throw new a.a;if(this.isStopped||this.hasError?u=o.a.EMPTY:(this.observers.push(t),u=new c.a(this,t)),r&&t.add(t=new s.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),u}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class l{constructor(t,e){this.time=t,this.value=e}}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},"kVK+":function(t,e){e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=u}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+h>=1?f/c:f*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[n+d]=255&s,d+=p,s/=256,u-=8);t[n+d-p]|=128*g}},kt0X:function(t,e,n){"use strict";n.d(e,"a",(function(){return y})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return W})),n.d(e,"e",(function(){return z})),n.d(e,"f",(function(){return X})),n.d(e,"g",(function(){return Z})),n.d(e,"h",(function(){return nt})),n.d(e,"i",(function(){return Et})),n.d(e,"j",(function(){return St})),n.d(e,"k",(function(){return Ot})),n.d(e,"l",(function(){return H})),n.d(e,"m",(function(){return V})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return Pt})),n.d(e,"p",(function(){return kt})),n.d(e,"q",(function(){return g})),n.d(e,"r",(function(){return it}));var r=n("fXoL"),i=n("2Vo4"),o=n("HDdC"),s=n("XNiG"),a=n("qgXg"),c=n("pxpQ"),u=n("zp1y"),l=n("Kqap"),h=n("lJxs"),f=n("/uUt");let d={};function p(t,e){if(d[t]=(d[t]||0)+1,"function"==typeof e)return m(t,(...n)=>Object.assign(Object.assign({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return m(t,()=>({type:t}));case"props":return m(t,e=>Object.assign(Object.assign({},e),{type:t}));default:throw new Error("Unexpected config.")}}function g(){return{_as:"props",_p:void 0}}function m(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}const b="@ngrx/store/init";let y=(()=>{class t extends i.a{constructor(){super({type:b})}next(t){if("function"==typeof t)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===t)throw new TypeError("Actions must be objects");if(void 0===t.type)throw new TypeError("Actions must have a type property");super.next(t)}complete(){}ngOnDestroy(){super.complete()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const _=[y],v=new r.q("@ngrx/store Internal Root Guard"),w=new r.q("@ngrx/store Internal Initial State"),O=new r.q("@ngrx/store Initial State"),E=new r.q("@ngrx/store Reducer Factory"),S=new r.q("@ngrx/store Internal Reducer Factory Provider"),A=new r.q("@ngrx/store Initial Reducers"),C=new r.q("@ngrx/store Internal Initial Reducers"),T=new r.q("@ngrx/store Store Features"),x=new r.q("@ngrx/store Internal Store Reducers"),I=new r.q("@ngrx/store Internal Feature Reducers"),D=new r.q("@ngrx/store Internal Feature Configs"),k=new r.q("@ngrx/store Internal Store Features"),P=new r.q("@ngrx/store Internal Feature Reducers Token"),N=new r.q("@ngrx/store Feature Reducers"),R=new r.q("@ngrx/store User Provided Meta Reducers"),j=new r.q("@ngrx/store Meta Reducers"),M=new r.q("@ngrx/store Internal Resolved Meta Reducers"),B=new r.q("@ngrx/store User Runtime Checks Config"),L=new r.q("@ngrx/store Internal User Runtime Checks Config"),U=new r.q("@ngrx/store Internal Runtime Checks"),F=new r.q("@ngrx/store Check if Action types are unique");function $(t,e={}){const n=Object.keys(t),r={};for(let o=0;o<n.length;o++){const e=n[o];"function"==typeof t[e]&&(r[e]=t[e])}const i=Object.keys(r);return function(t,n){t=void 0===t?e:t;let o=!1;const s={};for(let e=0;e<i.length;e++){const a=i[e],c=t[a],u=(0,r[a])(c,n);s[a]=u,o=o||u!==c}return o?s:t}}function V(...t){return function(e){if(0===t.length)return e;const n=t[t.length-1];return t.slice(0,-1).reduceRight((t,e)=>e(t),n(e))}}function q(t,e){return Array.isArray(e)&&e.length>0&&(t=V.apply(null,[...e,t])),(e,n)=>{const r=t(e);return(t,e)=>r(t=void 0===t?n:t,e)}}class z extends o.a{}class W extends y{}const H="@ngrx/store/update-reducers";let K=(()=>{class t extends i.a{constructor(t,e,n,r){super(r(n,e)),this.dispatcher=t,this.initialState=e,this.reducers=n,this.reducerFactory=r}addFeature(t){this.addFeatures([t])}addFeatures(t){const e=t.reduce((t,{reducers:e,reducerFactory:n,metaReducers:r,initialState:i,key:o})=>{const s="function"==typeof e?function(t){const e=Array.isArray(t)&&t.length>0?V(...t):t=>t;return(t,n)=>(t=e(t),(e,r)=>t(e=void 0===e?n:e,r))}(r)(e,i):q(n,r)(e,i);return t[o]=s,t},{});this.addReducers(e)}removeFeature(t){this.removeFeatures([t])}removeFeatures(t){this.removeReducers(t.map(t=>t.key))}addReducer(t,e){this.addReducers({[t]:e})}addReducers(t){this.reducers=Object.assign(Object.assign({},this.reducers),t),this.updateReducers(Object.keys(t))}removeReducer(t){this.removeReducers([t])}removeReducers(t){t.forEach(t=>{var e,n;this.reducers=(e=this.reducers,n=t,Object.keys(e).filter(t=>t!==n).reduce((t,n)=>Object.assign(t,{[n]:e[n]}),{}))}),this.updateReducers(t)}updateReducers(t){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:H,features:t})}ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(W),r.Xb(O),r.Xb(A),r.Xb(E))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const G=[K,{provide:z,useExisting:K},{provide:W,useExisting:y}];let X=(()=>{class t extends s.a{ngOnDestroy(){this.complete()}}return t.\u0275fac=function(e){return Y(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Y=r.Rb(X),J=[X];class Z extends o.a{}let Q=(()=>{class t extends i.a{constructor(t,e,n,r){super(r);const i={state:r},o=t.pipe(Object(c.b)(a.a)).pipe(Object(u.a)(e)).pipe(Object(l.a)(tt,i));this.stateSubscription=o.subscribe(({state:t,action:e})=>{this.next(t),n.next(e)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(y),r.Xb(z),r.Xb(X),r.Xb(O))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t.INIT=b,t})();function tt(t={state:void 0},[e,n]){const{state:r}=t;return{state:n(r,e),action:e}}const et=[Q,{provide:Z,useExisting:Q}];let nt=(()=>{class t extends o.a{constructor(t,e,n){super(),this.actionsObserver=e,this.reducerManager=n,this.source=t}select(t,...e){return it.call(null,t,...e)(this)}lift(e){const n=new t(this,this.actionsObserver,this.reducerManager);return n.operator=e,n}dispatch(t){this.actionsObserver.next(t)}next(t){this.actionsObserver.next(t)}error(t){this.actionsObserver.error(t)}complete(){this.actionsObserver.complete()}addReducer(t,e){this.reducerManager.addReducer(t,e)}removeReducer(t){this.reducerManager.removeReducer(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Z),r.Xb(y),r.Xb(K))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const rt=[nt];function it(t,e,...n){return function(r){let i;if("string"==typeof t){const o=[e,...n].filter(Boolean);i=r.pipe(function(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(h.a)(function(t,e){return n=>{let r=n;for(let i=0;i<e;i++){const e=r[t[i]];if(void 0===e)return;r=e}return r}}(t,e))(n)}(t,...o))}else{if("function"!=typeof t)throw new TypeError(`Unexpected type '${typeof t}' in select operator,`+" expected 'string' or 'function'");i=r.pipe(Object(h.a)(n=>t(n,e)))}return i.pipe(Object(f.a)())}}const ot="https://ngrx.io/guide/store/configuration/runtime-checks";function st(t){return void 0===t}function at(t){return null===t}function ct(t){return Array.isArray(t)}function ut(t){return"object"==typeof t&&null!==t}function lt(t){return"function"==typeof t}function ht(t){Object.freeze(t);const e=lt(t);return Object.getOwnPropertyNames(t).forEach(n=>{if(!n.startsWith("\u0275")&&function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)&&(!e||"caller"!==n&&"callee"!==n&&"arguments"!==n)){const e=t[n];!ut(e)&&!lt(e)||Object.isFrozen(e)||ht(e)}}),t}function ft(t,e=[]){return(st(t)||at(t))&&0===e.length?{path:["root"],value:t}:Object.keys(t).reduce((n,r)=>{if(n)return n;const i=t[r];return function(t){return lt(t)&&t.hasOwnProperty("\u0275cmp")}(i)?n:!(st(i)||at(i)||function(t){return"number"==typeof t}(i)||function(t){return"boolean"==typeof t}(i)||function(t){return"string"==typeof t}(i)||ct(i))&&(function(t){if(!function(t){return ut(t)&&!ct(t)}(t))return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}(i)?ft(i,[...e,r]):{path:[...e,r],value:i})},!1)}function dt(t,e){if(!1===t)return;const n=t.path.join("."),r=new Error(`Detected unserializable ${e} at "${n}". ${ot}#strict${e}serializability`);throw r.value=t.value,r.unserializablePath=n,r}function pt(t){return Object(r.T)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function gt({strictActionSerializability:t,strictStateSerializability:e}){return n=>t||e?function(t,e){return function(n,r){e.action(r)&&dt(ft(r),"action");const i=t(n,r);return e.state()&&dt(ft(i),"state"),i}}(n,{action:e=>t&&!bt(e),state:()=>e}):n}function mt({strictActionImmutability:t,strictStateImmutability:e}){return n=>t||e?function(t,e){return function(n,r){const i=e.action(r)?ht(r):r,o=t(n,i);return e.state()?ht(o):o}}(n,{action:e=>t&&!bt(e),state:()=>e}):n}function bt(t){return t.type.startsWith("@ngrx")}function yt({strictActionWithinNgZone:t}){return e=>t?function(t,e){return function(n,i){if(e.action(i)&&!r.z.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${ot}#strictactionwithinngzone`);return t(n,i)}}(e,{action:e=>t&&!bt(e)}):e}function _t(){return[{provide:F,multi:!0,deps:[U],useFactory:wt}]}function vt(t){return t}function wt(t){if(!t.strictActionTypeUniqueness)return;const e=Object.entries(d).filter(([,t])=>t>1).map(([t])=>t);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(t=>`"${t}"`).join(", ")}. ${ot}#strictactiontypeuniqueness`)}let Ot=(()=>{class t{constructor(t,e,n,r,i,o){}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(y),r.Xb(z),r.Xb(X),r.Xb(nt),r.Xb(v,8),r.Xb(F,8))}}),t})(),Et=(()=>{class t{constructor(t,e,n,r,i){this.features=t,this.featureReducers=e,this.reducerManager=n;const o=t.map((t,n)=>{const r=e.shift()[n];return Object.assign(Object.assign({},t),{reducers:r,initialState:xt(t.initialState)})});n.addFeatures(o)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(k),r.Xb(N),r.Xb(K),r.Xb(Ot),r.Xb(F,8))}}),t})(),St=(()=>{class t{static forRoot(t,e={}){return{ngModule:Ot,providers:[{provide:v,useFactory:Dt,deps:[[nt,new r.A,new r.I]]},{provide:w,useValue:e.initialState},{provide:O,useFactory:xt,deps:[w]},{provide:C,useValue:t},{provide:x,useExisting:t instanceof r.q?t:C},{provide:A,deps:[r.r,C,[new r.p(x)]],useFactory:At},{provide:R,useValue:e.metaReducers?e.metaReducers:[]},{provide:M,deps:[j,R],useFactory:It},{provide:S,useValue:e.reducerFactory?e.reducerFactory:$},{provide:E,deps:[S,M],useFactory:q},_,G,J,et,rt,(n=e.runtimeChecks,[{provide:L,useValue:n},{provide:B,useFactory:vt,deps:[L]},{provide:U,deps:[B],useFactory:pt},{provide:j,multi:!0,deps:[U],useFactory:mt},{provide:j,multi:!0,deps:[U],useFactory:gt},{provide:j,multi:!0,deps:[U],useFactory:yt}]),_t()]};var n}static forFeature(t,e,n={}){return{ngModule:Et,providers:[{provide:D,multi:!0,useValue:n},{provide:T,multi:!0,useValue:{key:t,reducerFactory:n instanceof r.q||!n.reducerFactory?$:n.reducerFactory,metaReducers:n instanceof r.q||!n.metaReducers?[]:n.metaReducers,initialState:n instanceof r.q||!n.initialState?void 0:n.initialState}},{provide:k,deps:[r.r,D,T],useFactory:Ct},{provide:I,multi:!0,useValue:e},{provide:P,multi:!0,useExisting:e instanceof r.q?e:I},{provide:N,multi:!0,deps:[r.r,I,[new r.p(P)]],useFactory:Tt},_t()]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function At(t,e){return e instanceof r.q?t.get(e):e}function Ct(t,e,n){return n.map((n,i)=>{if(e[i]instanceof r.q){const r=t.get(e[i]);return{key:n.key,reducerFactory:r.reducerFactory?r.reducerFactory:$,metaReducers:r.metaReducers?r.metaReducers:[],initialState:r.initialState}}return n})}function Tt(t,e){return e.map(e=>e instanceof r.q?t.get(e):e)}function xt(t){return"function"==typeof t?t():t}function It(t,e){return t.concat(e)}function Dt(t){if(t)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function kt(...t){return{reducer:t.pop(),types:t.reduce((t,e)=>[...t,e.type],[])}}function Pt(t,...e){const n=new Map;for(let r of e)for(let t of r.types)if(n.has(t)){const e=n.get(t);n.set(t,(t,n)=>r.reducer(e(t,n),n))}else n.set(t,r.reducer);return function(e=t,r){const i=n.get(r.type);return i?i(e,r):e}}},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mlxB:function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",(function(){return r}))},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},no5z:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return bson_54}));var long__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("2lpH"),long__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(long__WEBPACK_IMPORTED_MODULE_0__),buffer__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("f6aa"),buffer__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(buffer__WEBPACK_IMPORTED_MODULE_1__),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var map=createCommonjsModule((function(t){if(void 0!==commonjsGlobal.Map)t.exports=commonjsGlobal.Map,t.exports.Map=commonjsGlobal.Map;else{var e=function(t){this._keys=[],this._values={};for(var e=0;e<t.length;e++)if(null!=t[e]){var n=t[e],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};e.prototype.clear=function(){this._keys=[],this._values={}},e.prototype.delete=function(t){var e=this._values[t];return null!=e&&(delete this._values[t],this._keys.splice(e.i,1),!0)},e.prototype.entries=function(){var t=this,e=0;return{next:function(){var n=t._keys[e++];return{value:void 0!==n?[n,t._values[n].v]:void 0,done:void 0===n}}}},e.prototype.forEach=function(t,e){e=e||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];t.call(e,this._values[r].v,r,e)}},e.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},e.prototype.has=function(t){return null!=this._values[t]},e.prototype.keys=function(){var t=this,e=0;return{next:function(){var n=t._keys[e++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},e.prototype.set=function(t,e){return this._values[t]?(this._values[t].v=e,this):(this._keys.push(t),this._values[t]={v:e,i:this._keys.length-1},this)},e.prototype.values=function(){var t=this,e=0;return{next:function(){var n=t._keys[e++];return{value:void 0!==n?t._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(e.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),t.exports=e}})),map_1=map.Map;long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},long__WEBPACK_IMPORTED_MODULE_0___default.a.fromExtendedJSON=function(t,e){var n=long__WEBPACK_IMPORTED_MODULE_0___default.a.fromString(t.$numberLong);return e&&e.relaxed?n.toNumber():n},Object.defineProperty(long__WEBPACK_IMPORTED_MODULE_0___default.a.prototype,"_bsontype",{value:"Long"});var long_1=long__WEBPACK_IMPORTED_MODULE_0___default.a;function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Double=function(){function t(e){_classCallCheck(this,t),this.value=e}return _createClass(t,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(t){return t&&t.relaxed&&isFinite(this.value)?this.value:{$numberDouble:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(e,n){return n&&n.relaxed?parseFloat(e.$numberDouble):new t(parseFloat(e.$numberDouble))}}]),t}();Object.defineProperty(Double.prototype,"_bsontype",{value:"Double"});var double_1=Double;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$1(t,e,n){return e&&_defineProperties$1(t.prototype,e),n&&_defineProperties$1(t,n),t}function _possibleConstructorReturn(t,e){return!e||"object"!==_typeof(e)&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var Timestamp=function(t){function e(t,n){var r;return _classCallCheck$1(this,e),r=long_1.isLong(t)?_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t.low,t.high)):_possibleConstructorReturn(this,_getPrototypeOf(e).call(this,t,n)),_possibleConstructorReturn(r)}return _inherits(e,t),_createClass$1(e,[{key:"toJSON",value:function(){return{$timestamp:this.toString()}}},{key:"toExtendedJSON",value:function(){return{$timestamp:{t:this.high,i:this.low}}}}],[{key:"fromInt",value:function(t){return new e(long_1.fromInt(t))}},{key:"fromNumber",value:function(t){return new e(long_1.fromNumber(t))}},{key:"fromBits",value:function(t,n){return new e(t,n)}},{key:"fromString",value:function(t,n){return new e(long_1.fromString(t,n))}},{key:"fromExtendedJSON",value:function(t){return new e(t.$timestamp.i,t.$timestamp.t)}}]),e}(long_1);Object.defineProperty(Timestamp.prototype,"_bsontype",{value:"Timestamp"});var timestamp=Timestamp,require$$0={};function normalizedFunctionString(t){return t.toString().replace("function(","function (")}function insecureRandomBytes(t){for(var e=new Uint8Array(t),n=0;n<t;++n)e[n]=Math.floor(256*Math.random());return e}var randomBytes=insecureRandomBytes;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)randomBytes=function(t){return window.crypto.getRandomValues(new Uint8Array(t))};else{try{randomBytes=require$$0.randomBytes}catch(e){}null==randomBytes&&(randomBytes=insecureRandomBytes)}var utils={normalizedFunctionString,randomBytes};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}var cachedSetTimeout=defaultSetTimout,cachedClearTimeout=defaultClearTimeout;function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch(e){try{return cachedSetTimeout.call(null,t,0)}catch(e){return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch(e){try{return cachedClearTimeout.call(null,t)}catch(e){return cachedClearTimeout.call(this,t)}}}"function"==typeof global.setTimeout&&(cachedSetTimeout=setTimeout),"function"==typeof global.clearTimeout&&(cachedClearTimeout=clearTimeout);var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}function nextTick(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];queue.push(new Item(t,e)),1!==queue.length||draining||runTimeout(drainQueue)}function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};var title="browser",platform="browser",browser=!0,env={},argv=[],version="",versions={},release={},config={};function noop(){}var on=noop,addListener=noop,once=noop,off=noop,removeListener=noop,removeAllListeners=noop,emit=noop;function binding(t){throw new Error("process.binding is not supported")}function cwd(){return"/"}function chdir(t){throw new Error("process.chdir is not supported")}function umask(){return 0}var performance=global.performance||{},performanceNow=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};function hrtime(t){var e=.001*performanceNow.call(performance),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]}var startTime=new Date;function uptime(){return(new Date-startTime)/1e3}var process={nextTick,title,browser,env,argv,version,versions,on,addListener,once,off,removeListener,removeAllListeners,emit,binding,cwd,chdir,umask,hrtime,platform,release,config,uptime},inherits;inherits="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var inherits$1=inherits;function _typeof$1(t){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var formatRegExp=/%[sdj%]/g;function format(t){if(!isString(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,o=String(t).replace(formatRegExp,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}})),s=r[n];n<i;s=r[++n])isNull(s)||!isObject(s)?o+=" "+s:o+=" "+inspect(s);return o}function deprecate(t,e){if(isUndefined(global.process))return function(){return deprecate(t,e).apply(this,arguments)};var n=!1;return function(){return n||(console.error(e),n=!0),t.apply(this,arguments)}}var debugs={},debugEnviron;function debuglog(t){return isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),t=t.toUpperCase(),debugs[t]||(debugs[t]=new RegExp("\\b"+t+"\\b","i").test(debugEnviron)?function(){var e=format.apply(null,arguments);console.error("%s %d: %s",t,0,e)}:function(){}),debugs[t]}function inspect(t,e){var n={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),isBoolean(e)?n.showHidden=e:e&&_extend(n,e),isUndefined(n.showHidden)&&(n.showHidden=!1),isUndefined(n.depth)&&(n.depth=2),isUndefined(n.colors)&&(n.colors=!1),isUndefined(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=stylizeWithColor),formatValue(n,t,n.depth)}function stylizeWithColor(t,e){var n=inspect.styles[e];return n?"\x1b["+inspect.colors[n][0]+"m"+t+"\x1b["+inspect.colors[n][1]+"m":t}function stylizeNoColor(t,e){return t}function arrayToHash(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}function formatValue(t,e,n){if(t.customInspect&&e&&isFunction(e.inspect)&&e.inspect!==inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return isString(r)||(r=formatValue(t,r,n)),r}var i=formatPrimitive(t,e);if(i)return i;var o=Object.keys(e),s=arrayToHash(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),isError(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(e);if(0===o.length){if(isFunction(e))return t.stylize("[Function"+(e.name?": "+e.name:"")+"]","special");if(isRegExp(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(isDate(e))return t.stylize(Date.prototype.toString.call(e),"date");if(isError(e))return formatError(e)}var a,c="",u=!1,l=["{","}"];return isArray(e)&&(u=!0,l=["[","]"]),isFunction(e)&&(c=" [Function"+(e.name?": "+e.name:"")+"]"),isRegExp(e)&&(c=" "+RegExp.prototype.toString.call(e)),isDate(e)&&(c=" "+Date.prototype.toUTCString.call(e)),isError(e)&&(c=" "+formatError(e)),0!==o.length||u&&0!=e.length?n<0?isRegExp(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special"):(t.seen.push(e),a=u?formatArray(t,e,n,s,o):o.map((function(r){return formatProperty(t,e,n,s,r,u)})),t.seen.pop(),reduceToSingleString(a,c,l)):l[0]+c+l[1]}function formatPrimitive(t,e){if(isUndefined(e))return t.stylize("undefined","undefined");if(isString(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return isNumber(e)?t.stylize(""+e,"number"):isBoolean(e)?t.stylize(""+e,"boolean"):isNull(e)?t.stylize("null","null"):void 0}function formatError(t){return"["+Error.prototype.toString.call(t)+"]"}function formatArray(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)hasOwnProperty(e,String(s))?o.push(formatProperty(t,e,n,r,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(formatProperty(t,e,n,r,i,!0))})),o}function formatProperty(t,e,n,r,i,o){var s,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=t.stylize(c.set?"[Getter/Setter]":"[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),hasOwnProperty(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=isNull(n)?formatValue(t,c.value,null):formatValue(t,c.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+a.split("\n").map((function(t){return"   "+t})).join("\n")):a=t.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function reduceToSingleString(t,e,n){return t.reduce((function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function isArray(t){return Array.isArray(t)}function isBoolean(t){return"boolean"==typeof t}function isNull(t){return null===t}function isNullOrUndefined(t){return null==t}function isNumber(t){return"number"==typeof t}function isString(t){return"string"==typeof t}function isSymbol(t){return"symbol"===_typeof$1(t)}function isUndefined(t){return void 0===t}function isRegExp(t){return isObject(t)&&"[object RegExp]"===objectToString(t)}function isObject(t){return"object"===_typeof$1(t)&&null!==t}function isDate(t){return isObject(t)&&"[object Date]"===objectToString(t)}function isError(t){return isObject(t)&&("[object Error]"===objectToString(t)||t instanceof Error)}function isFunction(t){return"function"==typeof t}function isPrimitive(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===_typeof$1(t)||void 0===t}function isBuffer(t){return Buffer.isBuffer(t)}function objectToString(t){return Object.prototype.toString.call(t)}function pad(t){return t<10?"0"+t.toString(10):t.toString(10)}inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function timestamp$1(){var t=new Date,e=[pad(t.getHours()),pad(t.getMinutes()),pad(t.getSeconds())].join(":");return[t.getDate(),months[t.getMonth()],e].join(" ")}function log(){console.log("%s - %s",timestamp$1(),format.apply(null,arguments))}function _extend(t,e){if(!e||!isObject(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function hasOwnProperty(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var util={inherits:inherits$1,_extend,log,isBuffer,isPrimitive,isFunction,isError,isDate,isObject,isRegExp,isUndefined,isSymbol,isString,isNumber,isNullOrUndefined,isNull,isBoolean,isArray,inspect,deprecate,format,debuglog};function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$2(t,e,n){return e&&_defineProperties$2(t.prototype,e),n&&_defineProperties$2(t,n),t}var Buffer$1=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,randomBytes$1=utils.randomBytes,deprecate$1=util.deprecate,PROCESS_UNIQUE=randomBytes$1(5),checkForHexRegExp=new RegExp("^[0-9a-fA-F]{24}$"),hasBufferType=!1;try{Buffer$1&&Buffer$1.from&&(hasBufferType=!0)}catch(err){hasBufferType=!1}for(var hexTable=[],_i=0;_i<256;_i++)hexTable[_i]=(_i<=15?"0":"")+_i.toString(16);for(var decodeLookup=[],i=0;i<10;)decodeLookup[48+i]=i++;for(;i<16;)decodeLookup[55+i]=decodeLookup[87+i]=i++;var _Buffer=Buffer$1;function convertToHex(t){return t.toString("hex")}function makeObjectIdError(t,e){var n=t[e];return new TypeError('ObjectId string "'.concat(t,'" contains invalid character "').concat(n,'" with character code (').concat(t.charCodeAt(e),"). All character codes for a non-hex string must be less than 256."))}var ObjectId=function(){function t(e){if(_classCallCheck$2(this,t),e instanceof t)return e;if(null==e||"number"==typeof e)return this.id=t.generate(e),void(t.cacheHexString&&(this.__id=this.toString("hex")));var n=t.isValid(e);if(!n&&null!=e)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"==typeof e&&24===e.length&&hasBufferType)return new t(Buffer$1.from(e,"hex"));if(n&&"string"==typeof e&&24===e.length)return t.createFromHexString(e);if(null==e||12!==e.length){if(null!=e&&e.toHexString)return t.createFromHexString(e.toHexString());throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=e,t.cacheHexString&&(this.__id=this.toString("hex"))}return _createClass$2(t,[{key:"toHexString",value:function(){if(t.cacheHexString&&this.__id)return this.__id;var e="";if(!this.id||!this.id.length)throw new TypeError("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof _Buffer)return e=convertToHex(this.id),t.cacheHexString&&(this.__id=e),e;for(var n=0;n<this.id.length;n++){var r=hexTable[this.id.charCodeAt(n)];if("string"!=typeof r)throw makeObjectIdError(this.id,n);e+=r}return t.cacheHexString&&(this.__id=e),e}},{key:"toString",value:function(t){return this.id&&this.id.copy?this.id.toString("string"==typeof t?t:"hex"):this.toHexString()}},{key:"toJSON",value:function(){return this.toHexString()}},{key:"equals",value:function(e){return e instanceof t?this.toString()===e.toString():"string"==typeof e&&t.isValid(e)&&12===e.length&&this.id instanceof _Buffer?e===this.id.toString("binary"):"string"==typeof e&&t.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&t.isValid(e)&&12===e.length?e===this.id:!(null==e||!(e instanceof t||e.toHexString))&&e.toHexString()===this.toHexString()}},{key:"getTimestamp",value:function(){var t=new Date,e=this.id.readUInt32BE(0);return t.setTime(1e3*Math.floor(e)),t}},{key:"toExtendedJSON",value:function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}}],[{key:"getInc",value:function(){return t.index=(t.index+1)%16777215}},{key:"generate",value:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3));var n=t.getInc(),r=Buffer$1.alloc(12);return r[3]=255&e,r[2]=e>>8&255,r[1]=e>>16&255,r[0]=e>>24&255,r[4]=PROCESS_UNIQUE[0],r[5]=PROCESS_UNIQUE[1],r[6]=PROCESS_UNIQUE[2],r[7]=PROCESS_UNIQUE[3],r[8]=PROCESS_UNIQUE[4],r[11]=255&n,r[10]=n>>8&255,r[9]=n>>16&255,r}},{key:"createPk",value:function(){return new t}},{key:"createFromTime",value:function(e){var n=Buffer$1.from([0,0,0,0,0,0,0,0,0,0,0,0]);return n[3]=255&e,n[2]=e>>8&255,n[1]=e>>16&255,n[0]=e>>24&255,new t(n)}},{key:"createFromHexString",value:function(e){if(void 0===e||null!=e&&24!==e.length)throw new TypeError("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(hasBufferType)return new t(Buffer$1.from(e,"hex"));for(var n=new _Buffer(12),r=0,i=0;i<24;)n[r++]=decodeLookup[e.charCodeAt(i++)]<<4|decodeLookup[e.charCodeAt(i++)];return new t(n)}},{key:"isValid",value:function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&checkForHexRegExp.test(e):e instanceof t||e instanceof _Buffer&&12===e.length||!!e.toHexString&&(12===e.id.length||24===e.id.length&&checkForHexRegExp.test(e.id))))}},{key:"fromExtendedJSON",value:function(e){return new t(e.$oid)}}]),t}();ObjectId.get_inc=deprecate$1((function(){return ObjectId.getInc()}),"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.get_inc=deprecate$1((function(){return ObjectId.getInc()}),"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.getInc=deprecate$1((function(){return ObjectId.getInc()}),"Please use the static `ObjectId.getInc()` instead"),ObjectId.prototype.generate=deprecate$1((function(t){return ObjectId.generate(t)}),"Please use the static `ObjectId.generate(time)` instead"),Object.defineProperty(ObjectId.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(t){this.id[3]=255&t,this.id[2]=t>>8&255,this.id[1]=t>>16&255,this.id[0]=t>>24&255}}),ObjectId.prototype[util.inspect.custom||"inspect"]=ObjectId.prototype.toString,ObjectId.index=~~(16777215*Math.random()),Object.defineProperty(ObjectId.prototype,"_bsontype",{value:"ObjectID"});var objectid=ObjectId;function _classCallCheck$3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$3(t,e,n){return e&&_defineProperties$3(t.prototype,e),n&&_defineProperties$3(t,n),t}function alphabetize(t){return t.split("").sort().join("")}var BSONRegExp=function(){function t(e,n){_classCallCheck$3(this,t),this.pattern=e||"",this.options=n?alphabetize(n):"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("The regular expression option [".concat(this.options[r],"] is not supported"))}return _createClass$3(t,[{key:"toExtendedJSON",value:function(){return{$regularExpression:{pattern:this.pattern,options:this.options}}}}],[{key:"fromExtendedJSON",value:function(e){return new t(e.$regularExpression.pattern,e.$regularExpression.options.split("").sort().join(""))}}]),t}();Object.defineProperty(BSONRegExp.prototype,"_bsontype",{value:"BSONRegExp"});var regexp=BSONRegExp;function _classCallCheck$4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$4(t,e,n){return e&&_defineProperties$4(t.prototype,e),n&&_defineProperties$4(t,n),t}var BSONSymbol=function(){function t(e){_classCallCheck$4(this,t),this.value=e}return _createClass$4(t,[{key:"valueOf",value:function(){return this.value}},{key:"toString",value:function(){return this.value}},{key:"inspect",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(){return{$symbol:this.value}}}],[{key:"fromExtendedJSON",value:function(e){return new t(e.$symbol)}}]),t}();Object.defineProperty(BSONSymbol.prototype,"_bsontype",{value:"Symbol"});var symbol=BSONSymbol;function _classCallCheck$5(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$5(t,e,n){return e&&_defineProperties$5(t.prototype,e),n&&_defineProperties$5(t,n),t}var Int32=function(){function t(e){_classCallCheck$5(this,t),this.value=e}return _createClass$5(t,[{key:"valueOf",value:function(){return this.value}},{key:"toJSON",value:function(){return this.value}},{key:"toExtendedJSON",value:function(t){return t&&t.relaxed?this.value:{$numberInt:this.value.toString()}}}],[{key:"fromExtendedJSON",value:function(e,n){return n&&n.relaxed?parseInt(e.$numberInt,10):new t(e.$numberInt)}}]),t}();Object.defineProperty(Int32.prototype,"_bsontype",{value:"Int32"});var int_32=Int32;function _classCallCheck$6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$6(t,e,n){return e&&_defineProperties$6(t.prototype,e),n&&_defineProperties$6(t,n),t}var Code=function(){function t(e,n){_classCallCheck$6(this,t),this.code=e,this.scope=n}return _createClass$6(t,[{key:"toJSON",value:function(){return{scope:this.scope,code:this.code}}},{key:"toExtendedJSON",value:function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}}],[{key:"fromExtendedJSON",value:function(e){return new t(e.$code,e.$scope)}}]),t}();Object.defineProperty(Code.prototype,"_bsontype",{value:"Code"});var code=Code,Buffer$2=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,PARSE_STRING_REGEXP=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,PARSE_INF_REGEXP=/^(\+|-)?(Infinity|inf)$/i,PARSE_NAN_REGEXP=/^(\+|-)?NaN$/i,EXPONENT_MAX=6111,EXPONENT_MIN=-6176,EXPONENT_BIAS=6176,MAX_DIGITS=34,NAN_BUFFER=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_NEGATIVE_BUFFER=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),INF_POSITIVE_BUFFER=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),EXPONENT_REGEX=/^([-+])?(\d+)?$/;function isDigit(t){return!isNaN(parseInt(t,10))}function divideu128(t){var e=long_1.fromNumber(1e9),n=long_1.fromNumber(0);if(!(t.parts[0]||t.parts[1]||t.parts[2]||t.parts[3]))return{quotient:t,rem:n};for(var r=0;r<=3;r++)n=(n=n.shiftLeft(32)).add(new long_1(t.parts[r],0)),t.parts[r]=n.div(e).low,n=n.modulo(e);return{quotient:t,rem:n}}function multiply64x2(t,e){if(!t&&!e)return{high:long_1.fromNumber(0),low:long_1.fromNumber(0)};var n=t.shiftRightUnsigned(32),r=new long_1(t.getLowBits(),0),i=e.shiftRightUnsigned(32),o=new long_1(e.getLowBits(),0),s=n.multiply(i),a=n.multiply(o),c=r.multiply(i),u=r.multiply(o);return s=s.add(a.shiftRightUnsigned(32)),a=new long_1(a.getLowBits(),0).add(c).add(u.shiftRightUnsigned(32)),{high:s=s.add(a.shiftRightUnsigned(32)),low:u=a.shiftLeft(32).add(new long_1(u.getLowBits(),0))}}function lessThan(t,e){var n=t.high>>>0,r=e.high>>>0;return n<r||n===r&&t.low>>>0<e.low>>>0}function invalidErr(t,e){throw new TypeError('"'.concat(t,'" is not a valid Decimal128 string - ').concat(e))}function Decimal128(t){this.bytes=t}Decimal128.fromString=function(t){var e,n=!1,r=!1,i=!1,o=0,s=0,a=0,c=0,u=0,l=[0],h=0,f=0,d=0,p=0,g=0,m=0,b=[0,0],y=[0,0],_=0;if(t.length>=7e3)throw new TypeError(t+" not a valid Decimal128 string");var v=t.match(PARSE_STRING_REGEXP),w=t.match(PARSE_INF_REGEXP),O=t.match(PARSE_NAN_REGEXP);if(!v&&!w&&!O||0===t.length)throw new TypeError(t+" not a valid Decimal128 string");if(v){var E=v[2],S=v[4],A=v[5],C=v[6];S&&void 0===C&&invalidErr(t,"missing exponent power"),S&&void 0===E&&invalidErr(t,"missing exponent base"),void 0===S&&(A||C)&&invalidErr(t,"missing e before exponent")}if("+"!==t[_]&&"-"!==t[_]||(n="-"===t[_++]),!isDigit(t[_])&&"."!==t[_]){if("i"===t[_]||"I"===t[_])return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));if("N"===t[_])return new Decimal128(Buffer$2.from(NAN_BUFFER))}for(;isDigit(t[_])||"."===t[_];)"."!==t[_]?(h<34&&("0"!==t[_]||i)&&(i||(u=s),i=!0,l[f++]=parseInt(t[_],10),h+=1),i&&(a+=1),r&&(c+=1),s+=1,_+=1):(r&&invalidErr(t,"contains multiple periods"),r=!0,_+=1);if(r&&!s)throw new TypeError(t+" not a valid Decimal128 string");if("e"===t[_]||"E"===t[_]){var T=t.substr(++_).match(EXPONENT_REGEX);if(!T||!T[2])return new Decimal128(Buffer$2.from(NAN_BUFFER));g=parseInt(T[0],10),_+=T[0].length}if(t[_])return new Decimal128(Buffer$2.from(NAN_BUFFER));if(d=0,h){if(p=h-1,1!==(o=a))for(;"0"===t[u+o-1];)o-=1}else d=0,p=0,l[0]=0,a=1,h=1,o=0;for(g<=c&&c-g>16384?g=EXPONENT_MIN:g-=c;g>EXPONENT_MAX;){if((p+=1)-d>MAX_DIGITS){if(l.join("").match(/^0+$/)){g=EXPONENT_MAX;break}invalidErr(t,"overflow")}g-=1}for(;g<EXPONENT_MIN||h<a;){if(0===p&&o<h){g=EXPONENT_MIN,o=0;break}if(h<a?a-=1:p-=1,g<EXPONENT_MAX)g+=1;else{if(l.join("").match(/^0+$/)){g=EXPONENT_MAX;break}invalidErr(t,"overflow")}}if(p-d+1<o){var x=s;r&&(u+=1,x+=1),n&&(u+=1,x+=1);var I=parseInt(t[u+p+1],10),D=0;if(I>=5&&(D=1,5===I))for(D=l[p]%2==1,m=u+p+2;m<x;m++)if(parseInt(t[m],10)){D=1;break}if(D)for(var k=p;k>=0;k--)if(++l[k]>9&&(l[k]=0,0===k)){if(!(g<EXPONENT_MAX))return new Decimal128(Buffer$2.from(n?INF_NEGATIVE_BUFFER:INF_POSITIVE_BUFFER));g+=1,l[k]=1}}if(b=long_1.fromNumber(0),y=long_1.fromNumber(0),0===o)b=long_1.fromNumber(0),y=long_1.fromNumber(0);else if(p-d<17){var P=d;for(y=long_1.fromNumber(l[P++]),b=new long_1(0,0);P<=p;P++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[P]))}else{var N=d;for(b=long_1.fromNumber(l[N++]);N<=p-17;N++)b=(b=b.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[N]));for(y=long_1.fromNumber(l[N++]);N<=p;N++)y=(y=y.multiply(long_1.fromNumber(10))).add(long_1.fromNumber(l[N]))}var R=multiply64x2(b,long_1.fromString("100000000000000000"));R.low=R.low.add(y),lessThan(R.low,y)&&(R.high=R.high.add(long_1.fromNumber(1))),e=g+EXPONENT_BIAS;var j={low:long_1.fromNumber(0),high:long_1.fromNumber(0)};R.high.shiftRightUnsigned(49).and(long_1.fromNumber(1)).equals(long_1.fromNumber(1))?(j.high=j.high.or(long_1.fromNumber(3).shiftLeft(61)),j.high=j.high.or(long_1.fromNumber(e).and(long_1.fromNumber(16383).shiftLeft(47))),j.high=j.high.or(R.high.and(long_1.fromNumber(0x7fffffffffff)))):(j.high=j.high.or(long_1.fromNumber(16383&e).shiftLeft(49)),j.high=j.high.or(R.high.and(long_1.fromNumber(562949953421311)))),j.low=R.low,n&&(j.high=j.high.or(long_1.fromString("9223372036854775808")));var M=Buffer$2.alloc(16);return _=0,M[_++]=255&j.low.low,M[_++]=j.low.low>>8&255,M[_++]=j.low.low>>16&255,M[_++]=j.low.low>>24&255,M[_++]=255&j.low.high,M[_++]=j.low.high>>8&255,M[_++]=j.low.high>>16&255,M[_++]=j.low.high>>24&255,M[_++]=255&j.high.low,M[_++]=j.high.low>>8&255,M[_++]=j.high.low>>16&255,M[_++]=j.high.low>>24&255,M[_++]=255&j.high.high,M[_++]=j.high.high>>8&255,M[_++]=j.high.high>>16&255,M[_++]=j.high.high>>24&255,new Decimal128(M)};var COMBINATION_MASK=31,EXPONENT_MASK=16383,COMBINATION_INFINITY=30,COMBINATION_NAN=31;Decimal128.prototype.toString=function(){for(var t,e,n,r,i,o,s=0,a=new Array(36),c=0;c<a.length;c++)a[c]=0;var u,l,h,f,d,p=0,g=!1,m={parts:new Array(4)},b=[];p=0;var y=this.bytes;if(r=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,n=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,e=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,t=y[p++]|y[p++]<<8|y[p++]<<16|y[p++]<<24,p=0,(new long_1(r,n),new long_1(e,t)).lessThan(long_1.ZERO)&&b.push("-"),(i=t>>26&COMBINATION_MASK)>>3==3){if(i===COMBINATION_INFINITY)return b.join("")+"Infinity";if(i===COMBINATION_NAN)return"NaN";o=t>>15&EXPONENT_MASK,h=8+(t>>14&1)}else h=t>>14&7,o=t>>17&EXPONENT_MASK;if(u=o-EXPONENT_BIAS,m.parts[0]=(16383&t)+((15&h)<<14),m.parts[1]=e,m.parts[2]=n,m.parts[3]=r,0===m.parts[0]&&0===m.parts[1]&&0===m.parts[2]&&0===m.parts[3])g=!0;else for(d=3;d>=0;d--){var _=0,v=divideu128(m);if(m=v.quotient,_=v.rem.low)for(f=8;f>=0;f--)a[9*d+f]=_%10,_=Math.floor(_/10)}if(g)s=1,a[p]=0;else for(s=36;!a[p];)s-=1,p+=1;if((l=s-1+u)>=34||l<=-7||u>0){if(s>34)return b.push(0),u>0?b.push("E+"+u):u<0&&b.push("E"+u),b.join("");b.push(a[p++]),(s-=1)&&b.push(".");for(var w=0;w<s;w++)b.push(a[p++]);b.push("E"),b.push(l>0?"+"+l:l)}else if(u>=0)for(var O=0;O<s;O++)b.push(a[p++]);else{var E=s+u;if(E>0)for(var S=0;S<E;S++)b.push(a[p++]);else b.push("0");for(b.push(".");E++<0;)b.push("0");for(var A=0;A<s-Math.max(E-1,0);A++)b.push(a[p++])}return b.join("")},Decimal128.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},Decimal128.fromExtendedJSON=function(t){return Decimal128.fromString(t.$numberDecimal)},Object.defineProperty(Decimal128.prototype,"_bsontype",{value:"Decimal128"});var decimal128=Decimal128;function _classCallCheck$7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$7(t,e,n){return e&&_defineProperties$7(t.prototype,e),n&&_defineProperties$7(t,n),t}var MinKey=function(){function t(){_classCallCheck$7(this,t)}return _createClass$7(t,[{key:"toExtendedJSON",value:function(){return{$minKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new t}}]),t}();Object.defineProperty(MinKey.prototype,"_bsontype",{value:"MinKey"});var min_key=MinKey;function _classCallCheck$8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$8(t,e,n){return e&&_defineProperties$8(t.prototype,e),n&&_defineProperties$8(t,n),t}var MaxKey=function(){function t(){_classCallCheck$8(this,t)}return _createClass$8(t,[{key:"toExtendedJSON",value:function(){return{$maxKey:1}}}],[{key:"fromExtendedJSON",value:function(){return new t}}]),t}();Object.defineProperty(MaxKey.prototype,"_bsontype",{value:"MaxKey"});var max_key=MaxKey;function _classCallCheck$9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$9(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$9(t,e,n){return e&&_defineProperties$9(t.prototype,e),n&&_defineProperties$9(t,n),t}var DBRef=function(){function t(e,n,r,i){_classCallCheck$9(this,t);var o=e.split(".");2===o.length&&(r=o.shift(),e=o.shift()),this.collection=e,this.oid=n,this.db=r,this.fields=i||{}}return _createClass$9(t,[{key:"toJSON",value:function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return null!=this.db&&(t.$db=this.db),t}},{key:"toExtendedJSON",value:function(){var t={$ref:this.collection,$id:this.oid};return this.db&&(t.$db=this.db),Object.assign(t,this.fields)}}],[{key:"fromExtendedJSON",value:function(e){var n=Object.assign({},e);return["$ref","$id","$db"].forEach((function(t){return delete n[t]})),new t(e.$ref,e.$id,e.$db,n)}}]),t}();Object.defineProperty(DBRef.prototype,"_bsontype",{value:"DBRef"}),Object.defineProperty(DBRef.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},configurable:!1});var db_ref=DBRef;function _classCallCheck$a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass$a(t,e,n){return e&&_defineProperties$a(t.prototype,e),n&&_defineProperties$a(t,n),t}var Buffer$3=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,Binary=function(){function t(e,n){if(_classCallCheck$a(this,t),!(null==e||"string"==typeof e||Buffer$3.isBuffer(e)||e instanceof Uint8Array||Array.isArray(e)))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");if(this.sub_type=null==n?BSON_BINARY_SUBTYPE_DEFAULT:n,this.position=0,null==e||e instanceof Number)this.buffer=void 0!==Buffer$3?Buffer$3.alloc(t.BUFFER_SIZE):"undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t.BUFFER_SIZE)):new Array(t.BUFFER_SIZE);else{if("string"==typeof e)if(void 0!==Buffer$3)this.buffer=Buffer$3.from(e);else{if("undefined"==typeof Uint8Array&&!Array.isArray(e))throw new TypeError("only String, Buffer, Uint8Array or Array accepted");this.buffer=writeStringToArray(e)}else this.buffer=e;this.position=e.length}}return _createClass$a(t,[{key:"put",value:function(e){if(null!=e.length&&"number"!=typeof e&&1!==e.length)throw new TypeError("only accepts single character String, Uint8Array or Array");if("number"!=typeof e&&e<0||e>255)throw new TypeError("only accepts number in a valid unsigned byte range 0-255");var n;if(n="string"==typeof e?e.charCodeAt(0):null!=e.length?e[0]:e,this.buffer.length>this.position)this.buffer[this.position++]=n;else if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)){var r=Buffer$3.alloc(t.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=n}else{var i=null;i=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(t.BUFFER_SIZE+this.buffer.length)):new Array(t.BUFFER_SIZE+this.buffer.length);for(var o=0;o<this.buffer.length;o++)i[o]=this.buffer[o];this.buffer=i,this.buffer[this.position++]=n}}},{key:"write",value:function(t,e){if(this.buffer.length<(e="number"==typeof e?e:this.position)+t.length){var n=null;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))n=Buffer$3.alloc(this.buffer.length+t.length),this.buffer.copy(n,0,0,this.buffer.length);else if(isUint8Array(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+t.length));for(var r=0;r<this.position;r++)n[r]=this.buffer[r]}this.buffer=n}if(void 0!==Buffer$3&&Buffer$3.isBuffer(t)&&Buffer$3.isBuffer(this.buffer))t.copy(this.buffer,e,0,t.length),this.position=e+t.length>this.position?e+t.length:this.position;else if(void 0!==Buffer$3&&"string"==typeof t&&Buffer$3.isBuffer(this.buffer))this.buffer.write(t,e,"binary"),this.position=e+t.length>this.position?e+t.length:this.position;else if(isUint8Array(t)||Array.isArray(t)&&"string"!=typeof t){for(var i=0;i<t.length;i++)this.buffer[e++]=t[i];this.position=e>this.position?e:this.position}else if("string"==typeof t){for(var o=0;o<t.length;o++)this.buffer[e++]=t.charCodeAt(o);this.position=e>this.position?e:this.position}}},{key:"read",value:function(t,e){if(e=e&&e>0?e:this.position,this.buffer.slice)return this.buffer.slice(t,t+e);for(var n="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e)):new Array(e),r=0;r<e;r++)n[r]=this.buffer[t++];return n}},{key:"value",value:function(t){if((t=null!=t&&t)&&void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==Buffer$3&&Buffer$3.isBuffer(this.buffer))return t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(t){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var e=isUint8Array(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)e[n]=this.buffer[n];return e}return convertArraytoUtf8BinaryString(this.buffer,0,this.position)}},{key:"length",value:function(){return this.position}},{key:"toJSON",value:function(){return null!=this.buffer?this.buffer.toString("base64"):""}},{key:"toString",value:function(t){return null!=this.buffer?this.buffer.slice(0,this.position).toString(t):""}},{key:"toExtendedJSON",value:function(){var t=Buffer$3.isBuffer(this.buffer)?this.buffer.toString("base64"):Buffer$3.from(this.buffer).toString("base64"),e=Number(this.sub_type).toString(16);return{$binary:{base64:t,subType:1===e.length?"0"+e:e}}}}],[{key:"fromExtendedJSON",value:function(e){var n=e.$binary.subType?parseInt(e.$binary.subType,16):0;return new t(Buffer$3.from(e.$binary.base64,"base64"),n)}}]),t}(),BSON_BINARY_SUBTYPE_DEFAULT=0;function isUint8Array(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)}function writeStringToArray(t){for(var e="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t.length)):new Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}function convertArraytoUtf8BinaryString(t,e,n){for(var r="",i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}Binary.BUFFER_SIZE=256,Binary.SUBTYPE_DEFAULT=0,Binary.SUBTYPE_FUNCTION=1,Binary.SUBTYPE_BYTE_ARRAY=2,Binary.SUBTYPE_UUID_OLD=3,Binary.SUBTYPE_UUID=4,Binary.SUBTYPE_MD5=5,Binary.SUBTYPE_USER_DEFINED=128,Object.defineProperty(Binary.prototype,"_bsontype",{value:"Binary"});var binary=Binary,constants={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,BSON_INT64_MAX:Math.pow(2,63)-1,BSON_INT64_MIN:-Math.pow(2,63),JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992,BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_DBPOINTER:12,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128};function _typeof$2(t){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var keysToCodecs={$oid:objectid,$binary:binary,$symbol:symbol,$numberInt:int_32,$numberDecimal:decimal128,$numberDouble:double_1,$numberLong:long_1,$minKey:min_key,$maxKey:max_key,$regularExpression:regexp,$timestamp:timestamp};function deserializeValue(t,e,n,r){if("number"==typeof n){if(r.relaxed)return n;if(Math.floor(n)===n){if(n>=BSON_INT32_MIN&&n<=BSON_INT32_MAX)return new int_32(n);if(n>=BSON_INT64_MIN&&n<=BSON_INT64_MAX)return new long_1.fromNumber(n)}return new double_1(n)}if(null==n||"object"!==_typeof$2(n))return n;if(n.$undefined)return null;for(var i=Object.keys(n).filter((function(t){return t.startsWith("$")&&null!=n[t]})),o=0;o<i.length;o++){var s=keysToCodecs[i[o]];if(s)return s.fromExtendedJSON(n,r)}if(null!=n.$date){var a=n.$date,c=new Date;return"string"==typeof a?c.setTime(Date.parse(a)):long_1.isLong(a)?c.setTime(a.toNumber()):"number"==typeof a&&r.relaxed&&c.setTime(a),c}if(null!=n.$code){var u=Object.assign({},n);return n.$scope&&(u.$scope=deserializeValue(t,null,n.$scope)),code.fromExtendedJSON(n)}if(null!=n.$ref||null!=n.$dbPointer){var l=n.$ref?n:n.$dbPointer;if(l instanceof db_ref)return l;var h=Object.keys(l).filter((function(t){return t.startsWith("$")})),f=!0;if(h.forEach((function(t){-1===["$ref","$id","$db"].indexOf(t)&&(f=!1)})),f)return db_ref.fromExtendedJSON(l)}return n}function parse(t,e){var n=this;return"boolean"==typeof(e=Object.assign({},{relaxed:!0},e)).relaxed&&(e.strict=!e.relaxed),"boolean"==typeof e.strict&&(e.relaxed=!e.strict),JSON.parse(t,(function(t,r){return deserializeValue(n,t,r,e)}))}var BSON_INT32_MAX=2147483647,BSON_INT32_MIN=-2147483648,BSON_INT64_MAX=0x8000000000000000,BSON_INT64_MIN=-0x8000000000000000;function stringify(t,e,n,r){null!=n&&"object"===_typeof$2(n)&&(r=n,n=0),null==e||"object"!==_typeof$2(e)||Array.isArray(e)||(r=e,e=null,n=0),r=Object.assign({},{relaxed:!0},r);var i=Array.isArray(t)?serializeArray(t,r):serializeDocument(t,r);return JSON.stringify(i,e,n)}function serialize(t,e){return e=e||{},JSON.parse(stringify(t,e))}function deserialize(t,e){return e=e||{},parse(JSON.stringify(t),e)}function serializeArray(t,e){return t.map((function(t){return serializeValue(t,e)}))}function getISOString(t){var e=t.toISOString();return 0!==t.getUTCMilliseconds()?e:e.slice(0,-5)+"Z"}function serializeValue(t,e){if(Array.isArray(t))return serializeArray(t,e);if(void 0===t)return null;if(t instanceof Date){var n=t.getTime();return e.relaxed&&n>-1&&n<2534023188e5?{$date:getISOString(t)}:{$date:{$numberLong:t.getTime().toString()}}}if("number"==typeof t&&!e.relaxed){if(Math.floor(t)===t){var r=t>=BSON_INT64_MIN&&t<=BSON_INT64_MAX;if(t>=BSON_INT32_MIN&&t<=BSON_INT32_MAX)return{$numberInt:t.toString()};if(r)return{$numberLong:t.toString()}}return{$numberDouble:t.toString()}}if(t instanceof RegExp){var i=t.flags;return void 0===i&&(i=t.toString().match(/[gimuy]*$/)[0]),new regexp(t.source,i).toExtendedJSON()}return null!=t&&"object"===_typeof$2(t)?serializeDocument(t,e):t}var BSON_TYPE_MAPPINGS={Binary:function(t){return new binary(t.value(),t.subtype)},Code:function(t){return new code(t.code,t.scope)},DBRef:function(t){return new db_ref(t.collection||t.namespace,t.oid,t.db,t.fields)},Decimal128:function(t){return new decimal128(t.bytes)},Double:function(t){return new double_1(t.value)},Int32:function(t){return new int_32(t.value)},Long:function(t){return long_1.fromBits(null!=t.low?t.low:t.low_,null!=t.low?t.high:t.high_,null!=t.low?t.unsigned:t.unsigned_)},MaxKey:function(){return new max_key},MinKey:function(){return new min_key},ObjectID:function(t){return new objectid(t)},ObjectId:function(t){return new objectid(t)},BSONRegExp:function(t){return new regexp(t.pattern,t.options)},Symbol:function(t){return new symbol(t.value)},Timestamp:function(t){return timestamp.fromBits(t.low,t.high)}};function serializeDocument(t,e){if(null==t||"object"!==_typeof$2(t))throw new Error("not an object instance");var n=t._bsontype;if(void 0===n){var r={};for(var i in t)r[i]=serializeValue(t[i],e);return r}if("string"==typeof n){var o=t;if("function"!=typeof o.toExtendedJSON){var s=BSON_TYPE_MAPPINGS[n];if(!s)throw new TypeError("Unrecognized or invalid _bsontype: "+n);o=s(o)}return"Code"===n&&o.scope?o=new code(o.code,serializeValue(o.scope,e)):"DBRef"===n&&o.oid&&(o=new db_ref(o.collection,serializeValue(o.oid,e),o.db,o.fields)),o.toExtendedJSON(e)}throw new Error("_bsontype must be a string, but was: "+_typeof$2(n))}var extended_json={parse,deserialize,serialize,stringify},FIRST_BIT=128,FIRST_TWO_BITS=192,FIRST_THREE_BITS=224,FIRST_FOUR_BITS=240,FIRST_FIVE_BITS=248,TWO_BIT_CHAR=192,THREE_BIT_CHAR=224,FOUR_BIT_CHAR=240,CONTINUING_CHAR=128;function validateUtf8(t,e,n){for(var r=0,i=e;i<n;i+=1){var o=t[i];if(r){if((o&FIRST_TWO_BITS)!==CONTINUING_CHAR)return!1;r-=1}else if(o&FIRST_BIT)if((o&FIRST_THREE_BITS)===TWO_BIT_CHAR)r=1;else if((o&FIRST_FOUR_BITS)===THREE_BIT_CHAR)r=2;else{if((o&FIRST_FIVE_BITS)!==FOUR_BIT_CHAR)return!1;r=3}}return!r}var validateUtf8_1=validateUtf8,validate_utf8={validateUtf8:validateUtf8_1},Buffer$4=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,validateUtf8$1=validate_utf8.validateUtf8,JS_INT_MAX_LONG=long_1.fromNumber(constants.JS_INT_MAX),JS_INT_MIN_LONG=long_1.fromNumber(constants.JS_INT_MIN),functionCache={};function deserialize$1(t,e,n){var r=(e=null==e?{}:e)&&e.index?e.index:0,i=t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24;if(i<5)throw new Error("bson size must be >= 5, is ".concat(i));if(e.allowObjectSmallerThanBufferSize&&t.length<i)throw new Error("buffer length ".concat(t.length," must be >= bson size ").concat(i));if(!e.allowObjectSmallerThanBufferSize&&t.length!==i)throw new Error("buffer length ".concat(t.length," must === bson size ").concat(i));if(i+r>t.length)throw new Error("(bson size ".concat(i," + options.index ").concat(r," must be <= buffer length ").concat(Buffer$4.byteLength(t),")"));if(0!==t[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(t,r,e,n)}function deserializeObject(t,e,n,r){var i=null!=n.evalFunctions&&n.evalFunctions,o=null!=n.cacheFunctions&&n.cacheFunctions,s=null!=n.cacheFunctionsCrc32&&n.cacheFunctionsCrc32;if(!s)var a=null;var c=null==n.fieldsAsRaw?null:n.fieldsAsRaw,u=null!=n.raw&&n.raw,l="boolean"==typeof n.bsonRegExp&&n.bsonRegExp,h=null!=n.promoteBuffers&&n.promoteBuffers,f=null==n.promoteLongs||n.promoteLongs,d=null==n.promoteValues||n.promoteValues,p=e;if(t.length<5)throw new Error("corrupt bson message < 5 bytes long");var g=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(g<5||g>t.length)throw new Error("corrupt bson message");for(var m=r?[]:{},b=0;;){var y=t[e++];if(0===y)break;for(var _=e;0!==t[_]&&_<t.length;)_++;if(_>=Buffer$4.byteLength(t))throw new Error("Bad BSON Document: illegal CString");var v=r?b++:t.toString("utf8",e,_);if(e=_+1,y===constants.BSON_DATA_STRING){var w=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(w<=0||w>t.length-e||0!==t[e+w-1])throw new Error("bad string length in bson");if(!validateUtf8$1(t,e,e+w-1))throw new Error("Invalid UTF-8 string in BSON document");var O=t.toString("utf8",e,e+w-1);m[v]=O,e+=w}else if(y===constants.BSON_DATA_OID){var E=Buffer$4.alloc(12);t.copy(E,0,e,e+12),m[v]=new objectid(E),e+=12}else if(y===constants.BSON_DATA_INT&&!1===d)m[v]=new int_32(t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24);else if(y===constants.BSON_DATA_INT)m[v]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;else if(y===constants.BSON_DATA_NUMBER&&!1===d)m[v]=new double_1(t.readDoubleLE(e)),e+=8;else if(y===constants.BSON_DATA_NUMBER)m[v]=t.readDoubleLE(e),e+=8;else if(y===constants.BSON_DATA_DATE){var S=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,A=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;m[v]=new Date(new long_1(S,A).toNumber())}else if(y===constants.BSON_DATA_BOOLEAN){if(0!==t[e]&&1!==t[e])throw new Error("illegal boolean type value");m[v]=1===t[e++]}else if(y===constants.BSON_DATA_OBJECT){var C=e,T=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24;if(T<=0||T>t.length-e)throw new Error("bad embedded document length in bson");m[v]=u?t.slice(e,e+T):deserializeObject(t,C,n,!1),e+=T}else if(y===constants.BSON_DATA_ARRAY){var x=e,I=t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,D=n,k=e+I;if(c&&c[v]){for(var P in D={},n)D[P]=n[P];D.raw=!0}if(m[v]=deserializeObject(t,x,D,!0),0!==t[(e+=I)-1])throw new Error("invalid array terminator byte");if(e!==k)throw new Error("corrupted array bson")}else if(y===constants.BSON_DATA_UNDEFINED)m[v]=void 0;else if(y===constants.BSON_DATA_NULL)m[v]=null;else if(y===constants.BSON_DATA_LONG){var N=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,R=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,j=new long_1(N,R);m[v]=f&&!0===d&&j.lessThanOrEqual(JS_INT_MAX_LONG)&&j.greaterThanOrEqual(JS_INT_MIN_LONG)?j.toNumber():j}else if(y===constants.BSON_DATA_DECIMAL128){var M=Buffer$4.alloc(16);t.copy(M,0,e,e+16),e+=16;var B=new decimal128(M);m[v]=B.toObject?B.toObject():B}else if(y===constants.BSON_DATA_BINARY){var L=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,U=L,F=t[e++];if(L<0)throw new Error("Negative binary type element size found");if(L>Buffer$4.byteLength(t))throw new Error("Binary type size larger than document size");if(null!=t.slice){if(F===binary.SUBTYPE_BYTE_ARRAY){if((L=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>U-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(L<U-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}m[v]=h&&d?t.slice(e,e+L):new binary(t.slice(e,e+L),F)}else{var $="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(L)):new Array(L);if(F===binary.SUBTYPE_BYTE_ARRAY){if((L=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(L>U-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(L<U-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(_=0;_<L;_++)$[_]=t[e+_];m[v]=h&&d?$:new binary($,F)}e+=L}else if(y===constants.BSON_DATA_REGEXP&&!1===l){for(_=e;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var V=t.toString("utf8",e,_);for(_=e=_+1;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var q=t.toString("utf8",e,_);e=_+1;var z=new Array(q.length);for(_=0;_<q.length;_++)switch(q[_]){case"m":z[_]="m";break;case"s":z[_]="g";break;case"i":z[_]="i"}m[v]=new RegExp(V,z.join(""))}else if(y===constants.BSON_DATA_REGEXP&&!0===l){for(_=e;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var W=t.toString("utf8",e,_);for(_=e=_+1;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var H=t.toString("utf8",e,_);e=_+1,m[v]=new regexp(W,H)}else if(y===constants.BSON_DATA_SYMBOL){var K=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(K<=0||K>t.length-e||0!==t[e+K-1])throw new Error("bad string length in bson");m[v]=t.toString("utf8",e,e+K-1),e+=K}else if(y===constants.BSON_DATA_TIMESTAMP){var G=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24,X=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;m[v]=new timestamp(G,X)}else if(y===constants.BSON_DATA_MIN_KEY)m[v]=new min_key;else if(y===constants.BSON_DATA_MAX_KEY)m[v]=new max_key;else if(y===constants.BSON_DATA_CODE){var Y=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(Y<=0||Y>t.length-e||0!==t[e+Y-1])throw new Error("bad string length in bson");var J=t.toString("utf8",e,e+Y-1);if(i)if(o){var Z=s?a(J):J;m[v]=isolateEvalWithHash(functionCache,Z,J,m)}else m[v]=isolateEval(J);else m[v]=new code(J);e+=Y}else if(y===constants.BSON_DATA_CODE_W_SCOPE){var Q=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(Q<13)throw new Error("code_w_scope total size shorter minimum expected length");var tt=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(tt<=0||tt>t.length-e||0!==t[e+tt-1])throw new Error("bad string length in bson");var et=t.toString("utf8",e,e+tt-1),nt=t[e+=tt]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24,rt=deserializeObject(t,e,n,!1);if(e+=nt,Q<8+nt+tt)throw new Error("code_w_scope total size is to short, truncating scope");if(Q>8+nt+tt)throw new Error("code_w_scope total size is to long, clips outer document");if(i){if(o){var it=s?a(et):et;m[v]=isolateEvalWithHash(functionCache,it,et,m)}else m[v]=isolateEval(et);m[v].scope=rt}else m[v]=new code(et,rt)}else{if(y!==constants.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+y.toString(16)+' for fieldname "'+v+'", are you using the latest BSON parser?');var ot=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;if(ot<=0||ot>t.length-e||0!==t[e+ot-1])throw new Error("bad string length in bson");if(!validateUtf8$1(t,e,e+ot-1))throw new Error("Invalid UTF-8 string in BSON document");var st=t.toString("utf8",e,e+ot-1);e+=ot;var at=Buffer$4.alloc(12);t.copy(at,0,e,e+12);var ct=new objectid(at);e+=12,m[v]=new db_ref(st,ct)}}if(g!==e-p){if(r)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}var ut=Object.keys(m).filter((function(t){return t.startsWith("$")})),lt=!0;if(ut.forEach((function(t){-1===["$ref","$id","$db"].indexOf(t)&&(lt=!1)})),!lt)return m;if(null!=m.$id&&null!=m.$ref){var ht=Object.assign({},m);return delete ht.$ref,delete ht.$id,delete ht.$db,new db_ref(m.$ref,m.$id,m.$db||null,ht)}return m}function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)}function isolateEval(functionString){var value=null;return eval("value = "+functionString),value}var deserializer=deserialize$1;function readIEEE754(t,e,n,r,i){var o,s,a="big"===n,c=8*i-r-1,u=(1<<c)-1,l=u>>1,h=-7,f=a?0:i-1,d=a?1:-1,p=t[e+f];for(f+=d,o=p&(1<<-h)-1,p>>=-h,h+=c;h>0;o=256*o+t[e+f],f+=d,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=r;h>0;s=256*s+t[e+f],f+=d,h-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)}function writeIEEE754(t,e,n,r,i,o){var s,a,c,u="big"===r,l=8*o-i-1,h=(1<<l)-1,f=h>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=u?o-1:0,g=u?-1:1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),(e+=s+f>=1?d/c:d*Math.pow(2,1-f))*c>=2&&(s++,c/=2),s+f>=h?(a=0,s=h):s+f>=1?(a=(e*c-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0)),isNaN(e)&&(a=0);i>=8;)t[n+p]=255&a,p+=g,a/=256,i-=8;for(s=s<<i|a,isNaN(e)&&(s+=8),l+=i;l>0;)t[n+p]=255&s,p+=g,s/=256,l-=8;t[n+p-g]|=128*m}var float_parser={readIEEE754,writeIEEE754};function _typeof$3(t){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Buffer$5=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,writeIEEE754$1=float_parser.writeIEEE754,normalizedFunctionString$1=utils.normalizedFunctionString,regexp$1=/\x00/,ignoreKeys=new Set(["$db","$ref","$id","$clusterTime"]),isDate$1=function(t){return"object"===_typeof$3(t)&&"[object Date]"===Object.prototype.toString.call(t)},isRegExp$1=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)};function serializeString(t,e,n,r,i){t[r++]=constants.BSON_DATA_STRING;var o=t.write(e,r,i?"ascii":"utf8");t[(r=r+o+1)-1]=0;var s=t.write(n,r+4,"utf8");return t[r+3]=s+1>>24&255,t[r+2]=s+1>>16&255,t[r+1]=s+1>>8&255,t[r]=s+1&255,r=r+4+s,t[r++]=0,r}function serializeNumber(t,e,n,r,i){if(Math.floor(n)===n&&n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)if(n>=constants.BSON_INT32_MIN&&n<=constants.BSON_INT32_MAX)t[r++]=constants.BSON_DATA_INT,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=n>>16&255,t[r++]=n>>24&255;else if(n>=constants.JS_INT_MIN&&n<=constants.JS_INT_MAX)t[r++]=constants.BSON_DATA_NUMBER,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,writeIEEE754$1(t,n,r,"little",52,8),r+=8;else{t[r++]=constants.BSON_DATA_LONG,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0;var o=long_1.fromNumber(n),s=o.getLowBits(),a=o.getHighBits();t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255}else t[r++]=constants.BSON_DATA_NUMBER,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,writeIEEE754$1(t,n,r,"little",52,8),r+=8;return r}function serializeNull(t,e,n,r,i){return t[r++]=constants.BSON_DATA_NULL,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,r}function serializeBoolean(t,e,n,r,i){return t[r++]=constants.BSON_DATA_BOOLEAN,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,t[r++]=n?1:0,r}function serializeDate(t,e,n,r,i){t[r++]=constants.BSON_DATA_DATE,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0;var o=long_1.fromNumber(n.getTime()),s=o.getLowBits(),a=o.getHighBits();return t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,t[r++]=255&a,t[r++]=a>>8&255,t[r++]=a>>16&255,t[r++]=a>>24&255,r}function serializeRegExp(t,e,n,r,i){if(t[r++]=constants.BSON_DATA_REGEXP,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,n.source&&null!=n.source.match(regexp$1))throw Error("value "+n.source+" must not contain null bytes");return r+=t.write(n.source,r,"utf8"),t[r++]=0,n.ignoreCase&&(t[r++]=105),n.global&&(t[r++]=115),n.multiline&&(t[r++]=109),t[r++]=0,r}function serializeBSONRegExp(t,e,n,r,i){if(t[r++]=constants.BSON_DATA_REGEXP,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,null!=n.pattern.match(regexp$1))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=t.write(n.pattern,r,"utf8"),t[r++]=0,r+=t.write(n.options.split("").sort().join(""),r,"utf8"),t[r++]=0,r}function serializeMinMax(t,e,n,r,i){return t[r++]=null===n?constants.BSON_DATA_NULL:"MinKey"===n._bsontype?constants.BSON_DATA_MIN_KEY:constants.BSON_DATA_MAX_KEY,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,r}function serializeObjectId(t,e,n,r,i){if(t[r++]=constants.BSON_DATA_OID,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,"string"==typeof n.id)t.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new TypeError("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(t,r,0,12)}return r+12}function serializeBuffer(t,e,n,r,i){t[r++]=constants.BSON_DATA_BINARY,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0;var o=n.length;return t[r++]=255&o,t[r++]=o>>8&255,t[r++]=o>>16&255,t[r++]=o>>24&255,t[r++]=constants.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(t,r,0,o),r+o}function serializeObject(t,e,n,r,i,o,s,a,c,u){for(var l=0;l<u.length;l++)if(u[l]===n)throw new Error("cyclic dependency detected");u.push(n),t[r++]=Array.isArray(n)?constants.BSON_DATA_ARRAY:constants.BSON_DATA_OBJECT,r+=t.write(e,r,c?"ascii":"utf8"),t[r++]=0;var h=serializeInto(t,n,i,r,o+1,s,a,u);return u.pop(),h}function serializeDecimal128(t,e,n,r,i){return t[r++]=constants.BSON_DATA_DECIMAL128,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,n.bytes.copy(t,r,0,16),r+16}function serializeLong(t,e,n,r,i){t[r++]="Long"===n._bsontype?constants.BSON_DATA_LONG:constants.BSON_DATA_TIMESTAMP,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0;var o=n.getLowBits(),s=n.getHighBits();return t[r++]=255&o,t[r++]=o>>8&255,t[r++]=o>>16&255,t[r++]=o>>24&255,t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,r}function serializeInt32(t,e,n,r,i){return t[r++]=constants.BSON_DATA_INT,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,t[r++]=255&n,t[r++]=n>>8&255,t[r++]=n>>16&255,t[r++]=n>>24&255,r}function serializeDouble(t,e,n,r,i){return t[r++]=constants.BSON_DATA_NUMBER,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0,writeIEEE754$1(t,n.value,r,"little",52,8),r+8}function serializeFunction(t,e,n,r,i,o,s){t[r++]=constants.BSON_DATA_CODE,r+=t.write(e,r,s?"ascii":"utf8"),t[r++]=0;var a=normalizedFunctionString$1(n),c=t.write(a,r+4,"utf8")+1;return t[r]=255&c,t[r+1]=c>>8&255,t[r+2]=c>>16&255,t[r+3]=c>>24&255,r=r+4+c-1,t[r++]=0,r}function serializeCode(t,e,n,r,i,o,s,a,c){if(n.scope&&"object"===_typeof$3(n.scope)){t[r++]=constants.BSON_DATA_CODE_W_SCOPE,r+=t.write(e,r,c?"ascii":"utf8"),t[r++]=0;var u=r,l="string"==typeof n.code?n.code:n.code.toString(),h=t.write(l,(r+=4)+4,"utf8")+1;t[r]=255&h,t[r+1]=h>>8&255,t[r+2]=h>>16&255,t[r+3]=h>>24&255,t[r+4+h-1]=0;var f=serializeInto(t,n.scope,i,r=r+h+4,o+1,s,a);r=f-1;var d=f-u;t[u++]=255&d,t[u++]=d>>8&255,t[u++]=d>>16&255,t[u++]=d>>24&255,t[r++]=0}else{t[r++]=constants.BSON_DATA_CODE,r+=t.write(e,r,c?"ascii":"utf8"),t[r++]=0;var p=n.code.toString(),g=t.write(p,r+4,"utf8")+1;t[r]=255&g,t[r+1]=g>>8&255,t[r+2]=g>>16&255,t[r+3]=g>>24&255,r=r+4+g-1,t[r++]=0}return r}function serializeBinary(t,e,n,r,i){t[r++]=constants.BSON_DATA_BINARY,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0;var o=n.value(!0),s=n.position;return n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(s+=4),t[r++]=255&s,t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255,t[r++]=n.sub_type,n.sub_type===binary.SUBTYPE_BYTE_ARRAY&&(t[r++]=255&(s-=4),t[r++]=s>>8&255,t[r++]=s>>16&255,t[r++]=s>>24&255),o.copy(t,r,0,n.position),r+n.position}function serializeSymbol(t,e,n,r,i){t[r++]=constants.BSON_DATA_SYMBOL,r+=t.write(e,r,i?"ascii":"utf8"),t[r++]=0;var o=t.write(n.value,r+4,"utf8")+1;return t[r]=255&o,t[r+1]=o>>8&255,t[r+2]=o>>16&255,t[r+3]=o>>24&255,r=r+4+o-1,t[r++]=0,r}function serializeDBRef(t,e,n,r,i,o,s){t[r++]=constants.BSON_DATA_OBJECT,r+=t.write(e,r,s?"ascii":"utf8"),t[r++]=0;var a,c=r,u={$ref:n.collection||n.namespace,$id:n.oid};null!=n.db&&(u.$db=n.db);var l=(a=serializeInto(t,u=Object.assign(u,n.fields),!1,r,i+1,o))-c;return t[c++]=255&l,t[c++]=l>>8&255,t[c++]=l>>16&255,t[c++]=l>>24&255,a}function serializeInto(t,e,n,r,i,o,s,a){r=r||0,(a=a||[]).push(e);var c=r+4;if(Array.isArray(e))for(var u=0;u<e.length;u++){var l=""+u,h=e[u];if(h&&h.toBSON){if("function"!=typeof h.toBSON)throw new TypeError("toBSON is not a function");h=h.toBSON()}var f=_typeof$3(h);if("string"===f)c=serializeString(t,l,h,c,!0);else if("number"===f)c=serializeNumber(t,l,h,c,!0);else if("boolean"===f)c=serializeBoolean(t,l,h,c,!0);else if(h instanceof Date||isDate$1(h))c=serializeDate(t,l,h,c,!0);else if(void 0===h)c=serializeNull(t,l,h,c,!0);else if(null===h)c=serializeNull(t,l,h,c,!0);else if("ObjectId"===h._bsontype||"ObjectID"===h._bsontype)c=serializeObjectId(t,l,h,c,!0);else if(Buffer$5.isBuffer(h))c=serializeBuffer(t,l,h,c,!0);else if(h instanceof RegExp||isRegExp$1(h))c=serializeRegExp(t,l,h,c,!0);else if("object"===f&&null==h._bsontype)c=serializeObject(t,l,h,c,n,i,o,s,!0,a);else if("object"===f&&"Decimal128"===h._bsontype)c=serializeDecimal128(t,l,h,c,!0);else if("Long"===h._bsontype||"Timestamp"===h._bsontype)c=serializeLong(t,l,h,c,!0);else if("Double"===h._bsontype)c=serializeDouble(t,l,h,c,!0);else if("function"==typeof h&&o)c=serializeFunction(t,l,h,c,n,i,o,!0);else if("Code"===h._bsontype)c=serializeCode(t,l,h,c,n,i,o,s,!0);else if("Binary"===h._bsontype)c=serializeBinary(t,l,h,c,!0);else if("Symbol"===h._bsontype)c=serializeSymbol(t,l,h,c,!0);else if("DBRef"===h._bsontype)c=serializeDBRef(t,l,h,c,i,o,!0);else if("BSONRegExp"===h._bsontype)c=serializeBSONRegExp(t,l,h,c,!0);else if("Int32"===h._bsontype)c=serializeInt32(t,l,h,c,!0);else if("MinKey"===h._bsontype||"MaxKey"===h._bsontype)c=serializeMinMax(t,l,h,c,!0);else if(void 0!==h._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+h._bsontype)}else if(e instanceof map)for(var d=e.entries(),p=!1;!p;){var g=d.next();if(!(p=g.done)){var m=g.value[0],b=g.value[1],y=_typeof$3(b);if("string"==typeof m&&!ignoreKeys.has(m)){if(null!=m.match(regexp$1))throw Error("key "+m+" must not contain null bytes");if(n){if("$"===m[0])throw Error("key "+m+" must not start with '$'");if(~m.indexOf("."))throw Error("key "+m+" must not contain '.'")}}if("string"===y)c=serializeString(t,m,b,c);else if("number"===y)c=serializeNumber(t,m,b,c);else if("boolean"===y)c=serializeBoolean(t,m,b,c);else if(b instanceof Date||isDate$1(b))c=serializeDate(t,m,b,c);else if(null===b||void 0===b&&!1===s)c=serializeNull(t,m,b,c);else if("ObjectId"===b._bsontype||"ObjectID"===b._bsontype)c=serializeObjectId(t,m,b,c);else if(Buffer$5.isBuffer(b))c=serializeBuffer(t,m,b,c);else if(b instanceof RegExp||isRegExp$1(b))c=serializeRegExp(t,m,b,c);else if("object"===y&&null==b._bsontype)c=serializeObject(t,m,b,c,n,i,o,s,!1,a);else if("object"===y&&"Decimal128"===b._bsontype)c=serializeDecimal128(t,m,b,c);else if("Long"===b._bsontype||"Timestamp"===b._bsontype)c=serializeLong(t,m,b,c);else if("Double"===b._bsontype)c=serializeDouble(t,m,b,c);else if("Code"===b._bsontype)c=serializeCode(t,m,b,c,n,i,o,s);else if("function"==typeof b&&o)c=serializeFunction(t,m,b,c,n,i,o);else if("Binary"===b._bsontype)c=serializeBinary(t,m,b,c);else if("Symbol"===b._bsontype)c=serializeSymbol(t,m,b,c);else if("DBRef"===b._bsontype)c=serializeDBRef(t,m,b,c,i,o);else if("BSONRegExp"===b._bsontype)c=serializeBSONRegExp(t,m,b,c);else if("Int32"===b._bsontype)c=serializeInt32(t,m,b,c);else if("MinKey"===b._bsontype||"MaxKey"===b._bsontype)c=serializeMinMax(t,m,b,c);else if(void 0!==b._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+b._bsontype)}}else{if(e.toBSON){if("function"!=typeof e.toBSON)throw new TypeError("toBSON is not a function");if(null!=(e=e.toBSON())&&"object"!==_typeof$3(e))throw new TypeError("toBSON function did not return an object")}for(var _ in e){var v=e[_];if(v&&v.toBSON){if("function"!=typeof v.toBSON)throw new TypeError("toBSON is not a function");v=v.toBSON()}var w=_typeof$3(v);if("string"==typeof _&&!ignoreKeys.has(_)){if(null!=_.match(regexp$1))throw Error("key "+_+" must not contain null bytes");if(n){if("$"===_[0])throw Error("key "+_+" must not start with '$'");if(~_.indexOf("."))throw Error("key "+_+" must not contain '.'")}}if("string"===w)c=serializeString(t,_,v,c);else if("number"===w)c=serializeNumber(t,_,v,c);else if("boolean"===w)c=serializeBoolean(t,_,v,c);else if(v instanceof Date||isDate$1(v))c=serializeDate(t,_,v,c);else if(void 0===v)!1===s&&(c=serializeNull(t,_,v,c));else if(null===v)c=serializeNull(t,_,v,c);else if("ObjectId"===v._bsontype||"ObjectID"===v._bsontype)c=serializeObjectId(t,_,v,c);else if(Buffer$5.isBuffer(v))c=serializeBuffer(t,_,v,c);else if(v instanceof RegExp||isRegExp$1(v))c=serializeRegExp(t,_,v,c);else if("object"===w&&null==v._bsontype)c=serializeObject(t,_,v,c,n,i,o,s,!1,a);else if("object"===w&&"Decimal128"===v._bsontype)c=serializeDecimal128(t,_,v,c);else if("Long"===v._bsontype||"Timestamp"===v._bsontype)c=serializeLong(t,_,v,c);else if("Double"===v._bsontype)c=serializeDouble(t,_,v,c);else if("Code"===v._bsontype)c=serializeCode(t,_,v,c,n,i,o,s);else if("function"==typeof v&&o)c=serializeFunction(t,_,v,c,n,i,o);else if("Binary"===v._bsontype)c=serializeBinary(t,_,v,c);else if("Symbol"===v._bsontype)c=serializeSymbol(t,_,v,c);else if("DBRef"===v._bsontype)c=serializeDBRef(t,_,v,c,i,o);else if("BSONRegExp"===v._bsontype)c=serializeBSONRegExp(t,_,v,c);else if("Int32"===v._bsontype)c=serializeInt32(t,_,v,c);else if("MinKey"===v._bsontype||"MaxKey"===v._bsontype)c=serializeMinMax(t,_,v,c);else if(void 0!==v._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+v._bsontype)}}a.pop(),t[c++]=0;var O=c-r;return t[r++]=255&O,t[r++]=O>>8&255,t[r++]=O>>16&255,t[r++]=O>>24&255,c}var serializer=serializeInto;function _typeof$4(t){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Buffer$6=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,normalizedFunctionString$2=utils.normalizedFunctionString;function isDate$2(t){return"object"===_typeof$4(t)&&"[object Date]"===Object.prototype.toString.call(t)}function calculateObjectSize(t,e,n){var r=5;if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=calculateElement(i.toString(),t[i],e,!0,n);else for(var o in t.toBSON&&(t=t.toBSON()),t)r+=calculateElement(o,t[o],e,!1,n);return r}function calculateElement(t,e,n,r,i){switch(e&&e.toBSON&&(e=e.toBSON()),_typeof$4(e)){case"string":return 1+Buffer$6.byteLength(t,"utf8")+1+4+Buffer$6.byteLength(e,"utf8")+1;case"number":return Math.floor(e)===e&&e>=constants.JS_INT_MIN&&e<=constants.JS_INT_MAX&&e>=constants.BSON_INT32_MIN&&e<=constants.BSON_INT32_MAX?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+5:(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+9;case"undefined":return r||!i?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1:0;case"boolean":return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+2;case"object":if(null==e||"MinKey"===e._bsontype||"MaxKey"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1;if("ObjectId"===e._bsontype||"ObjectID"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+13;if(e instanceof Date||isDate$2(e))return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+9;if(void 0!==Buffer$6&&Buffer$6.isBuffer(e))return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+6+e.length;if("Long"===e._bsontype||"Double"===e._bsontype||"Timestamp"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+9;if("Decimal128"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+17;if("Code"===e._bsontype)return null!=e.scope&&Object.keys(e.scope).length>0?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(e.code.toString(),"utf8")+1+calculateObjectSize(e.scope,n,i):(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+Buffer$6.byteLength(e.code.toString(),"utf8")+1;if("Binary"===e._bsontype)return e.sub_type===binary.SUBTYPE_BYTE_ARRAY?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+(e.position+1+4+1+4):(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+(e.position+1+4+1);if("Symbol"===e._bsontype)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+Buffer$6.byteLength(e.value,"utf8")+4+1+1;if("DBRef"===e._bsontype){var o=Object.assign({$ref:e.collection,$id:e.oid},e.fields);return null!=e.db&&(o.$db=e.db),(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+calculateObjectSize(o,n,i)}return e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+Buffer$6.byteLength(e.source,"utf8")+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1:"BSONRegExp"===e._bsontype?(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+Buffer$6.byteLength(e.pattern,"utf8")+1+Buffer$6.byteLength(e.options,"utf8")+1:(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+calculateObjectSize(e,n,i)+1;case"function":if(e instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(e)||"[object RegExp]"===String.call(e))return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+Buffer$6.byteLength(e.source,"utf8")+1+(e.global?1:0)+(e.ignoreCase?1:0)+(e.multiline?1:0)+1;if(n&&null!=e.scope&&Object.keys(e.scope).length>0)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+4+Buffer$6.byteLength(normalizedFunctionString$2(e),"utf8")+1+calculateObjectSize(e.scope,n,i);if(n)return(null!=t?Buffer$6.byteLength(t,"utf8")+1:0)+1+4+Buffer$6.byteLength(normalizedFunctionString$2(e),"utf8")+1}return 0}var calculate_size=calculateObjectSize,Buffer$7=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,ensure_buffer=function(t){if(t instanceof Buffer$7)return t;if(t instanceof Uint8Array)return Buffer$7.from(t.buffer);throw new TypeError("Must use either Buffer or Uint8Array")},Buffer$8=buffer__WEBPACK_IMPORTED_MODULE_1___default.a.Buffer,MAXSIZE=17825792,buffer$1=Buffer$8.alloc(MAXSIZE);function setInternalBufferSize(t){buffer$1.length<t&&(buffer$1=Buffer$8.alloc(t))}function serialize$1(t,e){var n="boolean"==typeof(e=e||{}).checkKeys&&e.checkKeys,r="boolean"==typeof e.serializeFunctions&&e.serializeFunctions,i="boolean"!=typeof e.ignoreUndefined||e.ignoreUndefined,o="number"==typeof e.minInternalBufferSize?e.minInternalBufferSize:MAXSIZE;buffer$1.length<o&&(buffer$1=Buffer$8.alloc(o));var s=serializer(buffer$1,t,n,0,0,r,i,[]),a=Buffer$8.alloc(s);return buffer$1.copy(a,0,0,a.length),a}function serializeWithBufferAndIndex(t,e,n){var r="number"==typeof(n=n||{}).index?n.index:0,i=serializer(buffer$1,t,"boolean"==typeof n.checkKeys&&n.checkKeys,0,0,"boolean"==typeof n.serializeFunctions&&n.serializeFunctions,"boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined);return buffer$1.copy(e,r,0,i),r+i-1}function deserialize$2(t,e){return t=ensure_buffer(t),deserializer(t,e)}function calculateObjectSize$1(t,e){return calculate_size(t,"boolean"==typeof(e=e||{}).serializeFunctions&&e.serializeFunctions,"boolean"!=typeof e.ignoreUndefined||e.ignoreUndefined)}function deserializeStream(t,e,n,r,i,o){o=Object.assign({allowObjectSmallerThanBufferSize:!0},o),t=ensure_buffer(t);for(var s=e,a=0;a<n;a++){var c=t[s]|t[s+1]<<8|t[s+2]<<16|t[s+3]<<24;o.index=s,r[i+a]=deserializer(t,o),s+=c}return s}var bson={BSON_INT32_MAX:constants.BSON_INT32_MAX,BSON_INT32_MIN:constants.BSON_INT32_MIN,BSON_INT64_MAX:constants.BSON_INT64_MAX,BSON_INT64_MIN:constants.BSON_INT64_MIN,JS_INT_MAX:constants.JS_INT_MAX,JS_INT_MIN:constants.JS_INT_MIN,BSON_DATA_NUMBER:constants.BSON_DATA_NUMBER,BSON_DATA_STRING:constants.BSON_DATA_STRING,BSON_DATA_OBJECT:constants.BSON_DATA_OBJECT,BSON_DATA_ARRAY:constants.BSON_DATA_ARRAY,BSON_DATA_BINARY:constants.BSON_DATA_BINARY,BSON_DATA_UNDEFINED:constants.BSON_DATA_UNDEFINED,BSON_DATA_OID:constants.BSON_DATA_OID,BSON_DATA_BOOLEAN:constants.BSON_DATA_BOOLEAN,BSON_DATA_DATE:constants.BSON_DATA_DATE,BSON_DATA_NULL:constants.BSON_DATA_NULL,BSON_DATA_REGEXP:constants.BSON_DATA_REGEXP,BSON_DATA_DBPOINTER:constants.BSON_DATA_DBPOINTER,BSON_DATA_CODE:constants.BSON_DATA_CODE,BSON_DATA_SYMBOL:constants.BSON_DATA_SYMBOL,BSON_DATA_CODE_W_SCOPE:constants.BSON_DATA_CODE_W_SCOPE,BSON_DATA_INT:constants.BSON_DATA_INT,BSON_DATA_TIMESTAMP:constants.BSON_DATA_TIMESTAMP,BSON_DATA_LONG:constants.BSON_DATA_LONG,BSON_DATA_DECIMAL128:constants.BSON_DATA_DECIMAL128,BSON_DATA_MIN_KEY:constants.BSON_DATA_MIN_KEY,BSON_DATA_MAX_KEY:constants.BSON_DATA_MAX_KEY,BSON_BINARY_SUBTYPE_DEFAULT:constants.BSON_BINARY_SUBTYPE_DEFAULT,BSON_BINARY_SUBTYPE_FUNCTION:constants.BSON_BINARY_SUBTYPE_FUNCTION,BSON_BINARY_SUBTYPE_BYTE_ARRAY:constants.BSON_BINARY_SUBTYPE_BYTE_ARRAY,BSON_BINARY_SUBTYPE_UUID:constants.BSON_BINARY_SUBTYPE_UUID,BSON_BINARY_SUBTYPE_MD5:constants.BSON_BINARY_SUBTYPE_MD5,BSON_BINARY_SUBTYPE_USER_DEFINED:constants.BSON_BINARY_SUBTYPE_USER_DEFINED,Code:code,Map:map,BSONSymbol:symbol,DBRef:db_ref,Binary:binary,ObjectId:objectid,Long:long_1,Timestamp:timestamp,Double:double_1,Int32:int_32,MinKey:min_key,MaxKey:max_key,BSONRegExp:regexp,Decimal128:decimal128,serialize:serialize$1,serializeWithBufferAndIndex,deserialize:deserialize$2,calculateObjectSize:calculateObjectSize$1,deserializeStream,setInternalBufferSize,ObjectID:objectid,EJSON:extended_json},bson_1=bson.BSON_INT32_MAX,bson_2=bson.BSON_INT32_MIN,bson_3=bson.BSON_INT64_MAX,bson_4=bson.BSON_INT64_MIN,bson_5=bson.JS_INT_MAX,bson_6=bson.JS_INT_MIN,bson_7=bson.BSON_DATA_NUMBER,bson_8=bson.BSON_DATA_STRING,bson_9=bson.BSON_DATA_OBJECT,bson_10=bson.BSON_DATA_ARRAY,bson_11=bson.BSON_DATA_BINARY,bson_12=bson.BSON_DATA_UNDEFINED,bson_13=bson.BSON_DATA_OID,bson_14=bson.BSON_DATA_BOOLEAN,bson_15=bson.BSON_DATA_DATE,bson_16=bson.BSON_DATA_NULL,bson_17=bson.BSON_DATA_REGEXP,bson_18=bson.BSON_DATA_DBPOINTER,bson_19=bson.BSON_DATA_CODE,bson_20=bson.BSON_DATA_SYMBOL,bson_21=bson.BSON_DATA_CODE_W_SCOPE,bson_22=bson.BSON_DATA_INT,bson_23=bson.BSON_DATA_TIMESTAMP,bson_24=bson.BSON_DATA_LONG,bson_25=bson.BSON_DATA_DECIMAL128,bson_26=bson.BSON_DATA_MIN_KEY,bson_27=bson.BSON_DATA_MAX_KEY,bson_28=bson.BSON_BINARY_SUBTYPE_DEFAULT,bson_29=bson.BSON_BINARY_SUBTYPE_FUNCTION,bson_30=bson.BSON_BINARY_SUBTYPE_BYTE_ARRAY,bson_31=bson.BSON_BINARY_SUBTYPE_UUID,bson_32=bson.BSON_BINARY_SUBTYPE_MD5,bson_33=bson.BSON_BINARY_SUBTYPE_USER_DEFINED,bson_34=bson.Code,bson_35=bson.BSONSymbol,bson_36=bson.DBRef,bson_37=bson.Binary,bson_38=bson.ObjectId,bson_39=bson.Long,bson_40=bson.Timestamp,bson_41=bson.Double,bson_42=bson.Int32,bson_43=bson.MinKey,bson_44=bson.MaxKey,bson_45=bson.BSONRegExp,bson_46=bson.Decimal128,bson_47=bson.serialize,bson_48=bson.serializeWithBufferAndIndex,bson_49=bson.deserialize,bson_50=bson.calculateObjectSize,bson_51=bson.deserializeStream,bson_52=bson.setInternalBufferSize,bson_53=bson.ObjectID,bson_54=bson.EJSON;__webpack_exports__.b=bson},oB13:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("XNiG"),i=n("HDdC"),o=(n("7o/Q"),n("quSY")),s=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(s.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function l(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new h(r,e));const i=Object.create(n,c);return i.source=n,i.subjectFactory=r,i}}class h{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const a=new s(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(a))try{a.call(this)}catch(l){e=l instanceof s?c(l.errors):[l]}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof s?e=e.concat(c(l.errors)):e.push(l)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},rY9s:function(t,e,n){"use strict";e.test=function(){return!0},e.install=function(t){return function(){setTimeout(t,0)}}},tS1D:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("D0XW");const i=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})();var o=n("mlxB"),s=n("l7GE"),a=n("ZUHj");class c{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new u(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class u extends s.a{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.action=null,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(a.a)(t,e))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(u.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var l=n("z6cu");function h(t,e=r.a){return function(t,e,n=r.a){return r=>{let i=Object(o.a)(t),s=i?+t-n.now():Math.abs(t);return r.lift(new c(s,i,e,n))}}(t,Object(l.a)(new i),e)}},w1tV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function s(){return new o.a}function a(){return t=>Object(i.a)()(Object(r.a)(s)(t))}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},yLV6:function(t,e,n){var r;!function(i,o,s,a){"use strict";var c,u=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),h=Math.round,f=Math.abs,d=Date.now;function p(t,e,n){return setTimeout(w(t,n),e)}function g(t,e,n){return!!Array.isArray(t)&&(m(t,n[e],n),!0)}function m(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function b(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}c="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var y=b((function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t}),"extend","Use `assign`."),_=b((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function v(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&c(r,n)}function w(t,e){return function(){return t.apply(e,arguments)}}function O(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function E(t,e){return void 0===t?e:t}function S(t,e,n){m(x(e),(function(e){t.addEventListener(e,n,!1)}))}function A(t,e,n){m(x(e),(function(e){t.removeEventListener(e,n,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function x(t){return t.trim().split(/\s+/g)}function I(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function D(t){return Array.prototype.slice.call(t,0)}function k(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];I(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort((function(t,n){return t[e]>n[e]})):r.sort()),r}function P(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}}var N=1;function R(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var j="ontouchstart"in i,M=void 0!==P(i,"PointerEvent"),B=j&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),L=["x","y"],U=["clientX","clientY"];function F(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){O(t.options.enable,[t])&&n.handler(e)},this.init()}function $(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&r-i==0,s=12&e&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=V(e)),i>1&&!n.firstMultiple?n.firstMultiple=V(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,c=e.center=q(r);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=K(a,c),e.distance=H(a,c),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=W(e.deltaX,e.deltaY);var u,l,h=z(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=f(h.x)>f(h.y)?h.x:h.y,e.scale=s?(u=s.pointers,H((l=r)[0],l[1],U)/H(u[0],u[1],U)):1,e.rotation=s?function(t,e){return K(e[1],e[0],U)+K(t[1],t[0],U)}(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!=e.eventType&&(a>25||void 0===s.velocity)){var c=e.deltaX-s.deltaX,u=e.deltaY-s.deltaY,l=z(a,c,u);r=l.x,i=l.y,n=f(l.x)>f(l.y)?l.x:l.y,o=W(c,u),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var p=t.element;C(e.srcEvent.target,p)&&(p=e.srcEvent.target),e.target=p}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function V(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:h(t.pointers[n].clientX),clientY:h(t.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:e,center:q(e),deltaX:t.deltaX,deltaY:t.deltaY}}function q(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:h(n/e),y:h(r/e)}}function z(t,e,n){return{x:e/t||0,y:n/t||0}}function W(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function H(t,e,n){n||(n=L);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function K(t,e,n){return n||(n=L),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}F.prototype={handler:function(){},init:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(R(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(R(this.element),this.evWin,this.domHandler)}};var G={mousedown:1,mousemove:2,mouseup:4};function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,F.apply(this,arguments)}v(X,F,{handler:function(t){var e=G[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var Y={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",Q="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=Q,F.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(Z="MSPointerDown",Q="MSPointerMove MSPointerUp MSPointerCancel"),v(tt,F,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=Y[r],o=J[t.pointerType]||t.pointerType,s="touch"==o,a=I(e,t.pointerId,"pointerId");1&i&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&i&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function nt(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,F.apply(this,arguments)}function rt(t,e){var n=D(t.touches),r=D(t.changedTouches);return 12&e&&(n=k(n.concat(r),"identifier",!0)),[n,r]}v(nt,F,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var n=rt.call(this,t,e);12&e&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var it={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},F.apply(this,arguments)}function st(t,e){var n=D(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=D(t.changedTouches),a=[],c=this.target;if(o=n.filter((function(t){return C(t.target,c)})),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[k(o.concat(a),"identifier",!0),a]:void 0}function at(){F.apply(this,arguments);var t=w(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ct(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ut.call(this,e)):12&t&&ut.call(this,e)}function ut(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}v(ot,F,{handler:function(t){var e=it[t.type],n=st.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),v(at,F,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)ct.call(this,e,n);else if(r&&lt.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=P(l.style,"touchAction"),ft=void 0!==ht,dt=function(){if(!ft)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){t[n]=!e||i.CSS.supports("touch-action",n)})),t}();function pt(t,e){this.manager=t,this.set(e)}function gt(t){this.options=c({},this.defaults,t||{}),this.id=N++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function mt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function bt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var n=e.manager;return n?n.get(t):t}function _t(){gt.apply(this,arguments)}function vt(){_t.apply(this,arguments),this.pX=null,this.pY=null}function wt(){_t.apply(this,arguments)}function Ot(){gt.apply(this,arguments),this._timer=null,this._input=null}function Et(){_t.apply(this,arguments)}function St(){_t.apply(this,arguments)}function At(){gt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ct(t,e){return(e=e||{}).recognizers=E(e.recognizers,Ct.defaults.preset),new Tt(t,e)}function Tt(t,e){var n;this.options=c({},Ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(M?tt:B?ot:j?at:X))(n,$),this.touchAction=new pt(this,this.options.touchAction),xt(this,!0),m(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function xt(t,e){var n,r=t.element;r.style&&(m(t.options.cssProps,(function(i,o){n=P(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""})),e||(t.oldCssProps={}))}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return m(this.manager.recognizers,(function(e){O(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(T(t,"none"))return"none";var e=T(t,"pan-x"),n=T(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":T(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=T(r,"none")&&!dt.none,o=T(r,"pan-y")&&!dt["pan-y"],s=T(r,"pan-x")&&!dt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return i||o&&6&n||s&&24&n?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},gt.prototype={defaults:{},set:function(t){return c(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(g(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return g(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(g(t,"requireFailure",this))return this;var e=this.requireFail;return-1===I(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(g(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=I(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<8&&r(e.options.event+mt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=8&&r(e.options.event+mt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=c({},t);if(!O(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},v(_t,gt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),v(vt,_t,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?1:s<0?8:16,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return _t.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=bt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),v(wt,_t,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),v(Ot,gt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!i)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),v(Et,_t,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),v(St,_t,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return vt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=bt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),v(At,gt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||H(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ct.VERSION="2.0.7",Ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Et,{enable:!1}],[wt,{enable:!1},["rotate"]],[St,{direction:6}],[vt,{direction:6},["swipe"]],[At],[At,{event:"doubletap",taps:2},["tap"]],[Ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Tt.prototype={set:function(t){return c(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof gt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(g(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(g(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=I(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return m(x(t),(function(t){n[t]=n[t]||[],n[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return m(x(t),(function(t){e?n[t]&&n[t].splice(I(n[t],e),1):delete n[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&xt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Ct,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Tt,Input:F,TouchAction:pt,TouchInput:ot,MouseInput:X,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:nt,Recognizer:gt,AttrRecognizer:_t,Tap:At,Pan:vt,Swipe:St,Pinch:wt,Rotate:Et,Press:Ot,on:S,off:A,each:m,merge:_,extend:y,assign:c,inherit:v,bindFn:w,prefixed:P}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Ct,void 0===(r=(function(){return Ct}).call(e,n,e,t))||(t.exports=r)}(window,document)},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},z6cu:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(o,0,{error:t,subscriber:n}):e=>e.error(t))}function o({error:t,subscriber:e}){e.error(t)}},zP0r:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t){return e=>e.lift(new o(t))}class o{constructor(t){this.total=t}call(t,e){return e.subscribe(new s(t,this.total))}}class s extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");n("yLV6");let i=null;function o(){return i}const s=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Xb)(l)}const u=new r.q("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=o().getLocation(),this._history=o().getHistory()}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){o().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=Object(r.Gb)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Xb)(s))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Xb)(s).location;return new _(Object(r.Xb)(a),e&&e.origin||"")}const y=new r.q("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a),r.Xb(y,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(a),r.Xb(y,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(m),r.Xb(a))},t.normalizeQueryParams=g,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Gb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new w(Object(r.Xb)(m),Object(r.Xb)(a))}function E(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),A=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),C=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),T=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),x=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function I(t,e,n){const i=Object(r.hb)(t),o=B([i[r.Y.DaysFormat],i[r.Y.DaysStandalone]],e);return B(o,n)}function D(t,e,n){const i=Object(r.hb)(t),o=B([i[r.Y.MonthsFormat],i[r.Y.MonthsStandalone]],e);return B(o,n)}function k(t,e){return B(Object(r.hb)(t)[r.Y.DateFormat],e)}function P(t,e){return B(Object(r.hb)(t)[r.Y.TimeFormat],e)}function N(t,e){return B(Object(r.hb)(t)[r.Y.DateTimeFormat],e)}function R(t,e){const n=Object(r.hb)(t),i=n[r.Y.NumberSymbols][e];if(void 0===i){if(e===x.CurrencyDecimal)return n[r.Y.NumberSymbols][x.Decimal];if(e===x.CurrencyGroup)return n[r.Y.NumberSymbols][x.Group]}return i}const j=r.kb;function M(t){if(!t[r.Y.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.Y.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function B(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function L(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const U=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},$=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var V=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),q=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),z=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function W(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,(function(t,n){return null!=e&&n in e?e[n]:t}))),t}function H(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.substr(s.length-e)),o+s}function K(t,e,n=0,r=!1,i=!1){return function(o,s){let a=function(t,e){switch(t){case q.FullYear:return e.getFullYear();case q.Month:return e.getMonth();case q.Date:return e.getDate();case q.Hours:return e.getHours();case q.Minutes:return e.getMinutes();case q.Seconds:return e.getSeconds();case q.FractionalSeconds:return e.getMilliseconds();case q.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,o);if((n>0||a>-n)&&(a+=n),t===q.Hours)0===a&&-12===n&&(a=12);else if(t===q.FractionalSeconds)return c=e,H(a,3).substr(0,c);var c;const u=R(s,x.MinusSign);return H(a,e,u,r,i)}}function G(t,e,n=A.Format,i=!1){return function(o,s){return function(t,e,n,i,o,s){switch(n){case z.Months:return D(e,o,i)[t.getMonth()];case z.Days:return I(e,o,i)[t.getDay()];case z.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(s){const t=function(t){const e=Object(r.hb)(t);return M(e),(e[r.Y.ExtraData][2]||[]).map(t=>"string"==typeof t?L(t):[L(t[0]),L(t[1])])}(e),n=function(t,e,n){const i=Object(r.hb)(t);M(i);const o=B([i[r.Y.ExtraData][0],i[r.Y.ExtraData][1]],e)||[];return B(o,n)||[]}(e,o,i),s=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return function(t,e,n){const i=Object(r.hb)(t),o=B([i[r.Y.DayPeriodsFormat],i[r.Y.DayPeriodsStandalone]],e);return B(o,n)}(e,o,i)[a<12?0:1];case z.Eras:return function(t,e){return B(Object(r.hb)(t)[r.Y.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,t,e,n,i)}}function X(t){return function(e,n,r){const i=-1*r,o=R(n,x.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case V.Short:return(i>=0?"+":"")+H(s,2,o)+H(Math.abs(i%60),2,o);case V.ShortGMT:return"GMT"+(i>=0?"+":"")+H(s,1,o);case V.Long:return"GMT"+(i>=0?"+":"")+H(s,2,o)+":"+H(Math.abs(i%60),2,o);case V.Extended:return 0===r?"Z":(i>=0?"+":"")+H(s,2,o)+":"+H(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}function Y(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=function(t){const e=new Date(t,0,1).getDay();return new Date(t,0,1+(e<=4?4:11)-e)}(n.getFullYear()),e=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-t.getTime();i=1+Math.round(e/6048e5)}var o;return H(i,t,R(r,x.MinusSign))}}const J={};function Z(t){return t instanceof Date&&!isNaN(t.valueOf())}class Q{}let tt=(()=>{class t extends Q{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),et=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.nb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.sb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.s),r.Kb(r.t),r.Kb(r.l),r.Kb(r.D))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class nt{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rt=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new nt(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new it(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new it(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.O),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class it{constructor(t,e){this.record=t,this.view=e}}let ot=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new st,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){at("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){at("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.O),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class st{constructor(){this.$implicit=null,this.ngIf=null}}function at(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.sb)(e)}'.`)}let ct=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.O))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.vb]}),t})(),ut=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"json",type:t,pure:!1}),t})(),lt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:Q,useClass:tt}]}),t})();function ht(t){return"browser"===t}let ft=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new dt(Object(r.Xb)(s),window,Object(r.Xb)(r.m))}),t})();class dt{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}class pt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new pt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=mt||(mt=document.querySelector("base"),mt)?mt.getAttribute("href"):null;return null==e?null:(n=e,gt||(gt=document.createElement("a")),gt.setAttribute("href",n),"/"===gt.pathname.charAt(0)?gt.pathname:"/"+gt.pathname);var n}resetBaseElement(){mt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let gt,mt=null;const bt=new r.q("TRANSITION_ID"),yt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[bt,s,r.r],multi:!0}];class _t{static init(){Object(r.V)(new _t)}addToWindow(t){r.mb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.mb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.mb.getAllAngularRootElements=()=>t.getAllRootElements(),r.mb.frameworkStabilizers||(r.mb.frameworkStabilizers=[]),r.mb.frameworkStabilizers.push(t=>{const e=r.mb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const vt=new r.q("EventManagerPlugins");let wt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(vt),r.Xb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Ot{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Et=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),St=(()=>{class t extends Et{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>o().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ct=/%COMP%/g;function Tt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Tt(t,i,n):(i=i.replace(Ct,t),n.push(i))}return n}function xt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let It=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Dt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new kt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.P.Native:case r.P.ShadowDom:return new Pt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Tt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(wt),r.Xb(St),r.Xb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Dt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(At[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=At[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=At[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xt(n)):this.eventManager.addEventListener(t,e,xt(n))}}class kt extends Dt{constructor(t,e,n,r){super(t),this.component=n;const i=Tt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Ct,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Ct,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Pt extends Dt{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=Tt(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Nt=(()=>{class t extends Ot{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Rt=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Lt=(()=>{class t extends Ot{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(Rt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Mt.hasOwnProperty(e)&&(e=Mt[e]))}return jt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Rt.forEach(r=>{r!=n&&(0,Bt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ut=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return Object(r.Xb)(Ft)},token:t,providedIn:"root"}),t})(),Ft=(()=>{class t extends Ut{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.H.NONE:return e;case r.H.HTML:return Object(r.bb)(e,"HTML")?Object(r.tb)(e):Object(r.Z)(this._doc,String(e));case r.H.STYLE:return Object(r.bb)(e,"Style")?Object(r.tb)(e):e;case r.H.SCRIPT:if(Object(r.bb)(e,"Script"))return Object(r.tb)(e);throw new Error("unsafe value used in a script context");case r.H.URL:return Object(r.lb)(e),Object(r.bb)(e,"URL")?Object(r.tb)(e):Object(r.ab)(String(e));case r.H.RESOURCE_URL:if(Object(r.bb)(e,"ResourceURL"))return Object(r.tb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.cb)(t)}bypassSecurityTrustStyle(t){return Object(r.fb)(t)}bypassSecurityTrustScript(t){return Object(r.eb)(t)}bypassSecurityTrustUrl(t){return Object(r.gb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.db)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Xb)(r.o),new Ft(t.get(s));var t},token:t,providedIn:"root"}),t})();const $t=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){pt.makeCurrent(),_t.init()},multi:!0},{provide:s,useFactory:function(){return Object(r.rb)(document),document},deps:[]}],Vt=Object(r.Q)(r.U,"browser",$t),qt=[[],{provide:r.X,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:vt,useClass:Nt,multi:!0,deps:[s,r.z,r.B]},{provide:vt,useClass:Lt,multi:!0,deps:[s]},[],{provide:It,useClass:It,deps:[wt,St,r.c]},{provide:r.E,useExisting:It},{provide:Et,useExisting:St},{provide:St,useClass:St,deps:[s]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:wt,useClass:wt,deps:[vt,r.z]},[]];let zt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:bt,useExisting:r.c},yt]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(t,12))},providers:qt,imports:[lt,r.f]}),t})();"undefined"!=typeof window&&window;var Wt=n("HDdC"),Ht=n("DH7j"),Kt=n("lJxs"),Gt=n("XoHu"),Xt=n("Cfvw");function Yt(t,e){return new Wt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=Object(Xt.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Jt=new r.q("NgValueAccessor"),Zt={provide:Jt,useExisting:Object(r.S)(()=>Qt),multi:!0};let Qt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.wb([Zt])]}),t})();const te={provide:Jt,useExisting:Object(r.S)(()=>ne),multi:!0},ee=new r.q("CompositionEventMode");let ne=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(ee,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.wb([te])]}),t})(),re=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),ie=(()=>{class t extends re{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return oe(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.ub]}),t})();const oe=r.Rb(ie);function se(){throw new Error("unimplemented")}class ae extends re{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return se()}get asyncValidator(){return se()}}class ce{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let ue=(()=>{class t extends ce{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ae,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.ub]}),t})(),le=(()=>{class t extends ce{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ie,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.ub]}),t})();function he(t){return null==t||0===t.length}function fe(t){return null!=t&&"number"==typeof t.length}const de=new r.q("NgValidators"),pe=new r.q("NgAsyncValidators"),ge=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class me{static min(t){return e=>{if(he(e.value)||he(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(he(e.value)||he(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return he(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return he(t.value)||ge.test(t.value)?null:{email:!0}}static minLength(t){return e=>he(e.value)||!fe(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>fe(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return me.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(he(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(be);return 0==e.length?null:function(t){return _e(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(be);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(Ht.a)(e))return Yt(e,null);if(Object(Gt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Yt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Yt(t=1===t.length&&Object(Ht.a)(t[0])?t[0]:t,null).pipe(Object(Kt.a)(t=>e(...t)))}return Yt(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(ye)).pipe(Object(Kt.a)(_e))}}}function be(t){return null!=t}function ye(t){const e=Object(r.pb)(t)?Object(Xt.a)(t):t;if(!Object(r.ob)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function _e(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ve(t){return t.validate?e=>t.validate(e):t}function we(t){return t.validate?e=>t.validate(e):t}const Oe={provide:Jt,useExisting:Object(r.S)(()=>Ee),multi:!0};let Ee=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.wb([Oe])]}),t})();const Se={provide:Jt,useExisting:Object(r.S)(()=>Ce),multi:!0};let Ae=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Ce=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(ae),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(Ae),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.wb([Se])]}),t})();const Te={provide:Jt,useExisting:Object(r.S)(()=>xe),multi:!0};let xe=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.wb([Te])]}),t})();const Ie='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',De='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';class ke{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${Ie}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${De}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${Ie}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${De}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Pe={provide:Jt,useExisting:Object(r.S)(()=>Re),multi:!0};function Ne(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Re=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Ne(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.wb([Pe])]}),t})(),je=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Ne(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(Re,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Me={provide:Jt,useExisting:Object(r.S)(()=>Le),multi:!0};function Be(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Le=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.ac("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.wb([Me])]}),t})(),Ue=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Be(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Be(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.D),r.Kb(Le,9))},t.\u0275dir=r.Fb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();function Fe(t,e){return[...e.path,t]}function $e(t,e){t||We(e,"Cannot find control with"),e.valueAccessor||We(e,"No value accessor for form control with"),t.validator=me.compose([t.validator,e.validator]),t.asyncValidator=me.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ve(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ve(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function Ve(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function qe(t,e){null==t&&We(e,"Cannot find control with"),t.validator=me.compose([t.validator,e.validator]),t.asyncValidator=me.composeAsync([t.asyncValidator,e.asyncValidator])}function ze(t){return We(t,"There is no FormControl instance attached to form control element with")}function We(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function He(t){return null!=t?me.compose(t.map(ve)):null}function Ke(t){return null!=t?me.composeAsync(t.map(we)):null}const Ge=[Qt,xe,Ee,Re,Le,Ce];function Xe(t){const e=Je(t)?t.validators:t;return Array.isArray(e)?He(e):e||null}function Ye(t,e){const n=Je(e)?e.asyncValidators:t;return Array.isArray(n)?Ke(n):n||null}function Je(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ze{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Xe(t)}setAsyncValidators(t){this.asyncValidator=Ye(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=ye(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof tn?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof en&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Je(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class Qe extends Ze{constructor(t=null,e,n){super(Xe(e),Ye(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class tn extends Ze{constructor(t,e,n){super(Xe(e),Ye(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Qe?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class en extends Ze{constructor(t,e,n){super(Xe(e),Ye(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Qe?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let nn=(()=>{class t extends ie{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Fe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return He(this._validators)}get asyncValidator(){return Ke(this._asyncValidators)}_checkParentType(){}}return t.\u0275fac=function(e){return rn(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.ub]}),t})();const rn=r.Rb(nn);let on=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const sn=new r.q("NgModelWithFormControlWarning"),an={provide:ie,useExisting:Object(r.S)(()=>cn)};let cn=(()=>{class t extends ie{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new r.n}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return $e(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){!function(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);qe(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);qe(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,e=this.directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>ze(e)),e.valueAccessor.registerOnTouched(()=>ze(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&$e(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=He(this._validators);this.form.validator=me.compose([this.form.validator,t]);const e=Ke(this._asyncValidators);this.form.asyncValidator=me.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||ke.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(de,10),r.Kb(pe,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.ac("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.wb([an]),r.ub,r.vb]}),t})();const un={provide:ie,useExisting:Object(r.S)(()=>ln)};let ln=(()=>{class t extends nn{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){dn(this._parent)&&ke.groupParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ie,13),r.Kb(de,10),r.Kb(pe,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.wb([un]),r.ub]}),t})();const hn={provide:ie,useExisting:Object(r.S)(()=>fn)};let fn=(()=>{class t extends ie{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Fe(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return He(this._validators)}get asyncValidator(){return Ke(this._asyncValidators)}_checkParentType(){dn(this._parent)&&ke.arrayParentException()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ie,13),r.Kb(de,10),r.Kb(pe,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.wb([hn]),r.ub]}),t})();function dn(t){return!(t instanceof ln||t instanceof cn||t instanceof fn)}const pn={provide:ae,useExisting:Object(r.S)(()=>gn)};let gn=(()=>{class t extends ae{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||We(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{var o;e.constructor===ne?n=e:(o=e,Ge.some(t=>o.constructor===t)?(r&&We(t,"More than one built-in value accessor matches form control with"),r=e):(i&&We(t,"More than one custom value accessor matches form control with"),i=e))}),i||r||n||(We(t,"No valid value accessor for form control with"),null)}(this,i)}set isDisabled(t){ke.disabledAttrWarning()}ngOnChanges(e){var n,i;this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(e,this.viewModel)&&("formControlName",n=t,this,i=this._ngModelWarningConfig,Object(r.T)()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(ke.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Fe(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return He(this._rawValidators)}get asyncValidator(){return Ke(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof ln)&&this._parent instanceof nn?ke.ngModelGroupException():this._parent instanceof ln||this._parent instanceof cn||this._parent instanceof fn||ke.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(ie,13),r.Kb(de,10),r.Kb(pe,10),r.Kb(Jt,10),r.Kb(sn,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.wb([pn]),r.ub,r.vb]}),t._ngModelWarningSentOnce=!1,t})(),mn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),bn=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new tn(n,{asyncValidators:i,updateOn:o,validators:r})}control(t,e,n){return new Qe(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new en(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Qe||t instanceof tn||t instanceof en?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),yn=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ae],imports:[mn]}),t})(),_n=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:sn,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[bn,Ae],imports:[mn]}),t})();var vn=n("LRne"),wn=n("2Vo4");const On=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var En=n("z+Ro"),Sn=n("l7GE"),An=n("ZUHj"),Cn=n("yCtX");const Tn={};class xn{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new In(t,this.resultSelector))}}class In extends Sn.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Tn),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(An.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===Tn?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var Dn=n("EY2u");function kn(t){return new Wt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Xt.a)(n):Object(Dn.b)()).subscribe(e)})}var Pn=n("XNiG"),Nn=n("bHdf");function Rn(){return Object(Nn.a)(1)}var jn=n("pLZG"),Mn=n("7o/Q"),Bn=n("4I5i");function Ln(t){return function(e){return 0===t?Object(Dn.b)():e.lift(new Un(t))}}class Un{constructor(t){if(this.total=t,this.total<0)throw new Bn.a}call(t,e){return e.subscribe(new Fn(t,this.total))}}class Fn extends Mn.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function $n(t=zn){return e=>e.lift(new Vn(t))}class Vn{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new qn(t,this.errorFactory))}}class qn extends Mn.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function zn(){return new On}function Wn(t=null){return e=>e.lift(new Hn(t))}class Hn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Kn(t,this.defaultValue))}}class Kn extends Mn.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Gn=n("SpAZ"),Xn=n("JIr8"),Yn=n("IzEk");function Jn(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(jn.a)((e,n)=>t(e,n,r)):Gn.a,Object(Yn.a)(1),n?Wn(e):$n(()=>new On))}var Zn=n("5+tZ");function Qn(){}var tr=n("n6bG");function er(t,e,n){return function(r){return r.lift(new nr(t,e,n))}}class nr{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new rr(t,this.nextOrObserver,this.error,this.complete))}}class rr extends Mn.a{constructor(t,e,n,r){super(t),this._tapNext=Qn,this._tapError=Qn,this._tapComplete=Qn,this._tapError=n||Qn,this._tapComplete=r||Qn,Object(tr.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Qn,this._tapError=e.error||Qn,this._tapComplete=e.complete||Qn)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class ir{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new or(t,this.predicate,this.thisArg,this.source))}}class or extends Mn.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var sr=n("eIep");function ar(...t){return Rn()(Object(vn.a)(...t))}var cr=n("Kqap"),ur=n("bOdf"),lr=n("quSY");class hr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new fr(t,this.callback))}}class fr extends Mn.a{constructor(t,e){super(t),this.add(new lr.a(e))}}class dr{constructor(t,e){this.id=t,this.url=e}}class pr extends dr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class gr extends dr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mr extends dr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class br extends dr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yr extends dr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _r extends dr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vr extends dr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wr extends dr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Or extends dr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Er{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ar{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Cr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tr{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ir{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Dr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[ko]},encapsulation:2}),t})();class kr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Pr(t){return new kr(t)}function Nr(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Rr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class jr{constructor(t,e){this.routes=t,this.module=e}}function Mr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Br(r,Lr(e,r))}}function Br(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Mr(t.children,e)}function Lr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ur(t){const e=t.children&&t.children.map(Ur),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Dr),n}function Fr(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!$r(t[i],e[i]))return!1;return!0}function $r(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Vr(t){return Array.prototype.concat.apply([],t)}function qr(t){return t.length>0?t[t.length-1]:null}function zr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Wr(t){return Object(r.ob)(t)?t:Object(r.pb)(t)?Object(Xt.a)(Promise.resolve(t)):Object(vn.a)(t)}function Hr(t,e,n){return n?function(t,e){return Fr(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Yr(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$r(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Yr(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Yr(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Yr(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class Kr{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return ti.serialize(this)}}class Gr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,zr(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ei(this)}}class Xr{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Pr(this.parameters)),this._parameterMap}toString(){return ai(this)}}function Yr(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Jr(t,e){let n=[];return zr(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),zr(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Zr{}class Qr{parse(t){const e=new fi(t);return new Kr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return ei(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return zr(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Jr(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${ei(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${ri(e)}=${ri(t)}`).join("&"):`${ri(e)}=${ri(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ti=new Qr;function ei(t){return t.segments.map(t=>ai(t)).join("/")}function ni(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ri(t){return ni(t).replace(/%3B/gi,";")}function ii(t){return ni(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oi(t){return decodeURIComponent(t)}function si(t){return oi(t.replace(/\+/g,"%20"))}function ai(t){return`${ii(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ii(t)}=${ii(e[t])}`).join("")}`;var e}const ci=/^[^\/()?;=#]+/;function ui(t){const e=t.match(ci);return e?e[0]:""}const li=/^[^=?&#]+/,hi=/^[^?&#]+/;class fi{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gr([],{}):new Gr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Gr(t,e)),n}parseSegment(){const t=ui(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Xr(oi(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ui(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=ui(this.remaining);t&&(n=t,this.capture(n))}t[oi(e)]=oi(n)}parseQueryParam(t){const e=function(t){const e=t.match(li);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(hi);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=si(e),i=si(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=ui(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Gr([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class di{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=pi(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=pi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=gi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return gi(t,this._root).map(t=>t.value)}}function pi(t,e){if(t===e.value)return e;for(const n of e.children){const e=pi(t,n);if(e)return e}return null}function gi(t,e){if(t===e.value)return[e];for(const n of e.children){const r=gi(t,n);if(r.length)return r.unshift(e),r}return[]}class mi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bi(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class yi extends di{constructor(t,e){super(t),this.snapshot=e,Si(this,t)}toString(){return this.snapshot.toString()}}function _i(t,e){const n=function(t,e){const n=new Oi([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Ei("",new mi(n,[]))}(t,e),r=new wn.a([new Xr("",{})]),i=new wn.a({}),o=new wn.a({}),s=new wn.a({}),a=new wn.a(""),c=new vi(r,i,s,a,o,"primary",e,n.root);return c.snapshot=n.root,new yi(new mi(c,[]),n)}class vi{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Kt.a)(t=>Pr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Kt.a)(t=>Pr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Oi{constructor(t,e,n,r,i,o,s,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ei extends di{constructor(t,e){super(e),this.url=t,Si(this,e)}toString(){return Ai(this._root)}}function Si(t,e){e.value._routerState=t,e.children.forEach(e=>Si(t,e))}function Ai(t){const e=t.children.length>0?` { ${t.children.map(Ai).join(", ")} } `:"";return`${t.value}${e}`}function Ci(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Fr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Fr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Fr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Fr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ti(t,e){var n,r;return Fr(t.params,e.params)&&Yr(n=t.url,r=e.url)&&n.every((t,e)=>Fr(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||Ti(t.parent,e.parent))}function xi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ii(t,e,n,r,i){let o={};return r&&zr(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Kr(n.root===t?e:function t(e,n,r){const i={};return zr(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Gr(e.segments,i)}(n.root,t,e),o,i)}class Di{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&xi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==qr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ki{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Pi(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function Ni(t,e,n){if(t||(t=new Gr([],{})),0===t.segments.length&&t.hasChildren())return Ri(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=Pi(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!Li(s,a,e))return o;r+=2}else{if(!Li(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Gr(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Gr(t.segments.slice(r.pathIndex),t.children),Ri(e,0,i)}return r.match&&0===i.length?new Gr(t.segments,{}):r.match&&!t.hasChildren()?ji(t,e,n):r.match?Ri(t,0,i):ji(t,e,n)}function Ri(t,e,n){if(0===n.length)return new Gr(t.segments,{});{const r=function(t){return"object"==typeof t[0]&&null!==t[0]&&t[0].outlets?t[0].outlets:{primary:t}}(n),i={};return zr(r,(n,r)=>{null!==n&&(i[r]=Ni(t.children[r],e,n))}),zr(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Gr(t.segments,i)}}function ji(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&null!==n[i]&&void 0!==n[i].outlets){const t=Mi(n[i].outlets);return new Gr(r,t)}if(0===i&&xi(n[0])){r.push(new Xr(t.segments[e].path,n[0])),i++;continue}const o=Pi(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&xi(s)?(r.push(new Xr(o,Bi(s))),i+=2):(r.push(new Xr(o,{})),i++)}return new Gr(r,{})}function Mi(t){const e={};return zr(t,(t,n)=>{null!==t&&(e[n]=ji(new Gr([],{}),0,t))}),e}function Bi(t){const e={};return zr(t,(t,n)=>e[n]=`${t}`),e}function Li(t,e,n){return t==n.path&&Fr(e,n.parameters)}class Ui{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ci(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=bi(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),zr(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=bi(t),i=t.value.component?n.children:e;zr(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=bi(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new xr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Cr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Ci(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Fi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Fi(t){Ci(t.value),t.children.forEach(Fi)}function $i(t){return"function"==typeof t}function Vi(t){return t instanceof Kr}class qi{constructor(t){this.segmentGroup=t||null}}class zi{constructor(t){this.urlTree=t}}function Wi(t){return new Wt.a(e=>e.error(new qi(t)))}function Hi(t){return new Wt.a(e=>e.error(new zi(t)))}function Ki(t){return new Wt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Gi{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(Kt.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Object(Xn.a)(t=>{if(t instanceof zi)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof qi)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(Kt.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(Object(Xn.a)(t=>{if(t instanceof qi)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Gr([],{primary:t}):t;return new Kr(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Kt.a)(t=>new Gr([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(vn.a)({});const n=[],r=[],i={};return zr(t,(t,o)=>{const s=e(o,t).pipe(Object(Kt.a)(t=>i[o]=t));"primary"===o?n.push(s):r.push(s)}),vn.a.apply(null,n.concat(r)).pipe(Rn(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(jn.a)((e,n)=>t(e,n,r)):Gn.a,Ln(1),n?Wn(e):$n(()=>new On))}(),Object(Kt.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(vn.a)(...n).pipe(Object(Kt.a)(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Object(Xn.a)(t=>{if(t instanceof qi)return Object(vn.a)(null);throw t}))),Rn(),Jn(t=>!!t),Object(Xn.a)((t,n)=>{if(t instanceof On||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(vn.a)(new Gr([],{}));throw new qi(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Zi(r)!==o?Wi(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Wi(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Hi(i):this.lineralizeSegments(n,i).pipe(Object(Zn.a)(n=>{const i=new Gr(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Xi(e,r,i);if(!s)return Wi(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Hi(l):this.lineralizeSegments(r,l).pipe(Object(Zn.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Kt.a)(t=>(n._loadedConfig=t,new Gr(r,{})))):Object(vn.a)(new Gr(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Xi(e,n,r);if(!i)return Wi(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(Zn.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Ji(t,e,n)&&"primary"!==Zi(n))}(t,n,r)?{segmentGroup:Yi(new Gr(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Zi(r)&&(n[Zi(r)]=new Gr([],{}));return n}(r,new Gr(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Ji(t,e,n))}(t,n,r)?{segmentGroup:Yi(new Gr(t.segments,function(t,e,n,r){const i={};for(const o of n)Ji(t,e,o)&&!r[Zi(o)]&&(i[Zi(o)]=new Gr([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Kt.a)(t=>new Gr(o,t))):0===r.length&&0===s.length?Object(vn.a)(new Gr(o,{})):this.expandSegment(n,i,r,s,"primary",!0).pipe(Object(Kt.a)(t=>new Gr(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vn.a)(new jr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vn.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Zn.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Kt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Wt.a(e=>e.error(Nr(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vn.a)(new jr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(Xt.a)(r).pipe(Object(Kt.a)(r=>{const i=t.get(r);let o;if(function(t){return t&&$i(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!$i(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Wr(o)})).pipe(Rn(),er(t=>{if(!Vi(t))return;const e=Nr(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(i=t=>!0===t,t=>t.lift(new ir(i,void 0,t)))):Object(vn.a)(!0);var i}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Ki(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Kr(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return zr(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return zr(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Gr(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Xi(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||Rr)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yi(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Gr(t.segments.concat(e.segments),e.children)}return t}function Ji(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Zi(t){return t.outlet||"primary"}class Qi{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class to{constructor(t,e){this.component=t,this.route=e}}function eo(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=bi(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,c=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Yr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yr(t.url,e.url)||!Fr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ti(t,e)||!Fr(t.queryParams,e.queryParams);case"paramsChange":default:return!Ti(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Qi(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?c?c.children:null:r,i,o),u&&o.canDeactivateChecks.push(new to(c&&c.outlet&&c.outlet.component||null,a))}else a&&ro(n,c,o),o.canActivateChecks.push(new Qi(i)),t(e,null,s.component?c?c.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),zr(s,(t,e)=>ro(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function no(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ro(t,e,n){const r=bi(t),i=t.value;zr(r,(t,r)=>{ro(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new to(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const io=Symbol("INITIAL_VALUE");function oo(){return Object(sr.a)(t=>function(...t){let e=null,n=null;return Object(En.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Ht.a)(t[0])&&(t=t[0]),Object(Cn.a)(t,n).lift(new xn(e))}(...t.map(t=>t.pipe(Object(Yn.a)(1),function(...t){const e=t[t.length-1];return Object(En.a)(e)?(t.pop(),n=>ar(t,n,e)):e=>ar(t,e)}(io)))).pipe(Object(cr.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==io)return t;if(r===io&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Vi(r))return r}return t},t)},io),Object(jn.a)(t=>t!==io),Object(Kt.a)(t=>Vi(t)?t:!0===t),Object(Yn.a)(1)))}function so(t,e){return null!==t&&e&&e(new Tr(t)),Object(vn.a)(!0)}function ao(t,e){return null!==t&&e&&e(new Ar(t)),Object(vn.a)(!0)}function co(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vn.a)(!0);const i=r.map(r=>kn(()=>{const i=no(r,e,n);let o;if(function(t){return t&&$i(t.canActivate)}(i))o=Wr(i.canActivate(e,t));else{if(!$i(i))throw new Error("Invalid CanActivate guard");o=Wr(i(e,t))}return o.pipe(Jn())}));return Object(vn.a)(i).pipe(oo())}function uo(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>kn(()=>{const i=e.guards.map(i=>{const o=no(i,e.node,n);let s;if(function(t){return t&&$i(t.canActivateChild)}(o))s=Wr(o.canActivateChild(r,t));else{if(!$i(o))throw new Error("Invalid CanActivateChild guard");s=Wr(o(r,t))}return s.pipe(Jn())});return Object(vn.a)(i).pipe(oo())}));return Object(vn.a)(i).pipe(oo())}class lo{}class ho{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=go(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Oi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new mi(n,e),i=new Ei(this.url,r);return this.inheritParamsAndData(i._root),Object(vn.a)(i)}catch(t){return new Wt.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=wi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Jr(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof lo))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new lo}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new lo;if((t.outlet||"primary")!==r)throw new lo;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?qr(n).parameters:{};i=new Oi(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yo(t),r,t.component,t,fo(e),po(e)+n.length,_o(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new lo;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||Rr)(n,t,e);if(!r)throw new lo;const i={};zr(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new Oi(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yo(t),r,t.component,t,fo(e),po(e)+o.length,_o(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=go(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return[new mi(i,t)]}if(0===a.length&&0===u.length)return[new mi(i,[])];const l=this.processSegment(a,c,u,"primary");return[new mi(i,l)]}}function fo(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function po(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function go(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>mo(t,e,n)&&"primary"!==bo(n))}(t,n,r)){const i=new Gr(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&"primary"!==bo(o)){const n=new Gr([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[bo(o)]=n}return i}(t,e,r,new Gr(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>mo(t,e,n))}(t,n,r)){const o=new Gr(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(mo(t,n,a)&&!i[bo(a)]){const n=new Gr([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[bo(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Gr(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function mo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function bo(t){return t.outlet||"primary"}function yo(t){return t.data||{}}function _o(t){return t.resolve||{}}function vo(t){return function(e){return e.pipe(Object(sr.a)(e=>{const n=t(e);return n?Object(Xt.a)(n).pipe(Object(Kt.a)(()=>e)):Object(Xt.a)([e])}))}}class wo{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const Oo=new r.q("ROUTES");class Eo{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Kt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new jr(Vr(r.injector.get(Oo)).map(Ur),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(Xt.a)(this.loader.load(t)):Wr(t()).pipe(Object(Zn.a)(t=>t instanceof r.v?Object(vn.a)(t):Object(Xt.a)(this.compiler.compileModuleAsync(t))))}}class So{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ao,this.attachRef=null}}class Ao{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new So,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Co{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function To(t){throw t}function xo(t,e,n){return e.parse("/")}function Io(t,e){return Object(vn.a)(null)}let Do=(()=>{class t{constructor(t,e,n,i,o,s,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Pn.a,this.errorHandler=To,this.malformedUriErrorHandler=xo,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Io,afterPreactivation:Io},this.urlHandlingStrategy=new Co,this.routeReuseStrategy=new wo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.W);const u=o.get(r.z);this.isNgZoneEnabled=u instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Kr(new Gr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Eo(s,a,t=>this.triggerEvent(new Er(t)),t=>this.triggerEvent(new Sr(t))),this.routerState=_i(this.currentUrlTree,this.rootComponentType),this.transitions=new wn.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(jn.a)(t=>0!==t.id),Object(Kt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(sr.a)(t=>{let n=!1,r=!1;return Object(vn.a)(t).pipe(er(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(sr.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vn.a)(t).pipe(Object(sr.a)(t=>{const n=this.transitions.getValue();return e.next(new pr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Dn.a:[t]}),Object(sr.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(Object(sr.a)(t=>function(t,e,n,r,i){return new Gi(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Kt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),er(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(Zn.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new ho(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Kt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),er(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),er(t=>{const n=new yr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new pr(n,this.serializeUrl(r),i,o);e.next(a);const c=_i(r,this.rootComponentType).snapshot;return Object(vn.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Dn.a}),vo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),er(t=>{const e=new _r(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Kt.a)(t=>Object.assign(Object.assign({},t),{guards:eo(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(Zn.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Xt.a)(t).pipe(Object(Zn.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vn.a)(!0);const s=o.map(o=>{const s=no(o,e,i);let a;if(function(t){return t&&$i(t.canDeactivate)}(s))a=Wr(s.canDeactivate(t,e,n,r));else{if(!$i(s))throw new Error("Invalid CanDeactivate guard");a=Wr(s(t,e,n,r))}return a.pipe(Jn())});return Object(vn.a)(s).pipe(oo())}(t.component,t.route,n,e,r)),Jn(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(Zn.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Xt.a)(e).pipe(Object(ur.a)(e=>Object(Xt.a)([ao(e.route.parent,r),so(e.route,r),uo(t,e.path,n),co(t,e.route,n)]).pipe(Rn(),Jn(t=>!0!==t,!0))),Jn(t=>!0!==t,!0))}(r,o,t,e):Object(vn.a)(n)),Object(Kt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),er(t=>{if(Vi(t.guardsResult)){const e=Nr(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),er(t=>{const e=new vr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(jn.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new mr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),vo(t=>{if(t.guards.canActivateChecks.length)return Object(vn.a)(t).pipe(er(t=>{const e=new wr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(sr.a)(t=>{let n=!1;return Object(vn.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(Zn.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vn.a)(t);let o=0;return Object(Xt.a)(n).pipe(Object(ur.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vn.a)({});const o={};return Object(Xt.a)(i).pipe(Object(Zn.a)(i=>function(t,e,n,r){const i=no(t,e,r);return Wr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(er(t=>{o[i]=t}))),Ln(1),Object(Zn.a)(()=>Object.keys(o).length===i.length?Object(vn.a)(o):Dn.a))}(t._resolve,t,e,r).pipe(Object(Kt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),wi(t,n).resolve),null)))}(t.route,e,r,i)),er(()=>o++),Ln(1),Object(Zn.a)(e=>o===n.length?Object(vn.a)(t):Dn.a))}))}),er({next:()=>n=!0,complete:()=>{if(!n){const n=new mr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),er(t=>{const e=new Or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),vo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Kt.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new mi(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new vi(new wn.a((i=n.value).url),new wn.a(i.params),new wn.a(i.queryParams),new wn.a(i.fragment),new wn.a(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new mi(r,o)}}var i}(t,e._root,n?n._root:void 0);return new yi(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),er(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Kt.a)(t=>(new Ui(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),er({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new mr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new hr(i))),Object(Xn.a)(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Vi(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new mr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new br(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(o){t.reject(o)}}var i;return Dn.a}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Mr(t),this.config=t.map(Ur),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:a,preserveFragment:c}=e;Object(r.T)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const u=n||this.routerState.root,l=c?this.currentUrlTree.fragment:o;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Ii(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Di(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return zr(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Di(n,e,r)}(n);if(o.toRoot())return Ii(e.root,new Gr([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new ki(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new ki(t,t===e.root,0)}const r=xi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new ki(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Ri(s.segmentGroup,s.index,o.commands):Ni(s.segmentGroup,s.index,o.commands);return Ii(s.segmentGroup,a,e,r,i)}(u,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.T)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Vi(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Vi(t))return Hr(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Hr(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new gr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);let s,a,c;i?(s=i.resolve,a=i.reject,c=i.promise):c=new Promise((t,e)=>{s=t,a=e});const u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:s,reject:a,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.M),r.Xb(Zr),r.Xb(Ao),r.Xb(w),r.Xb(r.r),r.Xb(r.w),r.Xb(r.i),r.Xb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),ko=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Po(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Ao),r.Kb(r.O),r.Kb(r.j),r.Yb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Po{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===vi?this.route:t===Ao?this.childContexts:this.parent.get(t,e)}}class No{}class Ro{preload(t,e){return Object(vn.a)(null)}}let jo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Eo(e,n,e=>t.triggerEvent(new Er(e)),e=>t.triggerEvent(new Sr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(jn.a)(t=>t instanceof gr),Object(ur.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Xt.a)(n).pipe(Object(Nn.a)(),Object(Kt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(Zn.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Do),r.Xb(r.w),r.Xb(r.i),r.Xb(r.r),r.Xb(No))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),Mo=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof gr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ir&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Ir(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Do),r.Xb(ft),r.Xb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const Bo=new r.q("ROUTER_CONFIGURATION"),Lo=new r.q("ROUTER_FORROOT_GUARD"),Uo=[w,{provide:Zr,useClass:Qr},{provide:Do,useFactory:function(t,e,n,r,i,s,a,c={},u,l){const h=new Do(null,t,e,n,r,i,s,Vr(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),c.errorHandler&&(h.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(h.malformedUriErrorHandler=c.malformedUriErrorHandler),c.enableTracing){const t=o();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return c.onSameUrlNavigation&&(h.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.urlUpdateStrategy&&(h.urlUpdateStrategy=c.urlUpdateStrategy),c.relativeLinkResolution&&(h.relativeLinkResolution=c.relativeLinkResolution),h},deps:[Zr,Ao,w,r.r,r.w,r.i,Oo,Bo,[class{},new r.A],[class{},new r.A]]},Ao,{provide:vi,useFactory:function(t){return t.routerState.root},deps:[Do]},{provide:r.w,useClass:r.J},jo,Ro,class{preload(t,e){return e().pipe(Object(Xn.a)(()=>Object(vn.a)(null)))}},{provide:Bo,useValue:{enableTracing:!1}}];function Fo(){return new r.y("Router",Do)}let $o=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Uo,Wo(e),{provide:Lo,useFactory:zo,deps:[[Do,new r.A,new r.I]]},{provide:Bo,useValue:n||{}},{provide:m,useFactory:qo,deps:[a,[new r.p(y),new r.A],Bo]},{provide:Mo,useFactory:Vo,deps:[Do,ft,Bo]},{provide:No,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ro},{provide:r.y,multi:!0,useFactory:Fo},[Ho,{provide:r.d,multi:!0,useFactory:Ko,deps:[Ho]},{provide:Xo,useFactory:Go,deps:[Ho]},{provide:r.b,multi:!0,useExisting:Xo}]]}}static forChild(e){return{ngModule:t,providers:[Wo(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(Lo,8),r.Xb(Do,8))}}),t})();function Vo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Mo(t,e,n)}function qo(t,e,n={}){return n.useHash?new v(t,e):new _(t,e)}function zo(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Wo(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Oo,multi:!0,useValue:t}]}let Ho=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Pn.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Do),r=this.injector.get(Bo);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(vn.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Bo),n=this.injector.get(jo),i=this.injector.get(Mo),o=this.injector.get(Do),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Ko(t){return t.appInitializer.bind(t)}function Go(t){return t.bootstrapListener.bind(t)}const Xo=new r.q("Router Initializer");function Yo(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=t=>n(t)})}var Jo,Zo=n("no5z");!function(t){t[t.ActiveUserChanged=0]="ActiveUserChanged",t[t.ListenerRegistered=1]="ListenerRegistered",t[t.UserAdded=2]="UserAdded",t[t.UserLinked=3]="UserLinked",t[t.UserLoggedIn=4]="UserLoggedIn",t[t.UserLoggedOut=5]="UserLoggedOut",t[t.UserRemoved=6]="UserRemoved"}(Jo||(Jo={}));var Qo,ts=function(){function t(t,e,n,r,i,o,s,a){this.userId=t,this.deviceId=e,this.accessToken=n,this.refreshToken=r,this.loggedInProviderType=i,this.loggedInProviderName=o,this.lastAuthActivity=s,this.userProfile=a}return t.empty=function(){return new t(void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0)},Object.defineProperty(t.prototype,"hasUser",{get:function(){return void 0!==this.userId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return void 0===this.deviceId},enumerable:!0,configurable:!0}),t.prototype.loggedOut=function(){return new t(this.userId,this.deviceId,void 0,void 0,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},t.prototype.withClearedUser=function(){return new t(void 0,this.deviceId,void 0,void 0,void 0,void 0,void 0,void 0)},t.prototype.withAuthProvider=function(e,n){return new t(this.userId,this.deviceId,this.accessToken,this.refreshToken,e,n,new Date,this.userProfile)},t.prototype.withNewAuthActivityTime=function(){return new t(this.userId,this.deviceId,this.accessToken,this.refreshToken,this.loggedInProviderType,this.loggedInProviderName,new Date,this.userProfile)},Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return void 0!==this.accessToken&&void 0!==this.refreshToken},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t(void 0===e.userId?this.userId:e.userId,void 0===e.deviceId?this.deviceId:e.deviceId,void 0===e.accessToken?this.accessToken:e.accessToken,void 0===e.refreshToken?this.refreshToken:e.refreshToken,void 0===e.loggedInProviderType?this.loggedInProviderType:e.loggedInProviderType,void 0===e.loggedInProviderName?this.loggedInProviderName:e.loggedInProviderName,void 0===e.lastAuthActivity?this.lastAuthActivity:e.lastAuthActivity,void 0===e.userProfile?this.userProfile:e.userProfile)},t}(),es=(Qo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}Qo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ns=function(t){Error.call(this,t),Error.captureStackTrace&&Error.captureStackTrace(this),this.message=t,this.name=this.constructor.name};ns.prototype=Object.create(Error.prototype);var rs,is,os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return es(e,t),e}(ns);!function(t){t[t.TRANSPORT_ERROR=0]="TRANSPORT_ERROR",t[t.DECODING_ERROR=1]="DECODING_ERROR",t[t.ENCODING_ERROR=2]="ENCODING_ERROR"}(is||(is={}));var ss,as=((rs={})[is.TRANSPORT_ERROR]="the request transport encountered an error communicating with Stitch",rs[is.DECODING_ERROR]="an error occurred while decoding a response from Stitch",rs[is.ENCODING_ERROR]="an error occurred while encoding a request for Stitch",rs),cs=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),us=function(t){function e(e,n){var r=this;return(r=t.call(this,"("+is[n]+"): "+as[n]+": "+e.message)||this).underlyingError=e,r.errorCode=n,r.errorCodeName=is[n],r}return cs(e,t),e}(os);!function(t){t[t.MissingAuthReq=0]="MissingAuthReq",t[t.InvalidSession=1]="InvalidSession",t[t.UserAppDomainMismatch=2]="UserAppDomainMismatch",t[t.DomainNotAllowed=3]="DomainNotAllowed",t[t.ReadSizeLimitExceeded=4]="ReadSizeLimitExceeded",t[t.InvalidParameter=5]="InvalidParameter",t[t.MissingParameter=6]="MissingParameter",t[t.TwilioError=7]="TwilioError",t[t.GCMError=8]="GCMError",t[t.HTTPError=9]="HTTPError",t[t.AWSError=10]="AWSError",t[t.MongoDBError=11]="MongoDBError",t[t.ArgumentsNotAllowed=12]="ArgumentsNotAllowed",t[t.FunctionExecutionError=13]="FunctionExecutionError",t[t.NoMatchingRuleFound=14]="NoMatchingRuleFound",t[t.InternalServerError=15]="InternalServerError",t[t.AuthProviderNotFound=16]="AuthProviderNotFound",t[t.AuthProviderAlreadyExists=17]="AuthProviderAlreadyExists",t[t.ServiceNotFound=18]="ServiceNotFound",t[t.ServiceTypeNotFound=19]="ServiceTypeNotFound",t[t.ServiceAlreadyExists=20]="ServiceAlreadyExists",t[t.ServiceCommandNotFound=21]="ServiceCommandNotFound",t[t.ValueNotFound=22]="ValueNotFound",t[t.ValueAlreadyExists=23]="ValueAlreadyExists",t[t.ValueDuplicateName=24]="ValueDuplicateName",t[t.FunctionNotFound=25]="FunctionNotFound",t[t.FunctionAlreadyExists=26]="FunctionAlreadyExists",t[t.FunctionDuplicateName=27]="FunctionDuplicateName",t[t.FunctionSyntaxError=28]="FunctionSyntaxError",t[t.FunctionInvalid=29]="FunctionInvalid",t[t.IncomingWebhookNotFound=30]="IncomingWebhookNotFound",t[t.IncomingWebhookAlreadyExists=31]="IncomingWebhookAlreadyExists",t[t.IncomingWebhookDuplicateName=32]="IncomingWebhookDuplicateName",t[t.RuleNotFound=33]="RuleNotFound",t[t.ApiKeyNotFound=34]="ApiKeyNotFound",t[t.RuleAlreadyExists=35]="RuleAlreadyExists",t[t.RuleDuplicateName=36]="RuleDuplicateName",t[t.AuthProviderDuplicateName=37]="AuthProviderDuplicateName",t[t.RestrictedHost=38]="RestrictedHost",t[t.ApiKeyAlreadyExists=39]="ApiKeyAlreadyExists",t[t.IncomingWebhookAuthFailed=40]="IncomingWebhookAuthFailed",t[t.ExecutionTimeLimitExceeded=41]="ExecutionTimeLimitExceeded",t[t.FunctionNotCallable=42]="FunctionNotCallable",t[t.UserAlreadyConfirmed=43]="UserAlreadyConfirmed",t[t.UserNotFound=44]="UserNotFound",t[t.UserDisabled=45]="UserDisabled",t[t.Unknown=46]="Unknown"}(ss||(ss={}));var ls={APIKeyAlreadyExists:ss.ApiKeyAlreadyExists,APIKeyNotFound:ss.ApiKeyNotFound,AWSError:ss.AWSError,ArgumentsNotAllowed:ss.ArgumentsNotAllowed,AuthProviderAlreadyExists:ss.AuthProviderAlreadyExists,AuthProviderDuplicateName:ss.AuthProviderDuplicateName,AuthProviderNotFound:ss.AuthProviderNotFound,DomainNotAllowed:ss.DomainNotAllowed,ExecutionTimeLimitExceeded:ss.ExecutionTimeLimitExceeded,FunctionAlreadyExists:ss.FunctionAlreadyExists,FunctionDuplicateName:ss.FunctionDuplicateName,FunctionExecutionError:ss.FunctionExecutionError,FunctionInvalid:ss.FunctionInvalid,FunctionNotCallable:ss.FunctionNotCallable,FunctionNotFound:ss.FunctionNotFound,FunctionSyntaxError:ss.FunctionSyntaxError,GCMError:ss.GCMError,HTTPError:ss.HTTPError,IncomingWebhookAlreadyExists:ss.IncomingWebhookAlreadyExists,IncomingWebhookAuthFailed:ss.IncomingWebhookAuthFailed,IncomingWebhookDuplicateName:ss.IncomingWebhookDuplicateName,IncomingWebhookNotFound:ss.IncomingWebhookNotFound,InternalServerError:ss.InternalServerError,InvalidParameter:ss.InvalidParameter,InvalidSession:ss.InvalidSession,MissingAuthReq:ss.MissingAuthReq,MissingParameter:ss.MissingParameter,MongoDBError:ss.MongoDBError,NoMatchingRuleFound:ss.NoMatchingRuleFound,ReadSizeLimitExceeded:ss.ReadSizeLimitExceeded,RestrictedHost:ss.RestrictedHost,RuleAlreadyExists:ss.RuleAlreadyExists,RuleDuplicateName:ss.RuleDuplicateName,RuleNotFound:ss.RuleNotFound,ServiceAlreadyExists:ss.ServiceAlreadyExists,ServiceCommandNotFound:ss.ServiceCommandNotFound,ServiceNotFound:ss.ServiceNotFound,ServiceTypeNotFound:ss.ServiceTypeNotFound,TwilioError:ss.TwilioError,UserAlreadyConfirmed:ss.UserAlreadyConfirmed,UserAppDomainMismatch:ss.UserAppDomainMismatch,UserDisabled:ss.UserDisabled,UserNotFound:ss.UserNotFound,ValueAlreadyExists:ss.ValueAlreadyExists,ValueDuplicateName:ss.ValueDuplicateName,ValueNotFound:ss.ValueNotFound};function hs(t){return t in ls?ls[t]:ss.Unknown}var fs,ds,ps=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gs=function(t){function e(e,n){void 0===n&&(n=ss.Unknown);var r=t.call(this,e)||this;return r.message=e,r.errorCode=n,r.errorCodeName=ss[n],r}return ps(e,t),e}(os),ms=function(){function t(){}return t.APPLICATION_JSON="application/json",t.TEXT_EVENT_STREAM="text/event-stream",t}(),bs=function(){function t(){}return t.getAuthorizationBearer=function(e){return t.AUTHORIZATION_BEARER+" "+e},t.CONTENT_TYPE=(t.CONTENT_TYPE_CANON="Content-Type").toLocaleLowerCase(),t.AUTHORIZATION=(t.AUTHORIZATION_CANON="Authorization").toLocaleLowerCase(),t.ACCEPT=(t.ACCEPT_CANON="Accept").toLocaleLowerCase(),t.AUTHORIZATION_BEARER="Bearer",t}();function ys(t){return t instanceof os?t:new us(t,is.DECODING_ERROR)}function _s(t){if(void 0===t.body)throw new gs("received unexpected status code "+t.statusCode,ss.Unknown);var e;try{e=t.body}catch(r){throw new gs("received unexpected status code "+t.statusCode,ss.Unknown)}var n=function(t,e){if(void 0===t.headers[bs.CONTENT_TYPE]||void 0!==t.headers[bs.CONTENT_TYPE]&&t.headers[bs.CONTENT_TYPE]!==ms.APPLICATION_JSON)return e;var n=JSON.parse(e);if(!(n instanceof Object))return e;if(void 0===n[fs.ERROR])return e;var r=n[fs.ERROR];if(void 0===n[fs.ERROR_CODE])return r;throw new gs(r,hs(n[fs.ERROR_CODE]))}(t,e);throw new gs(n,ss.Unknown)}!function(t){t.ERROR="error",t.ERROR_CODE="error_code"}(fs||(fs={})),function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.HEAD="HEAD",t.OPTIONS="OPTIONS",t.TRACE="TRACE",t.PATCH="PATCH"}(ds||(ds={}));var vs=ds,ws=function(){function t(t,e,n,r,i){this.method=t,this.path=e,this.headers=n,this.body=i,this.startedAt=r}return Object.defineProperty(t.prototype,"builder",{get:function(){return new t.Builder(this)},enumerable:!0,configurable:!0}),t}();!function(t){var e=function(){function e(t){void 0!==t&&(this.method=t.method,this.path=t.path,this.headers=t.headers,this.body=t.body,this.startedAt=t.startedAt)}return e.prototype.withMethod=function(t){return this.method=t,this},e.prototype.withPath=function(t){return this.path=t,this},e.prototype.withHeaders=function(t){return this.headers=t,this},e.prototype.withBody=function(t){return this.body=t,this},e.prototype.build=function(){if(void 0===this.method)throw Error("must set method");if(void 0===this.path)throw Error("must set non-empty path");return void 0===this.startedAt&&(this.startedAt=Date.now()/1e3),new t(this.method,this.path,void 0===this.headers?{}:this.headers,this.startedAt,this.body)},e}();t.Builder=e}(ws||(ws={}));var Os,Es,Ss=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),As=function(t){function e(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0);var i=t.call(this,e.method,e.path,e.headers,e.startedAt,e.body)||this;return i.useRefreshToken=n,i.shouldRefreshOnFailure=r,i}return Ss(e,t),Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}(ws);Os=As||(As={}),Es=function(t){function e(e){return t.call(this,e)||this}return Ss(e,t),e.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},e.prototype.withRefreshToken=function(){return this.useRefreshToken=!0,this},e.prototype.withShouldRefreshOnFailure=function(t){return this.shouldRefreshOnFailure=t,this},e.prototype.build=function(){return this.useRefreshToken&&(this.shouldRefreshOnFailure=!1),new Os(t.prototype.build.call(this),this.useRefreshToken,this.shouldRefreshOnFailure)},e}(ws.Builder),Os.Builder=Es;var Cs=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ts=function(t){function e(e,n){var r=this;return(r=e instanceof As?t.call(this,e,e.useRefreshToken,e.shouldRefreshOnFailure)||this:t.call(this,e)||this).document=n,r}return Cs(e,t),Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}(As);!function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return void 0!==t&&(n.document=t.document,n.useRefreshToken=t.useRefreshToken),n}return Cs(n,e),n.prototype.withDocument=function(t){return this.document=t,this},n.prototype.withAccessToken=function(){return this.useRefreshToken=!1,this},n.prototype.build=function(){if(void 0===this.document||!(this.document instanceof Object))throw new Error("document must be set: "+this.document);return void 0===this.headers&&this.withHeaders({}),this.headers[bs.CONTENT_TYPE]=ms.APPLICATION_JSON,this.withBody(Zo.a.stringify(this.document,{relaxed:!1})),new t(e.prototype.build.call(this),this.document)},n}(As.Builder);t.Builder=e}(Ts||(Ts={}));var xs,Is,Ds=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ks=function(t){function e(e,n){var r=t.call(this,e.method,e.path,e.headers,e.startedAt,e.body)||this;return r.document=n,r}return Ds(e,t),Object.defineProperty(e.prototype,"builder",{get:function(){return new e.Builder(this)},enumerable:!0,configurable:!0}),e}(ws);!function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return void 0!==t&&(n.document=t.document),n}return Ds(n,e),n.prototype.withDocument=function(t){return this.document=t,this},n.prototype.build=function(){if(void 0===this.document||!(this.document instanceof Object))throw new Error("document must be set");return void 0===this.headers&&this.withHeaders({}),this.headers[bs.CONTENT_TYPE]=ms.APPLICATION_JSON,this.withBody(Zo.a.stringify(this.document,{relaxed:!1})),new t(e.prototype.build.call(this),this.document)},n}(ws.Builder);t.Builder=e}(ks||(ks={})),function(t){t[t.LoggedOutDuringRequest=0]="LoggedOutDuringRequest",t[t.MustAuthenticateFirst=1]="MustAuthenticateFirst",t[t.UserNoLongerValid=2]="UserNoLongerValid",t[t.UserNotFound=3]="UserNotFound",t[t.UserNotLoggedIn=4]="UserNotLoggedIn",t[t.CouldNotLoadPersistedAuthInfo=5]="CouldNotLoadPersistedAuthInfo",t[t.CouldNotPersistAuthInfo=6]="CouldNotPersistAuthInfo",t[t.StreamingNotSupported=7]="StreamingNotSupported",t[t.StreamClosed=8]="StreamClosed",t[t.UnexpectedArguments=9]="UnexpectedArguments"}(Is||(Is={}));var Ps,Ns=((xs={})[Is.LoggedOutDuringRequest]="logged out while making a request to Stitch",xs[Is.MustAuthenticateFirst]="method called requires being authenticated",xs[Is.UserNoLongerValid]="user instance being accessed is no longer valid; please get a new user with auth.getUser()",xs[Is.UserNotFound]="user not found in list of users",xs[Is.UserNotLoggedIn]="cannot make the active user a logged out user; please use loginWithCredential() to switch to this user",xs[Is.CouldNotLoadPersistedAuthInfo]="failed to load stored auth information for Stitch",xs[Is.CouldNotPersistAuthInfo]="failed to save auth information for Stitch",xs[Is.StreamingNotSupported]="streaming not supported in this SDK",xs[Is.StreamClosed]="stream is closed",xs[Is.UnexpectedArguments]="function does not accept arguments",xs),Rs=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),js=function(t){function e(e){var n=this;return(n=t.call(this,"("+Is[e]+"): "+Ns[e])||this).errorCode=e,n.errorCodeName=Is[e],n}return Rs(e,t),e}(os),Ms=function(){function t(t,e){this.eventName=t,this.data=e}return t.MESSAGE_EVENT="message",t}(),Bs=function(){function t(e,n,r){this.eventName=e,n=n||"";for(var i=[],o=0;o<n.length;o++){var s=n[o];switch(s){case"%":if(o+2>=n.length)break;var a=void 0;switch(n.substring(o+1,o+3)){case"25":a=!0,i.push("%");break;case"0A":a=!0,i.push("\n");break;case"0D":a=!0,i.push("\r");break;default:a=!1}if(a){o+=2;continue}}i.push(s)}var c=i.join("");switch(this.eventName){case t.ERROR_EVENT_NAME:var u=void 0,l=void 0;try{var h=Zo.a.parse(c,{strict:!1});u=h[Ps.Error],l=hs(h[Ps.ErrorCode])}catch(f){u=c,l=ss.Unknown}this.error=new gs(u,l);break;case Ms.MESSAGE_EVENT:this.data=Zo.a.parse(c,{strict:!1}),r&&(this.data=r.decode(this.data))}}return t.fromEvent=function(e,n){return new t(e.eventName,e.data,n)},t.ERROR_EVENT_NAME="error",t}();!function(t){t.Error="error",t.ErrorCode="error_code"}(Ps||(Ps={}));var Ls=function(){function t(t,e){this.eventStream=t,this.decoder=e,this.listeners=[]}return t.prototype.next=function(){var t=this;return this.eventStream.nextEvent().then((function(e){var n=Bs.fromEvent(e,t.decoder);if(n.eventName===Bs.ERROR_EVENT_NAME)throw n.error;return n.eventName===Ms.MESSAGE_EVENT?n.data:t.next()}))},t.prototype.onNext=function(t){var e=this;this.eventStream.addListener({onEvent:function(n){var r=Bs.fromEvent(n,e.decoder);r.eventName===Ms.MESSAGE_EVENT&&t(r.data)}})},t.prototype.onError=function(t){var e=this;this.eventStream.addListener({onEvent:function(n){var r=Bs.fromEvent(n,e.decoder);r.eventName===Bs.ERROR_EVENT_NAME&&t(r.error)}})},t.prototype.addListener=function(t){var e=this,n={onEvent:function(n){var r=Bs.fromEvent(n,e.decoder);r.eventName===Bs.ERROR_EVENT_NAME?t.onError&&t.onError(r.error):t.onNext&&t.onNext(r.data)}};this.listeners.push([t,n]),this.eventStream.addListener(n)},t.prototype.removeListener=function(t){for(var e=-1,n=0;n<this.listeners.length;n++)if(this.listeners[n][0]===t){e=n;break}if(-1!==e){var r=this.listeners[e][1];this.listeners.splice(e,1),this.eventStream.removeListener(r)}},t.prototype.isOpen=function(){return this.eventStream.isOpen()},t.prototype.close=function(){this.eventStream.close()},t}(),Us=function(){function t(t,e,n){void 0===e&&(e={}),void 0===n&&(n=[]),this.userType=t,this.data=e,this.identities=n}return t.empty=function(){return new t},Object.defineProperty(t.prototype,"name",{get:function(){return this.data.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"email",{get:function(){return this.data.email},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pictureUrl",{get:function(){return this.data.picture},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstName",{get:function(){return this.data.first_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastName",{get:function(){return this.data.last_name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gender",{get:function(){return this.data.gender},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"birthday",{get:function(){return this.data.birthday},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAge",{get:function(){var t=this.data.min_age;if(void 0!==t)return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAge",{get:function(){var t=this.data.max_age;if(void 0!==t)return t},enumerable:!0,configurable:!0}),t}(),Fs=function(){function t(t,e,n,r,i,o,s){this.id=t,this.loggedInProviderType=e,this.loggedInProviderName=n,this.profile=void 0===o?Us.empty():o,this.isLoggedIn=r,this.lastAuthActivity=i,this.customData=void 0===s?{}:s}return Object.defineProperty(t.prototype,"userType",{get:function(){return this.profile.userType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"identities",{get:function(){return this.profile.identities},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return this.id===t.id&&JSON.stringify(this.identities)===JSON.stringify(t.identities)&&this.isLoggedIn===t.isLoggedIn&&this.loggedInProviderName===t.loggedInProviderName&&this.loggedInProviderType===t.loggedInProviderType&&JSON.stringify(this.profile)===JSON.stringify(t.profile)},t}(),$s=function(){function t(){}return t.TYPE="anon-user",t.DEFAULT_NAME="anon-user",t}(),Vs=function(t,e,n,r){this.authInfo=t,this.providerType=e,this.providerName=n,this.asLink=r},qs=n("H7XF");function zs(t){var e;return"undefined"==typeof Uint8Array&&(e=Ws(t)),e=new Uint8Array(Ws(t)),Object(qs.fromByteArray)(e)}function Ws(t){for(var e,n=1/0,r=t.length,i=null,o=[],s=0;s<r;s++){if((e=t.charCodeAt(s))>55295&&e<57344){if(!i){if(e>56319){(n-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(n-=3)>-1&&o.push(239,191,189),i=e;continue}e=i-55296<<10|e-56320|65536,i=null}else i&&((n-=3)>-1&&o.push(239,191,189),i=null);if(e<128){if((n-=1)<0)break;o.push(e)}else if(e<2048){if((n-=2)<0)break;o.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;o.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<2097152))throw new Error("Invalid code point");if((n-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return o}function Hs(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var Ks,Gs=function(){function t(t,e,n){this.expires=t,this.issuedAt=e,this.userData=n}return t.fromEncoded=function(e){var n=t.splitToken(e),r=JSON.parse(function(t){var e,n=t.length%4;e=0!=n?t+"=".repeat(4-n):t;var r=Object(qs.toByteArray)(e);return function(t,e,n){var r="",i="";n=Math.min(t.length,n||1/0);for(var o=e=e||0;o<n;o++)t[o]<=127?(r+=Hs(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+Hs(i)}(r,0,r.length)}(n[1]));return new t(r.exp,r.iat,r.user_data)},t.splitToken=function(t){var e=t.split(".");if(3!==e.length)throw new Error("Malformed JWT token. The string "+t+" should have 3 parts.");return e},t}(),Xs=function(){function t(t){this.auth=t}return t.prototype.shouldRefresh=function(){var t=this.auth;if(void 0===t)return!1;if(!t.isLoggedIn)return!1;var e,n=t.authInfo;if(void 0===n)return!1;if(!n.isLoggedIn)return!1;try{e=Gs.fromEncoded(n.accessToken)}catch(r){return console.log(r),!1}return!(Date.now()/1e3<e.expires-300)},t.prototype.run=function(){var t=this;this.shouldRefresh()?this.auth.refreshAccessToken().then((function(){t.nextTimeout=setTimeout((function(){return t.run()}),6e4)})).catch((function(){t.nextTimeout=setTimeout((function(){return t.run()}),6e4)})):this.nextTimeout=setTimeout((function(){return t.run()}),6e4)},t.prototype.stop=function(){clearTimeout(this.nextTimeout)},t}(),Ys=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.USER_ID="user_id",t.DEVICE_ID="device_id",t.ACCESS_TOKEN="access_token",t.REFRESH_TOKEN="refresh_token"}(Ks||(Ks={}));var Js,Zs=function(t){function e(e,n,r,i){return t.call(this,e,n,r,i)||this}return Ys(e,t),e.fromJSON=function(t){return new e(t[Ks.USER_ID],t[Ks.DEVICE_ID],t[Ks.ACCESS_TOKEN],t[Ks.REFRESH_TOKEN])},e.prototype.toJSON=function(){var t;return(t={})[Ks.USER_ID]=this.userId,t[Ks.DEVICE_ID]=this.deviceId,t[Ks.ACCESS_TOKEN]=this.accessToken,t[Ks.REFRESH_TOKEN]=this.refreshToken,t},e}(ts),Qs=function(){function t(){}return t.keyPresent=function(t,e){if(void 0===e[t])throw new Error("expected "+t+" to be present")},t}(),ta=function(t,e){this.id=t,this.providerType=e},ea=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.ID="id",t.PROVIDER_TYPE="provider_type"}(Js||(Js={}));var na,ra=function(t){function e(e,n){return t.call(this,e,n)||this}return ea(e,t),e.fromJSON=function(t){return new e(t[Js.ID],t[Js.PROVIDER_TYPE])},e.prototype.toJSON=function(){var t;return(t={})[Js.ID]=this.id,t[Js.PROVIDER_TYPE]=this.providerType,t},e}(ta),ia=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.DATA="data",t.USER_TYPE="type",t.IDENTITIES="identities"}(na||(na={}));var oa,sa=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return ia(e,t),e.fromJSON=function(t){return Qs.keyPresent(na.USER_TYPE,t),Qs.keyPresent(na.DATA,t),Qs.keyPresent(na.IDENTITIES,t),new e(t[na.USER_TYPE],t[na.DATA],t[na.IDENTITIES].map(ra.fromJSON))},e.prototype.toJSON=function(){var t;return(t={})[na.DATA]=this.data,t[na.USER_TYPE]=this.userType,t[na.IDENTITIES]=this.identities,t},e}(Us),aa=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.ID="id",t.PROVIDER_TYPE="provider_type"}(oa||(oa={}));var ca,ua=function(t){function e(e,n){return t.call(this,e,n)||this}return aa(e,t),e.decode=function(t){return new e(t[oa.ID],t[oa.PROVIDER_TYPE])},e.prototype.encode=function(){var t;return(t={})[oa.ID]=this.id,t[oa.PROVIDER_TYPE]=this.providerType,t},e}(ta),la=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.DATA="data",t.USER_TYPE="type",t.IDENTITIES="identities"}(ca||(ca={}));var ha,fa=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.userType=e,i.data=n,i.identities=r,i}return la(e,t),e.decode=function(t){return t?new e(t[ca.USER_TYPE],t[ca.DATA],t[ca.IDENTITIES].map((function(t){return ua.decode(t)}))):void 0},e.prototype.encode=function(){var t;return(t={})[ca.DATA]=this.data,t[ca.USER_TYPE]=this.userType,t[ca.IDENTITIES]=this.identities.map((function(t){return t.encode()})),t},e}(Us),da=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function pa(t,e){if(t.isEmpty)e.remove(ba.ACTIVE_USER_STORAGE_NAME);else{var n=new ba(t.userId,t.deviceId,t.accessToken,t.refreshToken,t.loggedInProviderType,t.loggedInProviderName,t.lastAuthActivity,t.userProfile?new fa(t.userProfile.userType,t.userProfile.data,t.userProfile.identities.map((function(t){return new ua(t.id,t.providerType)}))):void 0);e.set(ba.ACTIVE_USER_STORAGE_NAME,JSON.stringify(n.encode()))}}function ga(t,e){var n=[];t.forEach((function(t,e){var r=new ba(e,t.deviceId,t.accessToken,t.refreshToken,t.loggedInProviderType,t.loggedInProviderName,t.lastAuthActivity,t.userProfile?new fa(t.userProfile.userType,t.userProfile.data,t.userProfile.identities.map((function(t){return new ua(t.id,t.providerType)}))):void 0);n.push(r.encode())})),e.set(ba.ALL_USERS_STORAGE_NAME,JSON.stringify(n))}!function(t){t.USER_ID="user_id",t.DEVICE_ID="device_id",t.ACCESS_TOKEN="access_token",t.REFRESH_TOKEN="refresh_token",t.LAST_AUTH_ACTIVITY="last_auth_activity",t.LOGGED_IN_PROVIDER_TYPE="logged_in_provider_type",t.LOGGED_IN_PROVIDER_NAME="logged_in_provider_name",t.USER_PROFILE="user_profile"}(ha||(ha={}));var ma,ba=function(t){function e(e,n,r,i,o,s,a,c){var u=t.call(this,e,n,r,i,o,s,a,c)||this;return u.userProfile=c,u}return da(e,t),e.decode=function(t){var n=t[ha.USER_PROFILE];return new e(t[ha.USER_ID],t[ha.DEVICE_ID],t[ha.ACCESS_TOKEN],t[ha.REFRESH_TOKEN],t[ha.LOGGED_IN_PROVIDER_TYPE],t[ha.LOGGED_IN_PROVIDER_NAME],new Date(t[ha.LAST_AUTH_ACTIVITY]),fa.decode(n))},e.prototype.encode=function(){var t={};return t[ha.USER_ID]=this.userId,t[ha.ACCESS_TOKEN]=this.accessToken,t[ha.REFRESH_TOKEN]=this.refreshToken,t[ha.DEVICE_ID]=this.deviceId,t[ha.LOGGED_IN_PROVIDER_NAME]=this.loggedInProviderName,t[ha.LOGGED_IN_PROVIDER_TYPE]=this.loggedInProviderType,t[ha.LAST_AUTH_ACTIVITY]=this.lastAuthActivity?this.lastAuthActivity.getTime():void 0,t[ha.USER_PROFILE]=this.userProfile?this.userProfile.encode():void 0,t},e.ACTIVE_USER_STORAGE_NAME="auth_info",e.ALL_USERS_STORAGE_NAME="all_auth_infos",e}(ts),ya=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s},_a=function(){function t(t,e,n,r){var i,o;void 0===r&&(r=!0),this.requestClient=t,this.authRoutes=e,this.storage=n;try{i=function(t){var e=t.get(ba.ALL_USERS_STORAGE_NAME);if(!e)return new Map;var n=JSON.parse(e);if(!Array.isArray(n))throw new js(Is.CouldNotLoadPersistedAuthInfo);var r=new Map;return n.forEach((function(t){var e=ba.decode(t);r.set(e.userId,e)})),r}(n)}catch(s){throw new js(Is.CouldNotLoadPersistedAuthInfo)}this.allUsersAuthInfo=i;try{o=function(t){var e=t.get(ba.ACTIVE_USER_STORAGE_NAME);if(e)return ba.decode(JSON.parse(e))}(n)}catch(s){throw new js(Is.CouldNotLoadPersistedAuthInfo)}this.activeUserAuthInfo=void 0===o?ts.empty():o,this.activeUserAuthInfo.hasUser&&(this.currentUser=this.prepUser(this.activeUserAuthInfo)),r&&(this.accessTokenRefresher=new Xs(this),this.accessTokenRefresher.run())}return Object.defineProperty(t.prototype,"authInfo",{get:function(){return this.activeUserAuthInfo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return void 0!==this.currentUser&&this.currentUser.isLoggedIn},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.currentUser},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasDeviceId",{get:function(){return void 0!==this.activeUserAuthInfo.deviceId&&""!==this.activeUserAuthInfo.deviceId&&"000000000000000000000000"!==this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceId",{get:function(){if(this.hasDeviceId)return this.activeUserAuthInfo.deviceId},enumerable:!0,configurable:!0}),t.prototype.listUsers=function(){var t=this,e=[];return this.allUsersAuthInfo.forEach((function(n){e.push(t.prepUser(n))})),e},t.prototype.doAuthenticatedRequest=function(t,e){var n=this;try{return this.requestClient.doRequest(this.prepareAuthRequest(t,e||this.activeUserAuthInfo)).catch((function(e){return n.handleAuthFailure(e,t)}))}catch(r){return Promise.reject(r)}},t.prototype.doAuthenticatedRequestWithDecoder=function(t,e){return this.doAuthenticatedRequest(t).then((function(t){var n=Zo.a.parse(t.body,{strict:!1});return e?e.decode(n):n})).catch((function(t){throw ys(t)}))},t.prototype.openAuthenticatedEventStream=function(t,e){var n=this;if(void 0===e&&(e=!0),!this.isLoggedIn)throw new js(Is.MustAuthenticateFirst);return this.requestClient.doStreamRequest(t.builder.withPath(t.path+"&stitch_at="+(t.useRefreshToken?this.activeUserAuthInfo.refreshToken:this.activeUserAuthInfo.accessToken)).build(),e,(function(){return n.openAuthenticatedEventStream(t,!1)})).catch((function(r){return n.handleAuthFailureForEventStream(r,t,e)}))},t.prototype.openAuthenticatedStreamWithDecoder=function(t,e){return this.openAuthenticatedEventStream(t).then((function(t){return new Ls(t,e)}))},t.prototype.refreshAccessToken=function(){var t=this,e=(new As.Builder).withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(vs.POST);return this.doAuthenticatedRequest(e.build()).then((function(e){try{var n=Zs.fromJSON(JSON.parse(e.body));if(t.activeUserAuthInfo=t.activeUserAuthInfo.merge(n),n.accessToken&&t.user instanceof Fs){var r=Gs.fromEncoded(n.accessToken).userData;t.user.customData=void 0===r?{}:r}}catch(i){throw new us(i,is.DECODING_ERROR)}try{pa(t.activeUserAuthInfo,t.storage),t.allUsersAuthInfo.set(t.activeUserAuthInfo.userId,t.activeUserAuthInfo),ga(t.allUsersAuthInfo,t.storage)}catch(i){throw new js(Is.CouldNotPersistAuthInfo)}}))},t.prototype.switchToUserWithId=function(t){var e=this.allUsersAuthInfo.get(t);if(void 0===e)throw new js(Is.UserNotFound);if(!e.isLoggedIn)throw new js(Is.UserNotLoggedIn);this.activeUserAuthInfo.hasUser&&this.allUsersAuthInfo.set(this.activeUserAuthInfo.userId,this.activeUserAuthInfo.withNewAuthActivityTime());var n=e.withNewAuthActivityTime();this.allUsersAuthInfo.set(t,n),pa(n,this.storage),this.activeUserAuthInfo=n;var r=this.currentUser;return this.currentUser=this.prepUser(n),this.onAuthEvent(),this.dispatchAuthEvent({currentActiveUser:this.currentUser,kind:Jo.ActiveUserChanged,previousActiveUser:r}),this.currentUser},t.prototype.loginWithCredentialInternal=function(t){var e,n,r=this;if(t instanceof Vs)return this.processLogin(t,t.authInfo,t.asLink).then((function(t){return r.dispatchAuthEvent({kind:Jo.UserLoggedIn,loggedInUser:t}),t}));if(t.providerCapabilities.reusesExistingSession)try{for(var i=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}(this.allUsersAuthInfo),o=i.next();!o.done;o=i.next()){var s=ya(o.value,2),a=s[0],c=s[1];if(c.loggedInProviderType===t.providerType){if(c.isLoggedIn)try{return Promise.resolve(this.switchToUserWithId(a))}catch(u){return Promise.reject(u)}void 0!==c.userId&&this.removeUserWithIdInternal(c.userId)}}}catch(l){e={error:l}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this.doLogin(t,!1)},t.prototype.linkUserWithCredentialInternal=function(t,e){return void 0!==this.currentUser&&t.id!==this.currentUser.id?Promise.reject(new js(Is.UserNoLongerValid)):this.doLogin(e,!0)},t.prototype.logoutInternal=function(){return this.isLoggedIn&&this.currentUser?this.logoutUserWithIdInternal(this.currentUser.id):Promise.resolve()},t.prototype.logoutUserWithIdInternal=function(t){var e=this,n=this.allUsersAuthInfo.get(t);if(void 0===n)return Promise.reject(new js(Is.UserNotFound));if(!n.isLoggedIn)return Promise.resolve();var r=function(){e.clearUserAuthTokens(n.userId),n.loggedInProviderType===$s.TYPE&&e.removeUserWithIdInternal(n.userId)};return this.doLogout(n).then((function(){r()})).catch((function(){r()}))},t.prototype.removeUserInternal=function(){return this.isLoggedIn&&void 0!==this.currentUser?this.removeUserWithIdInternal(this.currentUser.id):Promise.resolve()},t.prototype.removeUserWithIdInternal=function(t){var e=this,n=this.allUsersAuthInfo.get(t);if(void 0===n)return Promise.reject(new js(Is.UserNotFound));var r=function(){e.clearUserAuthTokens(n.userId),e.allUsersAuthInfo.delete(t),ga(e.allUsersAuthInfo,e.storage);var r=e.prepUser(n.loggedOut());e.onAuthEvent(),e.dispatchAuthEvent({kind:Jo.UserRemoved,removedUser:r})};return n.isLoggedIn?this.doLogout(n).then((function(){r()})).catch((function(t){r()})):(r(),Promise.resolve())},t.prototype.close=function(){this.accessTokenRefresher&&this.accessTokenRefresher.stop()},t.prototype.prepareAuthRequest=function(t,e){if(!e.isLoggedIn)throw new js(Is.MustAuthenticateFirst);var n=t.builder,r=n.headers||{};return r[bs.AUTHORIZATION]=bs.getAuthorizationBearer(t.useRefreshToken?e.refreshToken:e.accessToken),n.withHeaders(r),n.build()},t.prototype.handleAuthFailureForEventStream=function(t,e,n){var r=this;if(void 0===n&&(n=!0),!(t instanceof gs)||t.errorCode!==ss.InvalidSession)throw t;if(e.useRefreshToken||!e.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),t;return this.tryRefreshAccessToken(e.startedAt).then((function(){return r.openAuthenticatedEventStream(e.builder.withShouldRefreshOnFailure(!1).build(),n)}))},t.prototype.handleAuthFailure=function(t,e){var n=this;if(!(t instanceof gs)||t.errorCode!==ss.InvalidSession)throw t;if(e.useRefreshToken||!e.shouldRefreshOnFailure)throw this.clearActiveUserAuth(),t;return this.tryRefreshAccessToken(e.startedAt).then((function(){return n.doAuthenticatedRequest(e.builder.withShouldRefreshOnFailure(!1).build())}))},t.prototype.tryRefreshAccessToken=function(t){if(!this.isLoggedIn)throw new js(Is.LoggedOutDuringRequest);try{if(Gs.fromEncoded(this.activeUserAuthInfo.accessToken).issuedAt>=t)return Promise.resolve()}catch(e){}return this.refreshAccessToken()},t.prototype.prepUser=function(t){return this.userFactory.makeUser(t.userId,t.loggedInProviderType,t.loggedInProviderName,t.isLoggedIn,t.lastAuthActivity,t.userProfile)},t.prototype.attachAuthOptions=function(t){var e={};e.device=this.deviceInfo,t.options=e},t.prototype.doLogin=function(t,e){var n=this,r=this.currentUser;return this.doLoginRequest(t,e).then((function(r){return n.processLoginResponse(t,r,e)})).then((function(t){return n.onAuthEvent(),e?n.dispatchAuthEvent({kind:Jo.UserLinked,linkedUser:t}):(n.dispatchAuthEvent({kind:Jo.UserLoggedIn,loggedInUser:t}),n.dispatchAuthEvent({currentActiveUser:t,kind:Jo.ActiveUserChanged,previousActiveUser:r})),t}))},t.prototype.doLoginRequest=function(t,e){var n=new ks.Builder;n.withMethod(vs.POST),n.withPath(e?this.authRoutes.getAuthProviderLinkRoute(t.providerName):this.authRoutes.getAuthProviderLoginRoute(t.providerName));var r=t.material;if(this.attachAuthOptions(r),n.withDocument(r),!e)return this.requestClient.doRequest(n.build());var i=new Ts(n.build(),n.document);return this.doAuthenticatedRequest(i)},t.prototype.processLogin=function(t,e,n){var r=this,i=this.activeUserAuthInfo,o=this.currentUser;return e=this.activeUserAuthInfo.merge(new ts(e.userId,e.deviceId,e.accessToken,e.refreshToken,t.providerType,t.providerName,void 0,void 0)),this.activeUserAuthInfo=e,this.currentUser=this.userFactory.makeUser(this.activeUserAuthInfo.userId,t.providerType,t.providerName,this.activeUserAuthInfo.isLoggedIn,new Date,void 0,Gs.fromEncoded(e.accessToken).userData),this.doGetUserProfile().then((function(n){i.hasUser&&r.allUsersAuthInfo.set(i.userId,i.withNewAuthActivityTime()),e=e.merge(new ts(e.userId,e.deviceId,e.accessToken,e.refreshToken,t.providerType,t.providerName,new Date,n));var s=!r.allUsersAuthInfo.has(e.userId);try{pa(e,r.storage),r.allUsersAuthInfo.set(e.userId,e),ga(r.allUsersAuthInfo,r.storage)}catch(a){throw r.activeUserAuthInfo=i,r.currentUser=o,e.userId!==i.userId&&e.userId&&r.allUsersAuthInfo.delete(e.userId),new js(Is.CouldNotPersistAuthInfo)}return r.activeUserAuthInfo=e,r.currentUser=r.userFactory.makeUser(r.activeUserAuthInfo.userId,t.providerType,t.providerName,r.activeUserAuthInfo.isLoggedIn,r.activeUserAuthInfo.lastAuthActivity,n,Gs.fromEncoded(e.accessToken).userData),s&&(r.onAuthEvent(),r.dispatchAuthEvent({addedUser:r.currentUser,kind:Jo.UserAdded})),r.currentUser})).catch((function(t){if(t instanceof js)throw t;if(n||i.hasUser){var e=r.activeUserAuthInfo;r.activeUserAuthInfo=i,r.currentUser=o,n&&(r.activeUserAuthInfo=r.activeUserAuthInfo.withAuthProvider(e.loggedInProviderType,e.loggedInProviderName))}else r.clearActiveUserAuth();throw t}))},t.prototype.processLoginResponse=function(t,e,n){try{if(!e)throw new gs("the login response could not be processed for credential: "+t+";response was undefined");if(!e.body)throw new gs("response with status code "+e.statusCode+" has empty body");return this.processLogin(t,Zs.fromJSON(JSON.parse(e.body)),n)}catch(r){throw new us(r,is.DECODING_ERROR)}},t.prototype.doGetUserProfile=function(){var t=new As.Builder;return t.withMethod(vs.GET).withPath(this.authRoutes.profileRoute),this.doAuthenticatedRequest(t.build()).then((function(t){return sa.fromJSON(JSON.parse(t.body))})).catch((function(t){throw t instanceof os?t:new us(t,is.DECODING_ERROR)}))},t.prototype.doLogout=function(t){var e=new As.Builder;return e.withRefreshToken().withPath(this.authRoutes.sessionRoute).withMethod(vs.DELETE),this.doAuthenticatedRequest(e.build(),t).then((function(){}))},t.prototype.clearActiveUserAuth=function(){this.isLoggedIn&&this.clearUserAuthTokens(this.activeUserAuthInfo.userId)},t.prototype.clearUserAuthTokens=function(t){var e=this.allUsersAuthInfo.get(t);if(void 0===e){if(this.activeUserAuthInfo.userId!==t)throw new js(Is.UserNotFound)}else if(!e.isLoggedIn)return;try{var n=void 0;if(e){var r=e.loggedOut();this.allUsersAuthInfo.set(t,r),ga(this.allUsersAuthInfo,this.storage),n=this.userFactory.makeUser(r.userId,r.loggedInProviderType,r.loggedInProviderName,r.isLoggedIn,r.lastAuthActivity,r.userProfile)}var i=!1;this.activeUserAuthInfo.hasUser&&this.activeUserAuthInfo.userId===t&&(i=!0,this.activeUserAuthInfo=this.activeUserAuthInfo.withClearedUser(),this.currentUser=void 0,pa(this.activeUserAuthInfo,this.storage)),n&&(this.onAuthEvent(),this.dispatchAuthEvent({kind:Jo.UserLoggedOut,loggedOutUser:n}),i&&this.dispatchAuthEvent({currentActiveUser:void 0,kind:Jo.ActiveUserChanged,previousActiveUser:n}))}catch(o){throw new js(Is.CouldNotPersistAuthInfo)}},t}();!function(t){t.DEVICE_ID="deviceId",t.APP_ID="appId",t.APP_VERSION="appVersion",t.PLATFORM="platform",t.PLATFORM_VERSION="platformVersion",t.SDK_VERSION="sdkVersion"}(ma||(ma={}));var va,wa=ma,Oa=function(t){void 0===t&&(t=!1),this.reusesExistingSession=t},Ea=function(t){void 0===t&&(t=$s.DEFAULT_NAME),this.providerType=$s.TYPE,this.material={},this.providerCapabilities=new Oa(!0),this.providerName=t};!function(){function t(){}t.TYPE="custom-token",t.DEFAULT_NAME="custom-token"}(),function(t){t.TOKEN="token"}(va||(va={}));var Sa,Aa=function(){function t(){}return t.TYPE="oauth2-facebook",t.DEFAULT_NAME="oauth2-facebook",t}();!function(t){t.ACCESS_TOKEN="accessToken"}(Sa||(Sa={})),Object.defineProperty((function(t,e){var n;void 0===e&&(e=Aa.DEFAULT_NAME),this.providerType=Aa.TYPE,this.providerName=e,this.accessToken=t,this.material=((n={})[Sa.ACCESS_TOKEN]=this.accessToken,n)}).prototype,"providerCapabilities",{get:function(){return new Oa(!1)},enumerable:!0,configurable:!0});var Ca,Ta,xa=function(){function t(){}return t.TYPE="custom-function",t.DEFAULT_NAME="custom-function",t}();Object.defineProperty((function(t,e){void 0===e&&(e=xa.DEFAULT_NAME),this.providerType=xa.TYPE,this.providerName=e,this.material=t}).prototype,"providerCapabilities",{get:function(){return new Oa(!1)},enumerable:!0,configurable:!0}),function(){function t(){}t.TYPE="oauth2-google",t.DEFAULT_NAME="oauth2-google"}(),function(t){t.AUTH_CODE="authCode"}(Ca||(Ca={})),function(){function t(){}t.TYPE="api-key",t.DEFAULT_NAME="api-key"}(),function(t){t.KEY="key"}(Ta||(Ta={}));var Ia,Da=function(t,e,n){this.providerName=t,this.requestClient=e,this.baseRoute=n};!function(t){t.ID="_id",t.KEY="key",t.NAME="name",t.DISABLED="disabled"}(Ia||(Ia={}));var ka,Pa=function(){function t(t,e,n,r){this.id=Zo.b.ObjectID.createFromHexString(t),this.key=e,this.name=n,this.disabled=r}return t.readFromApi=function(e){var n="string"==typeof e?JSON.parse(e):e;return Qs.keyPresent(Ia.ID,n),Qs.keyPresent(Ia.NAME,n),Qs.keyPresent(Ia.DISABLED,n),new t(n[Ia.ID],n[Ia.KEY],n[Ia.NAME],n[Ia.DISABLED])},t.prototype.toJSON=function(){var t;return(t={})[Ia.ID]=this.id,t[Ia.KEY]=this.key,t[Ia.NAME]=this.name,t[Ia.DISABLED]=this.disabled,t},t}(),Na=function(){function t(){}return t.TYPE="api-key",t.DEFAULT_NAME="api-key",t}(),Ra=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.NAME="name"}(ka||(ka={}));var ja,Ma=function(t){function e(e,n){return t.call(this,Na.DEFAULT_NAME,e,n.baseAuthRoute+"/api_keys")||this}return Ra(e,t),e.prototype.createApiKey=function(t){var e,n=new Ts.Builder;return n.withMethod(vs.POST).withPath(this.baseRoute).withDocument((e={},e[ka.NAME]=t,e)).withRefreshToken(),this.requestClient.doAuthenticatedRequest(n.build()).then((function(t){return Pa.readFromApi(t.body)})).catch((function(t){throw ys(t)}))},e.prototype.fetchApiKey=function(t){var e=new As.Builder;return e.withMethod(vs.GET).withPath(this.getApiKeyRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then((function(t){return Pa.readFromApi(t.body)})).catch((function(t){throw ys(t)}))},e.prototype.fetchApiKeys=function(){var t=new As.Builder;return t.withMethod(vs.GET).withPath(this.baseRoute),t.withRefreshToken(),this.requestClient.doAuthenticatedRequest(t.build()).then((function(t){var e=JSON.parse(t.body);if(Array.isArray(e))return e.map((function(t){return Pa.readFromApi(t)}));throw new us(new Error("unexpected non-array response from server"),is.DECODING_ERROR)})).catch((function(t){throw ys(t)}))},e.prototype.deleteApiKey=function(t){var e=new As.Builder;return e.withMethod(vs.DELETE).withPath(this.getApiKeyRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then((function(){}))},e.prototype.enableApiKey=function(t){var e=new As.Builder;return e.withMethod(vs.PUT).withPath(this.getApiKeyEnableRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then((function(){}))},e.prototype.disableApiKey=function(t){var e=new As.Builder;return e.withMethod(vs.PUT).withPath(this.getApiKeyDisableRoute(t.toHexString())),e.withRefreshToken(),this.requestClient.doAuthenticatedRequest(e.build()).then((function(){}))},e.prototype.getApiKeyRoute=function(t){return this.baseRoute+"/"+t},e.prototype.getApiKeyEnableRoute=function(t){return this.getApiKeyRoute(t)+"/enable"},e.prototype.getApiKeyDisableRoute=function(t){return this.getApiKeyRoute(t)+"/disable"},e}(Da);!function(t){t.KEY="key"}(ja||(ja={}));var Ba,La,Ua=function(){function t(){}return t.TYPE="local-userpass",t.DEFAULT_NAME="local-userpass",t}(),Fa=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();!function(t){t.EMAIL="email",t.PASSWORD="password"}(Ba||(Ba={})),function(t){t.EMAIL="email",t.PASSWORD="password",t.TOKEN="token",t.TOKEN_ID="tokenId",t.ARGS="arguments"}(La||(La={}));var $a,Va,qa,za=function(t){function e(e,n,r){void 0===e&&(e=Ua.DEFAULT_NAME);var i=r.getAuthProviderRoute(e);return t.call(this,e,n,i)||this}return Fa(e,t),e.prototype.registerWithEmailInternal=function(t,e){var n,r=new ks.Builder;return r.withMethod(vs.POST).withPath(this.getRegisterWithEmailRoute()),r.withDocument(((n={})[Ba.EMAIL]=t,n[Ba.PASSWORD]=e,n)),this.requestClient.doRequest(r.build()).then((function(){}))},e.prototype.confirmUserInternal=function(t,e){var n,r=new ks.Builder;return r.withMethod(vs.POST).withPath(this.getConfirmUserRoute()),r.withDocument(((n={})[La.TOKEN]=t,n[La.TOKEN_ID]=e,n)),this.requestClient.doRequest(r.build()).then((function(){}))},e.prototype.resendConfirmationEmailInternal=function(t){var e,n=new ks.Builder;return n.withMethod(vs.POST).withPath(this.getResendConfirmationEmailRoute()),n.withDocument(((e={})[La.EMAIL]=t,e)),this.requestClient.doRequest(n.build()).then((function(){}))},e.prototype.resetPasswordInternal=function(t,e,n){var r,i=new ks.Builder;return i.withMethod(vs.POST).withPath(this.getResetPasswordRoute()),i.withDocument(((r={})[La.TOKEN]=t,r[La.TOKEN_ID]=e,r[La.PASSWORD]=n,r)),this.requestClient.doRequest(i.build()).then((function(){}))},e.prototype.sendResetPasswordEmailInternal=function(t){var e,n=new ks.Builder;return n.withMethod(vs.POST).withPath(this.getSendResetPasswordEmailRoute()),n.withDocument(((e={})[La.EMAIL]=t,e)),this.requestClient.doRequest(n.build()).then((function(){}))},e.prototype.callResetPasswordFunctionInternal=function(t,e,n){var r,i=new ks.Builder;return i.withMethod(vs.POST).withPath(this.getCallResetPasswordFunctionRoute()),i.withDocument(((r={})[La.EMAIL]=t,r[La.PASSWORD]=e,r[La.ARGS]=n,r)),this.requestClient.doRequest(i.build()).then((function(){}))},e.prototype.getRegisterWithEmailRoute=function(){return this.getExtensionRoute("register")},e.prototype.getConfirmUserRoute=function(){return this.getExtensionRoute("confirm")},e.prototype.getResendConfirmationEmailRoute=function(){return this.getExtensionRoute("confirm/send")},e.prototype.getResetPasswordRoute=function(){return this.getExtensionRoute("reset")},e.prototype.getSendResetPasswordEmailRoute=function(){return this.getExtensionRoute("reset/send")},e.prototype.getCallResetPasswordFunctionRoute=function(){return this.getExtensionRoute("reset/call")},e.prototype.getExtensionRoute=function(t){return this.baseRoute+"/"+t},e}(Da);!function(t){t.USERNAME="username",t.PASSWORD="password"}($a||($a={})),function(t){t.Normal="normal",t.Server="server",t.Unknown="unknown"}(Va||(Va={})),function(){function t(t){this.suiteName=t,this.storage={}}t.prototype.get=function(t){return this.storage[this.suiteName+"."+t]},t.prototype.set=function(t,e){this.storage[this.suiteName+"."+t]=e},t.prototype.remove=function(t){delete this.storage[this.suiteName+"."+t]}}(),function(t){t[t.AUTH_EVENT=0]="AUTH_EVENT"}(qa||(qa={}));var Wa=function(){function t(t,e,n){this.serviceField="service",this.argumentsField="arguments",this.requestClient=t,this.serviceRoutes=e,this.serviceName=n,this.serviceBinders=[],this.allocatedStreams=[]}return t.prototype.callFunction=function(t,e,n){return this.requestClient.doAuthenticatedRequestWithDecoder(this.getCallServiceFunctionRequest(t,e),n)},t.prototype.streamFunction=function(t,e,n){var r=this;return this.requestClient.openAuthenticatedStreamWithDecoder(this.getStreamServiceFunctionRequest(t,e),n).then((function(t){return r.allocatedStreams.push(t),t}))},t.prototype.bind=function(t){this.serviceBinders.push(t)},t.prototype.onRebindEvent=function(t){switch(t.type){case qa.AUTH_EVENT:t.event.kind===Jo.ActiveUserChanged&&this.closeAllocatedStreams()}this.serviceBinders.forEach((function(e){e.onRebindEvent(t)}))},t.prototype.getStreamServiceFunctionRequest=function(t,e){var n={name:t};void 0!==this.serviceName&&(n[this.serviceField]=this.serviceName),n[this.argumentsField]=e;var r=new As.Builder;return r.withMethod(vs.GET).withPath(this.serviceRoutes.functionCallRoute+"?stitch_request="+encodeURIComponent(zs(Zo.a.stringify(n)))),r.build()},t.prototype.getCallServiceFunctionRequest=function(t,e){var n={name:t};void 0!==this.serviceName&&(n[this.serviceField]=this.serviceName),n[this.argumentsField]=e;var r=new Ts.Builder;return r.withMethod(vs.POST).withPath(this.serviceRoutes.functionCallRoute),r.withDocument(n),r.build()},t.prototype.closeAllocatedStreams=function(){this.allocatedStreams.forEach((function(t){t.isOpen()&&t.close()})),this.allocatedStreams=[]},t}(),Ha=function(){function t(t,e){this.functionService=new Wa(t,e.serviceRoutes)}return t.prototype.callFunction=function(t,e,n){return this.functionService.callFunction(t,e,n)},t}(),Ka=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},Ga=function(){function t(t){this.reconnecter=t,this.closed=!1,this.events=[],this.listeners=[],this.lastErr=void 0}return t.prototype.isOpen=function(){return!this.closed},t.prototype.addListener=function(t){var e=this;this.closed?setTimeout((function(){return t.onEvent(new Ms(Bs.ERROR_EVENT_NAME,"stream closed"))}),0):void 0===this.lastErr?(this.listeners.push(t),this.poll()):setTimeout((function(){return t.onEvent(new Ms(Bs.ERROR_EVENT_NAME,e.lastErr))}),0)},t.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1!==e&&this.listeners.splice(e,1)},t.prototype.nextEvent=function(){var t=this;return this.closed?Promise.reject(new Ms(Bs.ERROR_EVENT_NAME,"stream closed")):void 0!==this.lastErr?Promise.reject(new Ms(Bs.ERROR_EVENT_NAME,this.lastErr)):new Promise((function(e,n){t.listenOnce({onEvent:function(t){e(t)}})}))},t.prototype.close=function(){this.closed||(this.closed=!0,this.afterClose())},t.prototype.reconnect=function(e){var n=this;this.reconnecter?this.reconnecter().then((function(t){n.onReconnect(t)})).catch((function(r){if(!(r instanceof os&&r instanceof us))return n.closed=!0,n.events.push(new Ms(Bs.ERROR_EVENT_NAME,"stream closed: "+e)),void n.poll();setTimeout((function(){return n.reconnect(r)}),t.RETRY_TIMEOUT_MILLIS)})):this.closed||(this.closed=!0,this.events.push(new Ms(Bs.ERROR_EVENT_NAME,"stream closed: "+e)),this.poll())},t.prototype.poll=function(){for(var t,e;0!==this.events.length;){var n=this.events.pop();try{for(var r=Ka(this.listeners),i=r.next();!i.done;i=r.next()){var o=i.value;o.onEvent&&o.onEvent(n)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}}},t.prototype.listenOnce=function(t){var e=this;if(this.closed)setTimeout((function(){return t.onEvent(new Ms(Bs.ERROR_EVENT_NAME,"stream closed"))}),0);else if(void 0===this.lastErr){var n={onEvent:function(r){e.removeListener(n),t.onEvent(r)}};this.addListener(n)}else setTimeout((function(){return t.onEvent(new Ms(Bs.ERROR_EVENT_NAME,e.lastErr))}),0)},t.RETRY_TIMEOUT_MILLIS=5e3,t}(),Xa=function(t,e,n,r){this.method=t,this.url=e,this.headers=n,this.body=r};!function(t){var e=function(){function e(t){t&&(this.method=t.method,this.url=t.url,this.headers=t.headers,this.body=t.body)}return e.prototype.withMethod=function(t){return this.method=t,this},e.prototype.withUrl=function(t){return this.url=t,this},e.prototype.withHeaders=function(t){return this.headers=t,this},e.prototype.withBody=function(t){return this.body=t,this},e.prototype.build=function(){if(void 0===this.method)throw new Error("must set method");if(void 0===this.url)throw new Error("must set non-empty url");return new t(this.method,this.url,void 0===this.headers?{}:this.headers,this.body)},e}();t.Builder=e}(Xa||(Xa={}));var Ya=function(t,e,n){var r=this;this.statusCode=e,this.body=n,this.headers={},Object.keys(t).map((function(e,n){r.headers[e.toLocaleLowerCase()]=t[e]}))};function Ja(t){return"/api/client/v2.0/app/"+t}function Za(t){return Ja(t)+"/functions/call"}function Qa(t,e){return Ja(t)+"/auth/providers/"+e}function tc(t,e){return Qa(t,e)+"/login"}var ec,nc=function(){function t(t){this.baseAuthRoute="/api/client/v2.0/auth",this.sessionRoute=this.baseAuthRoute+"/session",this.profileRoute=this.baseAuthRoute+"/profile",this.clientAppId=t}return t.prototype.getAuthProviderRoute=function(t){return Qa(this.clientAppId,t)},t.prototype.getAuthProviderLoginRoute=function(t){return tc(this.clientAppId,t)},t.prototype.getAuthProviderLinkRoute=function(t){return function(t,e){return tc(t,e)+"?link=true"}(this.clientAppId,t)},t.prototype.getAuthProviderExtensionRoute=function(t,e){return this.getAuthProviderRoute(t)+"/"+e},t}();!function(t){t.DEPLOYMENT_MODEL="deployment_model",t.LOCATION="location",t.HOSTNAME="hostname"}(ec||(ec={}));var rc=function(){function t(t,e,n){this.deploymentModel=t,this.location=e,this.hostname=n}return t.fromJSON=function(e){return new t(e[ec.DEPLOYMENT_MODEL],e[ec.LOCATION],e[ec.HOSTNAME])},t.prototype.toJSON=function(){var t;return(t={})[ec.DEPLOYMENT_MODEL]=this.deploymentModel,t[ec.LOCATION]=this.location,t[ec.HOSTNAME]=this.hostname,t},t}(),ic=function(){function t(t,e){this.baseUrl=t,this.transport=e}return t.prototype.doRequestToURL=function(t,e){return this.transport.roundTrip(this.buildRequest(t,e)).catch((function(t){throw new us(t,is.TRANSPORT_ERROR)})).then((function(t){return(e=t).statusCode>=200&&e.statusCode<300?e:_s(e);var e}))},t.prototype.doStreamRequestToURL=function(t,e,n,r){return void 0===n&&(n=!0),this.transport.stream(this.buildRequest(t,e),n,r).catch((function(t){if(t instanceof os)throw t;throw new us(t,is.TRANSPORT_ERROR)}))},t.prototype.buildRequest=function(t,e){return(new Xa.Builder).withMethod(t.method).withUrl(""+e+t.path).withHeaders(t.headers).withBody(t.body).build()},t}(),oc=function(t){this.clientAppId=t,this.functionCallRoute=Za(t)},sc=function(t){this.clientAppId=t,this.authRoutes=new nc(t),this.serviceRoutes=new oc(t),this.appMetadataRoute=function(t){return Ja(t)+"/location"}(t),this.functionCallRoute=Za(t)},ac=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cc=function(t){function e(e,n,r){var i=t.call(this,n,r)||this;return i.clientAppId=e,i.routes=new sc(e),i}return ac(e,t),e.prototype.doRequest=function(e){var n=this;return this.initAppMetadata().then((function(r){return t.prototype.doRequestToURL.call(n,e,r.hostname)}))},e.prototype.doStreamRequest=function(e,n,r){var i=this;return void 0===n&&(n=!0),this.initAppMetadata().then((function(o){return t.prototype.doStreamRequestToURL.call(i,e,o.hostname,n,r)}))},e.prototype.getBaseURL=function(){return t=this,void 0,n=function(){return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,(function(t){return[2,this.initAppMetadata().then((function(t){return t.hostname}))]}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(e){i(e)}}function s(t){try{a(n.throw(t))}catch(e){i(e)}}function a(t){t.done?r(t.value):new e((function(e){e(t.value)})).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n},e.prototype.initAppMetadata=function(){var e=this;if(this.appMetadata)return Promise.resolve(this.appMetadata);var n=(new ws.Builder).withMethod(vs.GET).withPath(this.routes.appMetadataRoute).build();return t.prototype.doRequestToURL.call(this,n,this.baseUrl).then((function(t){return e.appMetadata=rc.fromJSON(Zo.a.parse(t.body)),e.appMetadata}))},e}(ic),uc=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lc=(function(t){function e(e,n){return t.call(this,e,n)||this}uc(e,t),e.prototype.doRequest=function(e){return t.prototype.doRequestToURL.call(this,e,this.baseUrl)},e.prototype.doStreamRequest=function(e,n,r){return void 0===n&&(n=!0),t.prototype.doStreamRequestToURL.call(this,e,this.baseUrl,n,r)},e.prototype.getBaseURL=function(){return Promise.resolve(this.baseUrl)}}(ic),function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),hc=function(t){function e(e){var n=t.call(this)||this;return n.type=qa.AUTH_EVENT,n.event=e,n}return lc(e,t),e}((function(){})),fc=function(){function t(t,e,n,r){this.baseUrl=t,this.storage=e,this.dataDirectory=n,this.transport=r}return t.prototype.builder=function(){return new t.Builder(this)},t}();!function(t){var e=function(){function e(t){t&&(this.baseUrl=t.baseUrl,this.storage=t.storage,this.dataDirectory=t.dataDirectory,this.transport=t.transport)}return e.prototype.withBaseUrl=function(t){return this.baseUrl=t,this},e.prototype.withStorage=function(t){return this.storage=t,this},e.prototype.withDataDirectory=function(t){return this.dataDirectory=t,this},e.prototype.withTransport=function(t){return this.transport=t,this},e.prototype.build=function(){return new t(this.baseUrl,this.storage,this.dataDirectory,this.transport)},e}();t.Builder=e}(fc||(fc={}));var dc=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pc=function(t){function e(e,n,r){var i=t.call(this,e.baseUrl,e.storage,e.dataDirectory,e.transport)||this;return i.localAppVersion=r,i.localAppName=n,i}return dc(e,t),e.prototype.builder=function(){return new e.Builder(this)},e}(fc);!function(t){var e=function(e){function n(t){var n=e.call(this,t)||this;return t&&(n.localAppVersion=t.localAppVersion,n.localAppName=t.localAppName),n}return dc(n,e),n.prototype.withLocalAppName=function(t){return this.localAppName=t,this},n.prototype.withLocalAppVersion=function(t){return this.localAppVersion=t,this},n.prototype.build=function(){var n=e.prototype.build.call(this);return new t(n,this.localAppName,this.localAppVersion)},n}(fc.Builder);t.Builder=e}(pc||(pc={}));var gc,mc=function(t,e,n,r){this.clientAppId=t,this.dataDirectory=e,this.localAppName=n,this.localAppVersion=r},bc=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),yc=function(t){function e(e,n){return t.call(this,e,n)||this}return bc(e,t),e.prototype.createApiKey=function(e){return t.prototype.createApiKey.call(this,e)},e.prototype.fetchApiKey=function(e){return t.prototype.fetchApiKey.call(this,e)},e.prototype.fetchApiKeys=function(){return t.prototype.fetchApiKeys.call(this)},e.prototype.deleteApiKey=function(e){return t.prototype.deleteApiKey.call(this,e)},e.prototype.enableApiKey=function(e){return t.prototype.enableApiKey.call(this,e)},e.prototype.disableApiKey=function(e){return t.prototype.disableApiKey.call(this,e)},e}(Ma);(gc||(gc={})).factory=new(function(){function t(){}return t.prototype.getClient=function(t,e,n){return new yc(t,n)},t}());var _c,vc=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wc=function(t){function e(e,n){return t.call(this,Ua.DEFAULT_NAME,e,n)||this}return vc(e,t),e.prototype.registerWithEmail=function(e,n){return t.prototype.registerWithEmailInternal.call(this,e,n)},e.prototype.confirmUser=function(e,n){return t.prototype.confirmUserInternal.call(this,e,n)},e.prototype.resendConfirmationEmail=function(e){return t.prototype.resendConfirmationEmailInternal.call(this,e)},e.prototype.resetPassword=function(e,n,r){return t.prototype.resetPasswordInternal.call(this,e,n,r)},e.prototype.sendResetPasswordEmail=function(e){return t.prototype.sendResetPasswordEmailInternal.call(this,e)},e.prototype.callResetPasswordFunction=function(e,n,r){return t.prototype.callResetPasswordFunctionInternal.call(this,e,n,r)},e}(za);(_c||(_c={})).factory=new(function(){function t(){}return t.prototype.getClient=function(t,e,n){return new wc(e,n)},t}());var Oc="URLSearchParams"in self,Ec="Symbol"in self&&"iterator"in Symbol,Sc="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),Ac="FormData"in self,Cc="ArrayBuffer"in self;if(Cc)var Tc=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],xc=ArrayBuffer.isView||function(t){return t&&Tc.indexOf(Object.prototype.toString.call(t))>-1};function Ic(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function Dc(t){return"string"!=typeof t&&(t=String(t)),t}function kc(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return Ec&&(e[Symbol.iterator]=function(){return e}),e}function Pc(t){this.map={},t instanceof Pc?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function Nc(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function Rc(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function jc(t){var e=new FileReader,n=Rc(e);return e.readAsArrayBuffer(t),n}function Mc(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Bc(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:Sc&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Ac&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Oc&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Cc&&Sc&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=Mc(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Cc&&(ArrayBuffer.prototype.isPrototypeOf(t)||xc(t))?this._bodyArrayBuffer=Mc(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Oc&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Sc&&(this.blob=function(){var t=Nc(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Nc(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(jc)}),this.text=function(){var t,e,n,r=Nc(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=Rc(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ac&&(this.formData=function(){return this.text().then(Fc)}),this.json=function(){return this.text().then(JSON.parse)},this}Pc.prototype.append=function(t,e){t=Ic(t),e=Dc(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},Pc.prototype.delete=function(t){delete this.map[Ic(t)]},Pc.prototype.get=function(t){return t=Ic(t),this.has(t)?this.map[t]:null},Pc.prototype.has=function(t){return this.map.hasOwnProperty(Ic(t))},Pc.prototype.set=function(t,e){this.map[Ic(t)]=Dc(e)},Pc.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},Pc.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),kc(t)},Pc.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),kc(t)},Pc.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),kc(t)},Ec&&(Pc.prototype[Symbol.iterator]=Pc.prototype.entries);var Lc=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Uc(t,e){var n,r,i=(e=e||{}).body;if(t instanceof Uc){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Pc(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Pc(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),Lc.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function Fc(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function $c(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new Pc(e.headers),this.url=e.url||"",this._initBody(t)}Uc.prototype.clone=function(){return new Uc(this,{body:this._bodyInit})},Bc.call(Uc.prototype),Bc.call($c.prototype),$c.prototype.clone=function(){return new $c(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Pc(this.headers),url:this.url})},$c.error=function(){var t=new $c(null,{status:0,statusText:""});return t.type="error",t};var Vc=[301,302,303,307,308];$c.redirect=function(t,e){if(-1===Vc.indexOf(e))throw new RangeError("Invalid status code");return new $c(null,{status:e,headers:{location:t}})};var qc=self.DOMException;try{new qc}catch(p_){(qc=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),qc.prototype.constructor=qc}function zc(t,e){return new Promise((function(n,r){var i=new Uc(t,e);if(i.signal&&i.signal.aborted)return r(new qc("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var t,e,r={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new Pc,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL"),n(new $c("response"in o?o.response:o.responseText,r))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.onabort=function(){r(new qc("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&Sc&&(o.responseType="blob"),i.headers.forEach((function(t,e){o.setRequestHeader(e,t)})),i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",s)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}zc.polyfill=!0,self.fetch||(self.fetch=zc,self.Headers=Pc,self.Request=Uc,self.Response=$c);var Wc,Hc=function(){function t(){}return t.prototype.roundTrip=function(t){var e=zc(t.url,{body:t.body,headers:t.headers,method:t.method,mode:"cors"}),n=e.then((function(t){return t.text()}));return Promise.all([e,n]).then((function(t){var e=t[0],n=t[1],r={};return e.headers.forEach((function(t,e){r[e]=t})),new Ya(r,e.status,n)}))},t.prototype.stream=function(t,e,n){throw void 0===e&&(e=!0),new js(Is.StreamingNotSupported)},t}(),Kc=function(){function t(t){this.suiteName=t}return t.prototype.get=function(t){return localStorage.getItem(this.getKey(t))},t.prototype.set=function(t,e){localStorage.setItem(this.getKey(t),e)},t.prototype.remove=function(t){localStorage.removeItem(this.getKey(t))},t.prototype.getKey=function(t){return"__stitch.client."+this.suiteName+"."+t},t}(),Gc=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xc=function(t){function e(e,n,r,i){var o=t.call(this,i)||this;return o.evtSrc=e,o.onOpenError=r,o.openedOnce=!1,o.evtSrc.onopen=function(t){n(o),o.openedOnce=!0},o.reset(),o}return Gc(e,t),e.prototype.open=function(){if(this.closed)throw new js(Is.StreamClosed)},e.prototype.afterClose=function(){this.evtSrc.close()},e.prototype.onReconnect=function(t){this.evtSrc=t.evtSrc,this.reset(),this.events=t.events.concat(this.events)},e.prototype.reset=function(){var t=this;this.evtSrc.onmessage=function(e){t.events.push(new Ms(Ms.MESSAGE_EVENT,e.data)),t.poll()},this.evtSrc.onerror=function(e){return e instanceof MessageEvent?(t.lastErr=e.data,t.events.push(new Ms(Bs.ERROR_EVENT_NAME,t.lastErr)),t.close(),void t.poll()):t.openedOnce?(t.evtSrc.close(),void t.reconnect()):(t.close(),void t.onOpenError(new Error("event source failed to open and will not reconnect; check network log for more details")))}},e}(Ga),Yc=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Zc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Yc(e,t),e.prototype.stream=function(t,e,n){void 0===e&&(e=!0);var r=Jc({},t.headers);return r[bs.ACCEPT]=ms.TEXT_EVENT_STREAM,r[bs.CONTENT_TYPE]=ms.TEXT_EVENT_STREAM,zc(t.url+"&stitch_validate=true",{body:t.body,headers:r,method:t.method,mode:"cors"}).then((function(e){var r={};return e.headers.forEach((function(t,e){r[e]=t})),e.status<200||e.status>=300?e.text().then((function(t){return _s(new Ya(r,e.status,t))})):new Promise((function(e,r){return new Xc(new EventSource(t.url),(function(t){return e(t)}),(function(t){return r(t)}),n?function(){return n().then((function(t){return t}))}:void 0)}))}))},e}(Hc),Qc=function(){function t(t){this.proxy=t}return t.prototype.callFunction=function(t,e,n){return this.proxy.callFunction(t,e,n)},t.prototype.streamFunction=function(t,e,n){return this.proxy.streamFunction(t,e,n)},t}(),tu=n("SjWX");!function(t){t.StitchError="_stitch_error",t.State="_stitch_state",t.UserAuth="_stitch_ua",t.LinkUser="_stitch_link_user",t.StitchLink="_stitch_link",t.ClientAppId="_stitch_client_app_id"}(Wc||(Wc={}));var eu,nu=Wc;!function(t){t.ProviderName="_stitch_redirect_provider_name",t.ProviderType="_stitch_redirect_provider_type",t.State="_stitch_redirect_state"}(eu||(eu={}));var ru,iu=eu,ou=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),su=function(t){function e(e){return t.call(this,e)||this}return ou(e,t),e}(os),au=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cu=function(t){function e(e,n,r,i,o,s,a,c){var u=t.call(this,e,n,r,i,o,s,c)||this;return u.auth=a,u}return au(e,t),e.prototype.linkWithCredential=function(t){return this.auth.linkWithCredential(this,t)},e.prototype.linkUserWithRedirect=function(t){return this.auth.linkWithRedirectInternal(this,t)},e}(Fs),uu=function(){function t(t){this.auth=t}return t.prototype.makeUser=function(t,e,n,r,i,o,s){return new cu(t,e,n,r,i,o,this.auth,s)},t}(),lu=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),hu=function(t){function e(e,n,r,i,o){void 0===o&&(o=window);var s=t.call(this,e,n,r)||this;return s.browserAuthRoutes=n,s.authStorage=r,s.appInfo=i,s.jsdomWindow=o,s.listeners=new Set,s.synchronousListeners=new Set,s}return lu(e,t),Object.defineProperty(e.prototype,"userFactory",{get:function(){return new uu(this)},enumerable:!0,configurable:!0}),e.prototype.getProviderClient=function(t,e){return function(t){return void 0!==t.getClient}(t)?t.getClient(this,this.requestClient,this.authRoutes):t.getNamedClient(e,this.requestClient,this.authRoutes)},e.prototype.loginWithCredential=function(e){return t.prototype.loginWithCredentialInternal.call(this,e)},e.prototype.loginWithRedirect=function(t){var e=this,n=this.prepareRedirect(t),r=n.redirectUrl,i=n.state;this.requestClient.getBaseURL().then((function(n){e.jsdomWindow.location.replace(n+e.browserAuthRoutes.getAuthProviderRedirectRoute(t,r,i,e.deviceInfo))}))},e.prototype.linkWithRedirectInternal=function(t,n){var r=this;if(void 0!==this.user&&t.id!==this.user.id)return Promise.reject(new js(Is.UserNoLongerValid));var i=this.prepareRedirect(n),o=i.redirectUrl,s=i.state;return this.requestClient.getBaseURL().then((function(t){var i=t+r.browserAuthRoutes.getAuthProviderLinkRedirectRoute(n,o,s,r.deviceInfo);return(e.injectedFetch?e.injectedFetch:fetch)(new Request(i,{credentials:"include",headers:{Authorization:"Bearer "+r.authInfo.accessToken},mode:"cors"}))})).then((function(t){r.jsdomWindow.location.replace(t.headers.get("X-Stitch-Location"))}))},e.prototype.hasRedirectResult=function(){var t=!1;try{return t=this.parseRedirect().isValid}catch(e){return!1}finally{t||this.cleanupRedirect()}},e.prototype.handleRedirectResult=function(){try{var t=this.authStorage.get(iu.ProviderName),e=this.authStorage.get(iu.ProviderType),n=this.parseRedirect();return this.loginWithCredentialInternal(new Vs(this.processRedirectResult(n),e,t,n.asLink)).then((function(t){return t}))}catch(p_){return Promise.reject(p_)}},e.prototype.linkWithCredential=function(e,n){return t.prototype.linkUserWithCredentialInternal.call(this,e,n)},e.prototype.logout=function(){return arguments.length>0?Promise.reject(new js(Is.UnexpectedArguments)):t.prototype.logoutInternal.call(this)},e.prototype.logoutUserWithId=function(e){return t.prototype.logoutUserWithIdInternal.call(this,e)},e.prototype.removeUser=function(){return arguments.length>0?Promise.reject(new js(Is.UnexpectedArguments)):t.prototype.removeUserInternal.call(this)},e.prototype.removeUserWithId=function(e){return t.prototype.removeUserWithIdInternal.call(this,e)},Object.defineProperty(e.prototype,"deviceInfo",{get:function(){var t={};this.hasDeviceId&&(t[wa.DEVICE_ID]=this.deviceId),void 0!==this.appInfo.localAppName&&(t[wa.APP_ID]=this.appInfo.localAppName),void 0!==this.appInfo.localAppVersion&&(t[wa.APP_VERSION]=this.appInfo.localAppVersion);var e=Object(tu.detect)();return e?(t[wa.PLATFORM]=e.name,t[wa.PLATFORM_VERSION]=e.version):(t[wa.PLATFORM]="web",t[wa.PLATFORM_VERSION]="0.0.0"),t[wa.SDK_VERSION]="4.8.0",t},enumerable:!0,configurable:!0}),e.prototype.addAuthListener=function(t){this.listeners.add(t),this.onAuthEvent(t),this.dispatchAuthEvent({kind:Jo.ListenerRegistered})},e.prototype.addSynchronousAuthListener=function(t){this.listeners.add(t),this.onAuthEvent(t),this.dispatchAuthEvent({kind:Jo.ListenerRegistered})},e.prototype.removeAuthListener=function(t){this.listeners.delete(t)},e.prototype.onAuthEvent=function(t){var e=this;t?new Promise((function(n){t.onAuthEvent&&t.onAuthEvent(e),n(void 0)})):this.listeners.forEach((function(t){e.onAuthEvent(t)}))},e.prototype.dispatchAuthEvent=function(t){var e=this;switch(t.kind){case Jo.ActiveUserChanged:this.dispatchBlockToListeners((function(n){n.onActiveUserChanged&&n.onActiveUserChanged(e,t.currentActiveUser,t.previousActiveUser)}));break;case Jo.ListenerRegistered:this.dispatchBlockToListeners((function(t){t.onListenerRegistered&&t.onListenerRegistered(e)}));break;case Jo.UserAdded:this.dispatchBlockToListeners((function(n){n.onUserAdded&&n.onUserAdded(e,t.addedUser)}));break;case Jo.UserLinked:this.dispatchBlockToListeners((function(n){n.onUserLinked&&n.onUserLinked(e,t.linkedUser)}));break;case Jo.UserLoggedIn:this.dispatchBlockToListeners((function(n){n.onUserLoggedIn&&n.onUserLoggedIn(e,t.loggedInUser)}));break;case Jo.UserLoggedOut:this.dispatchBlockToListeners((function(n){n.onUserLoggedOut&&n.onUserLoggedOut(e,t.loggedOutUser)}));break;case Jo.UserRemoved:this.dispatchBlockToListeners((function(n){n.onUserRemoved&&n.onUserRemoved(e,t.removedUser)}));break;default:return this.assertNever(t)}},e.prototype.refreshCustomData=function(){return this.refreshAccessToken()},e.prototype.assertNever=function(t){throw new Error("unexpected object: "+t)},e.prototype.dispatchBlockToListeners=function(t){this.synchronousListeners.forEach(t),this.listeners.forEach((function(e){new Promise((function(n){t(e),n(void 0)}))}))},e.prototype.cleanupRedirect=function(){this.jsdomWindow.history.replaceState(null,"",this.pageRootUrl()),this.authStorage.remove(iu.State),this.authStorage.remove(iu.ProviderName),this.authStorage.remove(iu.ProviderType)},e.prototype.parseRedirect=function(){if(void 0===this.jsdomWindow)throw new su("running in a non-browser environment");if(!this.jsdomWindow.location||!this.jsdomWindow.location.hash)throw new su("window location hash was undefined");var t=this.authStorage.get(iu.State);return function(t,e,n){var r=t.split("&"),i=new fu;return r.forEach((function(t){var r=t.split("=");switch(decodeURIComponent(r[0])){case nu.StitchError:i.lastError=decodeURIComponent(r[1]);break;case nu.UserAuth:try{i.authInfo=function(t){var e=t.split("$");if(4!==e.length)throw new su("invalid user auth data provided while marshalling user authentication data: "+t);var n=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(e,4);return new ts(n[2],n[3],n[0],n[1])}(decodeURIComponent(r[1]))}catch(a){i.lastError=a}break;case nu.StitchLink:"ok"===r[1]&&(i.asLink=!0);break;case nu.State:var o=decodeURIComponent(r[1]);e===o&&(i.stateValid=!0);break;case nu.ClientAppId:var s=decodeURIComponent(r[1]);n===s&&(i.clientAppIdValid=!0)}})),i}(this.jsdomWindow.location.hash.substring(1),t,this.appInfo.clientAppId)},e.prototype.processRedirectResult=function(t){try{if(!t.isValid)throw new su("invalid redirect result");if(t.lastError)throw new su("error handling redirect: "+t.lastError);if(!t.authInfo)throw new su("no user auth value was found: it could not be decoded from fragment")}catch(p_){throw p_}finally{this.cleanupRedirect()}return t.authInfo},e.prototype.prepareRedirect=function(t){this.authStorage.set(iu.ProviderName,t.providerName),this.authStorage.set(iu.ProviderType,t.providerType);var e=t.redirectUrl;void 0===e&&(e=this.pageRootUrl());var n=function(){for(var t="",e=0;e<64;++e)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".length));return t}();return this.authStorage.set(iu.State,n),{redirectUrl:e,state:n}},e.prototype.pageRootUrl=function(){return[this.jsdomWindow.location.protocol,"//",this.jsdomWindow.location.host,this.jsdomWindow.location.pathname].join("")},e}(_a),fu=function(){function t(){this.stateValid=!1,this.clientAppIdValid=!1,this.asLink=!1}return Object.defineProperty(t.prototype,"isValid",{get:function(){return this.stateValid&&this.clientAppIdValid},enumerable:!0,configurable:!0}),t}(),du=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pu=function(t){function e(e){return t.call(this,e)||this}return du(e,t),e.prototype.getAuthProviderRedirectRoute=function(t,e,n,r){return this.getAuthProviderLoginRoute(t.providerName)+"?redirect="+encodeURI(e)+"&state="+n+"&device="+this.uriEncodeObject(r)},e.prototype.getAuthProviderLinkRedirectRoute=function(t,e,n,r){return this.getAuthProviderLoginRoute(t.providerName)+"?redirect="+encodeURI(e)+"&state="+n+"&device="+this.uriEncodeObject(r)+"&link=true&providerRedirectHeader=true"},e.prototype.uriEncodeObject=function(t){return encodeURIComponent(zs(JSON.stringify(t)))},e}(nc),gu=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mu=function(t){function e(e){var n=t.call(this,e)||this;return n.authRoutes=new pu(e),n}return gu(e,t),e}(sc),bu=function(){function t(t,e){this.info=new mc(t,e.dataDirectory,e.localAppName,e.localAppVersion),this.routes=new mu(this.info.clientAppId);var n=new cc(t,e.baseUrl,e.transport);this.auth=new hu(n,this.routes.authRoutes,e.storage,this.info),this.coreClient=new Ha(this.auth,this.routes),this.serviceClients=[],this.auth.addSynchronousAuthListener(this)}return t.prototype.getServiceClient=function(t,e){if(function(t){return void 0!==t.getClient}(t)){var n=new Wa(this.auth,this.routes.serviceRoutes,"");return this.bindServiceClient(n),t.getClient(n,this.info)}return n=new Wa(this.auth,this.routes.serviceRoutes,e),this.bindServiceClient(n),t.getNamedClient(n,this.info)},t.prototype.getGeneralServiceClient=function(t){var e=new Wa(this.auth,this.routes.serviceRoutes,t);return this.bindServiceClient(e),new Qc(e)},t.prototype.callFunction=function(t,e){return this.coreClient.callFunction(t,e)},t.prototype.onActiveUserChanged=function(t,e,n){this.onRebindEvent(new hc({currentActiveUser:e,kind:Jo.ActiveUserChanged,previousActiveUser:n}))},t.prototype.bindServiceClient=function(t){this.serviceClients.push(t)},t.prototype.onRebindEvent=function(t){this.serviceClients.forEach((function(e){e.onRebindEvent(t)}))},t}(),yu={},_u=function(){function t(){}return Object.defineProperty(t,"defaultAppClient",{get:function(){if(void 0===t.defaultClientAppId)throw new Error("default app client has not yet been initialized/set");return yu[t.defaultClientAppId]},enumerable:!0,configurable:!0}),t.getAppClient=function(t){if(void 0===yu[t])throw new Error("client for app '"+t+"' has not yet been initialized");return yu[t]},t.hasAppClient=function(t){return void 0!==yu[t]},t.initializeDefaultAppClient=function(e,n){if(void 0===n&&(n=(new pc.Builder).build()),void 0===e||""===e)throw new Error("clientAppId must be set to a non-empty string");if(void 0!==t.defaultClientAppId)throw new Error("default app can only be set once; currently set to '"+t.defaultClientAppId+"'");var r=t.initializeAppClient(e,n);return t.defaultClientAppId=e,r},t.initializeAppClient=function(e,n){if(void 0===n&&(n=(new pc.Builder).build()),void 0===e||""===e)throw new Error("clientAppId must be set to a non-empty string");if(void 0!==yu[e])throw new Error("client for app '"+e+"' has already been initialized");var r=n.builder?n.builder():new pc.Builder(n);void 0===r.storage&&r.withStorage(new Kc(e)),void 0===r.transport&&(window.EventSource?r.withTransport(new Zc):r.withTransport(new Hc)),void 0!==r.baseUrl&&""!==r.baseUrl||r.withBaseUrl("https://stitch.mongodb.com"),void 0!==r.localAppName&&""!==r.localAppName||r.withLocalAppName(t.localAppName),void 0!==r.localAppVersion&&""!==r.localAppVersion||r.withLocalAppVersion(t.localAppVersion);var i=new bu(e,r.build());return yu[e]=i,i},t.clearApps=function(){yu={}},t}(),vu=function(){function t(t,e,n,r){this.command=t,this.args=e,this.service=n,r&&(this.collectionDecoder=new(function(){function t(){}return t.prototype.decode=function(t){return t instanceof Array?t.map((function(t){return r.decode(t)})):[r.decode(t)]},t}()))}return t.prototype.iterator=function(){return this.executeRead().then((function(t){return t[Symbol.iterator]()}))},t.prototype.first=function(){return this.executeRead().then((function(t){return t[0]}))},t.prototype.toArray=function(){return this.executeRead()},t.prototype.asArray=function(){return this.toArray()},t.prototype.executeRead=function(){return this.service.callFunction(this.command,[this.args],this.collectionDecoder)},t}();function wu(t){switch(t){case"insert":return ru.Insert;case"delete":return ru.Delete;case"replace":return ru.Replace;case"update":return ru.Update;default:return ru.Unknown}}!function(t){t.Insert="insert",t.Delete="delete",t.Replace="replace",t.Update="update",t.Unknown="unknown"}(ru||(ru={}));var Ou,Eu,Su,Au,Cu,Tu,xu,Iu=function(t){var e={};t.forEach((function(t,n){e[n]=t})),this.insertedIds=e};!function(t){t.InsertedIds="insertedIds"}(Ou||(Ou={})),function(t){t.InsertedId="insertedId"}(Eu||(Eu={})),function(t){t.MatchedCount="matchedCount",t.ModifiedCount="modifiedCount",t.UpsertedId="upsertedId"}(Su||(Su={})),function(t){t.DeletedCount="deletedCount"}(Au||(Au={})),function(t){t.UpdatedFields="updatedFields",t.RemovedFields="removedFields"}(Cu||(Cu={})),function(t){t.Id="_id",t.OperationType="operationType",t.FullDocument="fullDocument",t.DocumentKey="documentKey",t.Namespace="ns",t.NamespaceDb="db",t.NamespaceColl="coll",t.UpdateDescription="updateDescription"}(Tu||(Tu={})),function(t){t.OperationType="ot",t.FullDocument="fd",t.DocumentKey="dk",t.UpdateDescription="ud",t.StitchDocumentVersion="sdv",t.StitchDocumentHash="sdh"}(xu||(xu={}));var Du=function(){function t(){}return t.prototype.decode=function(t){return new Iu(t[Ou.InsertedIds])},t}(),ku=function(){function t(){}return t.prototype.decode=function(t){return{insertedId:t[Eu.InsertedId]}},t}(),Pu=function(){function t(){}return t.prototype.decode=function(t){return{matchedCount:t[Su.MatchedCount],modifiedCount:t[Su.ModifiedCount],upsertedId:t[Su.UpsertedId]}},t}(),Nu=function(){function t(){}return t.prototype.decode=function(t){return{deletedCount:t[Au.DeletedCount]}},t}(),Ru=function(){function t(){}return t.prototype.decode=function(t){return Qs.keyPresent(Cu.UpdatedFields,t),Qs.keyPresent(Cu.RemovedFields,t),{removedFields:t[Cu.RemovedFields],updatedFields:t[Cu.UpdatedFields]}},t}();function ju(t,e,n,r){var i,o;return i=e in t?Uu.updateDescriptionDecoder.decode(t[e]):void 0,n in t?(o=t[n],r&&(o=r.decode(o))):o=void 0,{updateDescription:i,fullDocument:o}}var Mu,Bu=function(){function t(t){this.decoder=t}return t.prototype.decode=function(t){Qs.keyPresent(Tu.Id,t),Qs.keyPresent(Tu.OperationType,t),Qs.keyPresent(Tu.Namespace,t),Qs.keyPresent(Tu.DocumentKey,t);var e=t[Tu.Namespace],n=ju(t,Tu.UpdateDescription,Tu.FullDocument,this.decoder),r=n.updateDescription;return{documentKey:t[Tu.DocumentKey],fullDocument:n.fullDocument,id:t[Tu.Id],namespace:{collection:e[Tu.NamespaceColl],database:e[Tu.NamespaceDb]},operationType:wu(t[Tu.OperationType]),updateDescription:r}},t}(),Lu=function(){function t(t){this.decoder=t}return t.prototype.decode=function(t){Qs.keyPresent(xu.OperationType,t),Qs.keyPresent(xu.DocumentKey,t);var e,n,r=ju(t,xu.UpdateDescription,xu.FullDocument,this.decoder),i=r.updateDescription;return e=xu.StitchDocumentVersion in t?t[xu.StitchDocumentVersion]:void 0,n=xu.StitchDocumentHash in t?t[xu.StitchDocumentHash]:void 0,{documentKey:t[xu.DocumentKey],fullDocument:r.fullDocument,operationType:wu(t[xu.OperationType]),stitchDocumentHash:n,stitchDocumentVersion:e,updateDescription:i}},t}(),Uu=function(){function t(){}return t.remoteInsertManyResultDecoder=new Du,t.remoteInsertOneResultDecoder=new ku,t.remoteUpdateResultDecoder=new Pu,t.remoteDeleteResultDecoder=new Nu,t.updateDescriptionDecoder=new Ru,t.ChangeEventDecoder=Bu,t.CompactChangeEventDecoder=Lu,t}(),Fu=Uu,$u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},Vu=function(){function t(t,e,n,r){this.name=t,this.databaseName=e,this.service=n,this.codec=r,this.namespace=this.databaseName+"."+this.name,this.baseOperationArgs={collection:this.name,database:this.databaseName}}return t.prototype.withCollectionType=function(e){return new t(this.name,this.databaseName,this.service,e)},t.prototype.find=function(t,e){void 0===t&&(t={});var n=$u({},this.baseOperationArgs);return n.query=t,e&&(e.limit&&(n.limit=e.limit),e.projection&&(n.project=e.projection),e.sort&&(n.sort=e.sort)),new vu("find",n,this.service,this.codec)},t.prototype.findOne=function(t,e){void 0===t&&(t={});var n=$u({},this.baseOperationArgs);return n.query=t,e&&(e.projection&&(n.project=e.projection),e.sort&&(n.sort=e.sort)),this.service.callFunction("findOne",[n],this.codec)},t.prototype.findOneAndUpdate=function(t,e,n){var r=$u({},this.baseOperationArgs);return r.filter=t,r.update=e,n&&(n.projection&&(r.projection=n.projection),n.sort&&(r.sort=n.sort),n.upsert&&(r.upsert=!0),n.returnNewDocument&&(r.returnNewDocument=!0)),this.service.callFunction("findOneAndUpdate",[r],this.codec)},t.prototype.findOneAndReplace=function(t,e,n){var r=$u({},this.baseOperationArgs);return r.filter=t,r.update=e,n&&(n.projection&&(r.projection=n.projection),n.sort&&(r.sort=n.sort),n.upsert&&(r.upsert=!0),n.returnNewDocument&&(r.returnNewDocument=!0)),this.service.callFunction("findOneAndReplace",[r],this.codec)},t.prototype.findOneAndDelete=function(t,e){var n=$u({},this.baseOperationArgs);return n.filter=t,e&&(e.projection&&(n.projection=e.projection),e.sort&&(n.sort=e.sort)),this.service.callFunction("findOneAndDelete",[n],this.codec)},t.prototype.aggregate=function(t){var e=$u({},this.baseOperationArgs);return e.pipeline=t,new vu("aggregate",e,this.service,this.codec)},t.prototype.count=function(t,e){void 0===t&&(t={});var n=$u({},this.baseOperationArgs);return n.query=t,e&&e.limit&&(n.limit=e.limit),this.service.callFunction("count",[n])},t.prototype.insertOne=function(t){var e=$u({},this.baseOperationArgs);return e.document=this.generateObjectIdIfMissing(this.codec?this.codec.encode(t):t),this.service.callFunction("insertOne",[e],Fu.remoteInsertOneResultDecoder)},t.prototype.insertMany=function(t){var e=this,n=$u({},this.baseOperationArgs);return n.documents=t.map((function(t){return e.generateObjectIdIfMissing(e.codec?e.codec.encode(t):t)})),this.service.callFunction("insertMany",[n],Fu.remoteInsertManyResultDecoder)},t.prototype.deleteOne=function(t){return this.executeDelete(t,!1)},t.prototype.deleteMany=function(t){return this.executeDelete(t,!0)},t.prototype.updateOne=function(t,e,n){return this.executeUpdate(t,e,n,!1)},t.prototype.updateMany=function(t,e,n){return this.executeUpdate(t,e,n,!0)},t.prototype.watch=function(t){var e=$u({},this.baseOperationArgs);return void 0!==t&&(t instanceof Array?0!==t.length&&(e.ids=t):t instanceof Object&&(e.filter=t)),e.useCompactEvents=!1,this.service.streamFunction("watch",[e],new Fu.ChangeEventDecoder(this.codec))},t.prototype.watchCompact=function(t){var e=$u({},this.baseOperationArgs);return e.ids=t,e.useCompactEvents=!0,this.service.streamFunction("watch",[e],new Fu.CompactChangeEventDecoder(this.codec))},t.prototype.executeDelete=function(t,e){var n=$u({},this.baseOperationArgs);return n.query=t,this.service.callFunction(e?"deleteMany":"deleteOne",[n],Fu.remoteDeleteResultDecoder)},t.prototype.executeUpdate=function(t,e,n,r){void 0===r&&(r=!1);var i=$u({},this.baseOperationArgs);return i.query=t,i.update=e,n&&n.upsert&&(i.upsert=n.upsert),this.service.callFunction(r?"updateMany":"updateOne",[i],Fu.remoteUpdateResultDecoder)},t.prototype.generateObjectIdIfMissing=function(t){if(!t._id){var e=t;return e._id=new Zo.b.ObjectID,e}return t},t}(),qu=function(){function t(t,e){this.name=t,this.service=e}return t.prototype.collection=function(t,e){return new Vu(t,this.name,this.service,e)},t}(),zu=function(){function t(t){this.service=t}return t.prototype.db=function(t){return new qu(t,this.service)},t}(),Wu=function(){function t(t){this.proxy=t}return t.prototype.next=function(){return Promise.resolve(this.proxy.next().value)},t}(),Hu=function(){function t(t){this.proxy=t}return t.prototype.first=function(){return this.proxy.first()},t.prototype.toArray=function(){return this.proxy.toArray()},t.prototype.asArray=function(){return this.toArray()},t.prototype.iterator=function(){return this.proxy.iterator().then((function(t){return new Wu(t)}))},t}(),Ku=function(){function t(t){this.proxy=t,this.namespace=this.proxy.namespace}return t.prototype.withCollectionType=function(e){return new t(this.proxy.withCollectionType(e))},t.prototype.count=function(t,e){return this.proxy.count(t,e)},t.prototype.find=function(t,e){return new Hu(this.proxy.find(t,e))},t.prototype.findOne=function(t,e){return this.proxy.findOne(t,e)},t.prototype.findOneAndUpdate=function(t,e,n){return this.proxy.findOneAndUpdate(t,e,n)},t.prototype.findOneAndReplace=function(t,e,n){return this.proxy.findOneAndReplace(t,e,n)},t.prototype.findOneAndDelete=function(t,e){return this.proxy.findOneAndDelete(t,e)},t.prototype.aggregate=function(t){return new Hu(this.proxy.aggregate(t))},t.prototype.insertOne=function(t){return this.proxy.insertOne(t)},t.prototype.insertMany=function(t){return this.proxy.insertMany(t)},t.prototype.deleteOne=function(t){return this.proxy.deleteOne(t)},t.prototype.deleteMany=function(t){return this.proxy.deleteMany(t)},t.prototype.updateOne=function(t,e,n){return this.proxy.updateOne(t,e,n)},t.prototype.updateMany=function(t,e,n){return this.proxy.updateMany(t,e,n)},t.prototype.watch=function(t){return this.proxy.watch(t)},t.prototype.watchCompact=function(t){return this.proxy.watchCompact(t)},t}(),Gu=function(){function t(t){this.proxy=t,this.name=this.proxy.name}return t.prototype.collection=function(t,e){return new Ku(this.proxy.collection(t,e))},t}(),Xu=function(){function t(t){this.proxy=t}return t.prototype.db=function(t){return new Gu(this.proxy.db(t))},t}();(Mu||(Mu={})).factory=new(function(){function t(){}return t.prototype.getNamedClient=function(t,e){return new Xu(new zu(t))},t}());var Yu=n("OifR"),Ju=n.n(Yu),Zu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),Qu=new Uint8Array(16);function tl(){if(!Zu)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zu(Qu)}for(var el=[],nl=0;nl<256;++nl)el.push((nl+256).toString(16).substr(1));var rl,il,ol=function(t,e,n){"string"==typeof t&&(e="binary"===t?new Uint8Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||tl)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){for(var i=n||0,o=0;o<16;++o)e[i+o]=r[o];return e}return function(t,e){return(el[t[0]]+el[t[1]]+el[t[2]]+el[t[3]]+"-"+el[t[4]]+el[t[5]]+"-"+el[t[6]]+el[t[7]]+"-"+el[t[8]]+el[t[9]]+"-"+el[t[10]]+el[t[11]]+el[t[12]]+el[t[13]]+el[t[14]]+el[t[15]]).toLowerCase()}(r)},sl=n("aaBP"),al=n.n(sl),cl=n("byjP"),ul=n.n(cl),ll=n("3Y9A"),hl=n.n(ll),fl=n("P7XM"),dl=n.n(fl),pl=n("+qE3"),gl=n.n(pl);function ml(t){return"$"+t}function bl(t){return t.substring(1)}function yl(){this._store={}}function _l(t){if(this._store=new yl,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}yl.prototype.get=function(t){var e=ml(t);return this._store[e]},yl.prototype.set=function(t,e){var n=ml(t);return this._store[n]=e,!0},yl.prototype.has=function(t){return ml(t)in this._store},yl.prototype.delete=function(t){var e=ml(t),n=e in this._store;return delete this._store[e],n},yl.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var i=e[n];t(this._store[i],i=bl(i))}},Object.defineProperty(yl.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_l.prototype.add=function(t){return this._store.set(t,!0)},_l.prototype.has=function(t){return this._store.has(t)},_l.prototype.forEach=function(t){this._store.forEach((function(e,n){t(n)}))},Object.defineProperty(_l.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}()?(rl=Set,il=Map):(rl=_l,il=yl);var vl,wl=Function.prototype.toString,Ol=wl.call(Object);function El(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=El(t[n]);return e}if(t instanceof Date)return t.toISOString();if(function(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}(t))return function(t){if(t instanceof ArrayBuffer)return function(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}(t);if(!function(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&wl.call(n)==Ol}(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=El(t[n]);void 0!==i&&(e[n]=i)}return e}function Sl(t){var e=!1;return hl()((function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)}))}function Al(t){return hl()((function(e){e=El(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),i=new Promise((function(r,i){var o;try{var s=Sl((function(t,e){t?i(t):r(e)}));e.push(s),(o=t.apply(n,e))&&"function"==typeof o.then&&r(o)}catch(a){i(a)}}));return r&&i.then((function(t){r(null,t)}),r),i}))}function Cl(t,e){return Al(hl()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],i=0;i<n.length-1;i++)r.push(n[i]);t.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=["api",t.name,e];i=i.concat(n?["error",n]:["success",r]),t.constructor.emit("debug",i),o(n,r)}}}(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise((function(e,i){r.taskqueue.addTask((function(o){o?i(o):e(r[t].apply(r,n))}))}))})))}function Tl(t,e){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];o in t&&(n[o]=t[o])}return n}function xl(t){return t}function Il(t){return[{ok:t}]}function Dl(t,e,n){var r=e.docs,i=new il;r.forEach((function(t){i.has(t.id)?i.get(t.id).push(t):i.set(t.id,[t])}));var o=i.size,s=0,a=new Array(o),c=[];i.forEach((function(t,e){c.push(e)}));var u=0;!function r(){if(!(u>=c.length)){var l=Math.min(u+6,c.length),h=c.slice(u,l);!function(c,u){c.forEach((function(c,l){var h=u+l,f=i.get(c),d=Tl(f[0],["atts_since","attachments"]);d.open_revs=f.map((function(t){return t.rev})),d.open_revs=d.open_revs.filter(xl);var p=xl;0===d.open_revs.length&&(delete d.open_revs,p=Il),["revs","attachments","binary","ajax","latest"].forEach((function(t){t in e&&(d[t]=e[t])})),t.get(c,d,(function(t,e){var i,u;i=t?[{error:t}]:p(e),a[h]={id:c,docs:i},++s===o&&(u=[],a.forEach((function(t){t.docs.forEach((function(e){u.push({id:t.id,docs:[e]})}))})),n(null,{results:u})),r()}))}))}(h,u),u+=h.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),vl=!!localStorage.getItem("_pouch_check_localstorage")}catch(g_){vl=!1}function kl(){return vl}function Pl(){gl.a.call(this),this._listeners={},function(t){kl()&&addEventListener("storage",(function(e){t.emit(e.key)}))}(this)}function Nl(t){if("undefined"!=typeof console&&"function"==typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function Rl(t){var e=0;return t||(e=2e3),function(t,e){return t=parseInt(t,10)||0,(e=parseInt(e,10))!=e||e<=t?e=(t||1)<<1:e+=1,e>6e5&&(t=3e5,e=6e5),~~((e-t)*Math.random()+t)}(t,e)}function jl(t,e){Nl("info","The above "+t+" is totally normal. "+e)}dl()(Pl,gl.a),Pl.prototype.addListener=function(t,e,n,r){if(!this._listeners[e]){var i=this,o=!1;this._listeners[e]=s,this.on(t,s)}function s(){if(i._listeners[e])if(o)o="waiting";else{o=!0;var t=Tl(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",(function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))})).on("complete",(function(){"waiting"===o&&Ju()(s),o=!1})).on("error",(function(){o=!1}))}}},Pl.prototype.removeListener=function(t,e){e in this._listeners&&(gl.a.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},Pl.prototype.notifyLocalWindows=function(t){kl()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},Pl.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var Ml="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function Bl(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}dl()(Bl,Error),Bl.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new Bl(401,"unauthorized","Name or password is incorrect.");var Ll=new Bl(400,"bad_request","Missing JSON list of 'docs'"),Ul=new Bl(404,"not_found","missing"),Fl=new Bl(409,"conflict","Document update conflict"),$l=new Bl(400,"bad_request","_id field must contain a string"),Vl=new Bl(412,"missing_id","_id is required for puts"),ql=new Bl(400,"bad_request","Only reserved document ids may start with underscore."),zl=(new Bl(412,"precondition_failed","Database not open"),new Bl(500,"unknown_error","Database encountered an unknown error")),Wl=new Bl(500,"badarg","Some query argument is invalid"),Hl=(new Bl(400,"invalid_request","Request was invalid"),new Bl(400,"query_parse_error","Some query parameter is invalid")),Kl=new Bl(500,"doc_validation","Bad special document member"),Gl=new Bl(400,"bad_request","Something wrong with the request"),Xl=new Bl(400,"bad_request","Document must be a JSON object"),Yl=(new Bl(404,"not_found","Database not found"),new Bl(500,"indexed_db_went_bad","unknown")),Jl=(new Bl(500,"web_sql_went_bad","unknown"),new Bl(500,"levelDB_went_went_bad","unknown"),new Bl(403,"forbidden","Forbidden by design doc validate_doc_update function"),new Bl(400,"bad_request","Invalid rev format")),Zl=(new Bl(412,"file_exists","The database could not be created, the file already exists."),new Bl(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Ql(t,e){function n(e){for(var n=Object.getOwnPropertyNames(t),r=0,i=n.length;r<i;r++)"function"!=typeof t[n[r]]&&(this[n[r]]=t[n[r]]);void 0!==e&&(this.reason=e)}return n.prototype=Bl.prototype,new n(e)}function th(t){if("object"!=typeof t){var e=t;(t=zl).data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function eh(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var i=n&&function(t,e,n){try{return!t(e,n)}catch(p_){var r="Filter function threw: "+p_.toString();return Ql(Gl,r)}}(t.filter,r.doc,e);if("object"==typeof i)return i;if(i)return!1;if(t.include_docs){if(!t.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function nh(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function rh(t){var e;if(t?"string"!=typeof t?e=Ql($l):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=Ql(ql)):e=Ql(Vl),e)throw e}function ih(t){return"boolean"==typeof t._remote?t._remote:"function"==typeof t.type&&(Nl("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function oh(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function sh(t){var e=oh(t);return e?e.join("/"):null}new Bl(413,"invalid_url","Provided URL is invalid");var ah=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ch=/(?:^|&)([^&=]*)=?([^&]*)/g,uh=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function lh(t){for(var e=uh.exec(t),n={},r=14;r--;){var i=ah[r],o=e[r]||"",s=-1!==["user","password"].indexOf(i);n[i]=s?decodeURIComponent(o):o}return n.queryKey={},n[ah[12]].replace(ch,(function(t,e,r){e&&(n.queryKey[e]=r)})),n}function hh(t,e){var n=[],r=[];for(var i in e)e.hasOwnProperty(i)&&(n.push(i),r.push(e[i]));return n.push(t),Function.apply(null,n).apply(null,r)}function fh(t,e,n){return new Promise((function(r,i){t.get(e,(function(o,s){if(o){if(404!==o.status)return i(o);s={}}var a=s._rev,c=n(s);if(!c)return r({updated:!1,rev:a});c._id=e,c._rev=a,r(function(t,e,n){return t.put(e).then((function(t){return{updated:!0,rev:t.rev}}),(function(r){if(409!==r.status)throw r;return fh(t,e._id,n)}))}(t,c,n))}))}))}var dh=function(t){return atob(t)},ph=function(t){return btoa(t)};function gh(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(g_){if("TypeError"!==g_.name)throw g_;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}function mh(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function bh(t,e){return gh([mh(t)],{type:e})}function yh(t,e){return bh(dh(t),e)}function _h(t,e){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(r)return e(n);e(function(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function vh(t,e){_h(t,(function(t){e(t)}))}function wh(t,e){vh(t,(function(t){e(ph(t))}))}var Oh=self.setImmediate||self.setTimeout;function Eh(t,e,n,r,i){(n>0||r<e.size)&&(e=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}(e,n,r)),function(t,e){var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}(e,(function(e){t.append(e),i()}))}function Sh(t,e,n,r,i){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),i()}function Ah(t,e){var n="string"==typeof t,r=n?t.length:t.size,i=Math.min(32768,r),o=Math.ceil(r/i),s=0,a=n?new al.a:new al.a.ArrayBuffer,c=n?Sh:Eh;function u(){Oh(h)}function l(){var t,n=(t=a.end(!0),ph(t));e(n),a.destroy()}function h(){var e=s*i;s++,c(a,t,e,e+i,s<o?u:l)}h()}function Ch(t){return al.a.hash(t)}function Th(t,e){var n=El(t);return e?(delete n._rev_tree,Ch(JSON.stringify(n))):ol().replace(/-/g,"").toLowerCase()}var xh=ol;function Ih(t){for(var e,n,r,i,o=t.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],c=i.pos;if(a.length)for(var u=0,l=a.length;u<l;u++)o.push({pos:c+1,ids:a[u]});else{var h=!!s[1].deleted,f=s[0];e&&!(r!==h?r:n!==c?n<c:e<f)||(e=f,n=c,r=h)}}return n+"-"+e}function Dh(t,e){for(var n,r=t.slice();n=r.pop();)for(var i=n.pos,o=n.ids,s=o[2],a=e(0===s.length,i,o[0],n.ctx,o[1]),c=0,u=s.length;c<u;c++)r.push({pos:i+1,ids:s[c],ctx:a})}function kh(t,e){return t.pos-e.pos}function Ph(t){var e=[];Dh(t,(function(t,n,r,i,o){t&&e.push({rev:n+"-"+r,pos:n,opts:o})})),e.sort(kh).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function Nh(t){for(var e=Ih(t),n=Ph(t.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev===e||s.opts.deleted||r.push(s.rev)}return r}function Rh(t){for(var e,n=[],r=t.slice();e=r.pop();){var i=e.pos,o=e.ids,s=o[0],a=o[1],c=o[2],u=0===c.length,l=e.history?e.history.slice():[];l.push({id:s,opts:a}),u&&n.push({pos:i+1-l.length,ids:l});for(var h=0,f=c.length;h<f;h++)r.push({pos:i+1,ids:c[h],history:l})}return n.reverse()}function jh(t,e){return t.pos-e.pos}function Mh(t,e,n){var r=function(t,e,n){for(var r,i=0,o=t.length;i<o;)n(t[r=i+o>>>1],e)<0?i=r+1:o=r;return i}(t,e,n);t.splice(r,0,e)}function Bh(t,e){for(var n,r,i=e,o=t.length;i<o;i++){var s=t[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function Lh(t,e){return t[0]<e[0]?-1:1}function Uh(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,u=0;u<o[2].length;u++)o[2][u][0]===s[2][a][0]&&(n.push({tree1:o[2][u],tree2:s[2][a]}),c=!0);c||(r="new_branch",Mh(o[2],s[2][a],Lh))}else r="new_leaf",o[2][0]=s[2][a]}return{conflicts:r,tree:t}}function Fh(t,e,n){var r,i=[],o=!1,s=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,c=t.length;a<c;a++){var u=t[a];if(u.pos===e.pos&&u.ids[0]===e.ids[0])r=Uh(u.ids,e.ids),i.push({pos:u.pos,ids:r.tree}),o=o||r.conflicts,s=!0;else if(!0!==n){var l=u.pos<e.pos?u:e,h=u.pos<e.pos?e:u,f=[],d=[];for(d.push({ids:l.ids,diff:h.pos-l.pos,parent:null,parentIdx:null});d.length>0;){var p=d.pop();if(0!==p.diff)for(var g=p.ids[2],m=0,b=g.length;m<b;m++)d.push({ids:g[m],diff:p.diff-1,parent:p.ids,parentIdx:m});else p.ids[0]===h.ids[0]&&f.push(p)}var y=f[0];y?(r=Uh(y.ids,h.ids),y.parent[2][y.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,s=!0):i.push(u)}else i.push(u)}return s||i.push(e),i.sort(jh),{tree:i,conflicts:o||"internal_node"}}function $h(t,e,n){var r=Fh(t,e),i=function(t,e){for(var n,r,i=Rh(t),o=0,s=i.length;o<s;o++){var a,c=i[o],u=c.ids;if(u.length>e){n||(n={});var l=u.length-e;a={pos:c.pos+l,ids:Bh(u,l)};for(var h=0;h<l;h++)n[c.pos+h+"-"+u[h].id]=!0}else a={pos:c.pos,ids:Bh(u,0)};r=r?Fh(r,a,!0).tree:[a]}return n&&Dh(r,(function(t,e,r){delete n[e+"-"+r]})),{tree:r,revs:n?Object.keys(n):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function Vh(t){return t.ids}function qh(t,e){e||(e=Ih(t));for(var n,r=e.substring(e.indexOf("-")+1),i=t.rev_tree.map(Vh);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function zh(t){return/^_local/.test(t)}function Wh(t,e,n){gl.a.call(this);var r=this;this.db=t;var i=(e=e?El(e):{}).complete=Sl((function(e,n){var i;e?("listenerCount"in(i=r)?i.listenerCount("error"):gl.a.listenerCount(i,"error"))>0&&r.emit("error",e):r.emit("complete",n),r.removeAllListeners(),t.removeListener("destroyed",o)}));function o(){r.cancel()}n&&(r.on("complete",(function(t){n(null,t)})),r.on("error",n)),t.once("destroyed",o),e.onChange=function(t,e,n){r.isCancelled||function(t,e,n,r){try{t.emit("change",e,n,r)}catch(g_){Nl("error",'Error in .on("change", function):',g_)}}(r,t,e,n)};var s=new Promise((function(t,n){e.complete=function(e,r){e?n(e):t(r)}}));r.once("cancel",(function(){t.removeListener("destroyed",o),e.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(t){i(null,t)}),i),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask((function(t){t?e.complete(t):r.isCancelled?r.emit("cancel"):r.validateChanges(e)}))}function Hh(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=Ph(e.rev_tree).map((function(t){return{rev:t.rev}})));var i={id:e.id,changes:r,doc:t};return qh(e,t._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=Nh(e),i.doc._conflicts.length||delete i.doc._conflicts),i}function Kh(t,e){return t<e?-1:t>e?1:0}function Gh(t,e){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=e,t(n)):t(null,r.length?r[0]:r)}}function Xh(t,e){var n=Kh(t._id,e._id);return 0!==n?n:Kh(t._revisions?t._revisions.start:0,e._revisions?e._revisions.start:0)}function Yh(){for(var t in gl.a.call(this),Yh.prototype)"function"==typeof this[t]&&(this[t]=this[t].bind(this))}function Jh(){this.isReady=!1,this.failed=!1,this.queue=[]}function Zh(t,e){if(!(this instanceof Zh))return new Zh(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(t=(e=t).name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=El(e),n.auto_compaction=e.auto_compaction,n.prefix=Zh.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=function(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Zh.adapters,i=Zh.preferredAdapters,o=Zh.prefix,s=e.adapter;if(!s)for(var a=0;a<i.length&&"idb"===(s=i[a])&&"websql"in r&&kl()&&localStorage["_pouch__websqldb_"+o+t];++a)Nl("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=r[s];return{name:c&&"use_prefix"in c&&!c.use_prefix?t:o+t,adapter:s}}((e.prefix||"")+t,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,Zh.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Zh.adapters[e.adapter]||!Zh.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);Yh.call(n),n.taskqueue=new Jh,n.adapter=e.adapter,Zh.adapters[e.adapter].call(n,e,(function(t){if(t)return n.taskqueue.fail(t);!function(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}(n),n.emit("created",n),Zh.emit("created",n.name),n.taskqueue.ready(n)}))}dl()(Wh,gl.a),Wh.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Wh.prototype.validateChanges=function(t){var e=t.complete,n=this;Zh._changesFilterPlugin?Zh._changesFilterPlugin.validate(t,(function(r){if(r)return e(r);n.doChanges(t)})):n.doChanges(t)},Wh.prototype.doChanges=function(t){var e=this,n=t.complete;if("live"in(t=El(t))&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=Hh,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(Zh._changesFilterPlugin){if(Zh._changesFilterPlugin.normalize(t),Zh._changesFilterPlugin.shouldFilter(this,t))return Zh._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach((function(e){e in t&&Nl("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var i=e.cancel;e.cancel=hl()((function(t){r.cancel(),i.apply(this,t)}))}}else this.db.info().then((function(r){e.isCancelled?n(null,{status:"cancelled"}):(t.since=r.update_seq,e.doChanges(t))}),n)},dl()(Yh,gl.a),Yh.prototype.post=Cl("post",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(Ql(Xl));this.bulkDocs({docs:[t]},e,Gh(n,t._id))})),Yh.prototype.put=Cl("put",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t))return n(Ql(Xl));if(rh(t._id),zh(t._id)&&"function"==typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r,i,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==e.new_edits?a._put(t,e,n):a.bulkDocs({docs:[t]},e,Gh(n,t._id))}e.force&&t._rev?(i=(r=t._rev.split("-"))[1],o=parseInt(r[0],10)+1,s=Th(),t._revisions={start:o,ids:[s,i]},t._rev=o+"-"+s,e.new_edits=!1,c((function(e){n(e,e?null:{ok:!0,id:t._id,rev:t._rev})}))):c(n)})),Yh.prototype.putAttachment=Cl("putAttachment",(function(t,e,n,r,i){var o=this;function s(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:i,data:r,revpos:++n},o.put(t)}return"function"==typeof i&&(i=r,r=n,n=null),void 0===i&&(i=r,r=n,n=null),i||Nl("warn","Attachment",e,"on document",t,"is missing content_type"),o.get(t).then((function(t){if(t._rev!==n)throw Ql(Fl);return s(t)}),(function(e){if(e.reason===Ul.message)return s({_id:t});throw e}))})),Yh.prototype.removeAttachment=Cl("removeAttachment",(function(t,e,n,r){var i=this;i.get(t,(function(t,o){if(t)r(t);else if(o._rev===n){if(!o._attachments)return r();delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,i.put(o,r)}else r(Ql(Fl))}))})),Yh.prototype.remove=Cl("remove",(function(t,e,n,r){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(i=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),(n=n||{}).was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(zh(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,Gh(r,o._id))})),Yh.prototype.revsDiff=Cl("revsDiff",(function(t,e,n){"function"==typeof e&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var i=0,o=new il;function s(t,e){o.has(t)||o.set(t,{missing:[]}),o.get(t).missing.push(e)}r.map((function(e){this._getRevisionTree(e,(function(a,c){if(a&&404===a.status&&"missing"===a.message)o.set(e,{missing:t[e]});else{if(a)return n(a);!function(e,n){var r=t[e].slice(0);Dh(n,(function(t,n,i,o,a){var c=n+"-"+i,u=r.indexOf(c);-1!==u&&(r.splice(u,1),"available"!==a.status&&s(e,c))})),r.forEach((function(t){s(e,t)}))}(e,c)}if(++i===r.length){var u={};return o.forEach((function(t,e){u[e]=t})),n(null,u)}}))}),this)})),Yh.prototype.bulkGet=Cl("bulkGet",(function(t,e){Dl(this,t,e)})),Yh.prototype.compactDocument=Cl("compactDocument",(function(t,e,n){var r=this;this._getRevisionTree(t,(function(i,o){if(i)return n(i);var s=function(t){var e={},n=[];return Dh(t,(function(t,r,i,o){var s=r+"-"+i;return t&&(e[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(t){e[t.from]=void 0===e[t.from]?1+e[t.to]:Math.min(e[t.from],1+e[t.to])})),e}(o),a=[],c=[];Object.keys(s).forEach((function(t){s[t]>e&&a.push(t)})),Dh(o,(function(t,e,n,r,i){var o=e+"-"+n;"available"===i.status&&-1!==a.indexOf(o)&&c.push(o)})),r._doCompaction(t,c,n)}))})),Yh.prototype.compact=Cl("compact",(function(t,e){"function"==typeof t&&(e=t,t={}),t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:e}),1===this._compactionQueue.length&&function t(e){var n=e._compactionQueue[0],r=n.opts,i=n.callback;e.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(r.last_seq=n.last_seq),e._compact(r,(function(n,r){n?i(n):i(null,r),Ju()((function(){e._compactionQueue.shift(),e._compactionQueue.length&&t(e)}))}))}))}(this)})),Yh.prototype._compact=function(t,e){var n=this,r=[];n.changes({return_docs:!1,last_seq:t.last_seq||0}).on("change",(function(t){r.push(n.compactDocument(t.id,0))})).on("complete",(function(t){var i=t.last_seq;Promise.all(r).then((function(){return fh(n,"_local/compaction",(function(t){return(!t.last_seq||t.last_seq<i)&&(t.last_seq=i,t)}))})).then((function(){e(null,{ok:!0})})).catch(e)})).on("error",e)},Yh.prototype.get=Cl("get",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(Ql($l));if(zh(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var r=[],i=this;function o(){var o=[],s=r.length;if(!s)return n(null,o);r.forEach((function(r){i.get(t,{rev:r,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},(function(t,e){if(t)o.push({missing:r});else{for(var i,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===e._rev){i=!0;break}i||o.push({ok:e})}--s||n(null,o)}))}))}if(!e.open_revs)return this._get(t,e,(function(r,o){if(r)return r.docId=t,n(r);var s=o.doc,a=o.metadata,c=o.ctx;if(e.conflicts){var u=Nh(a);u.length&&(s._conflicts=u)}if(qh(a,s._rev)&&(s._deleted=!0),e.revs||e.revs_info){for(var l=s._rev.split("-"),h=parseInt(l[0],10),f=l[1],d=Rh(a.rev_tree),p=null,g=0;g<d.length;g++){var m=d[g],b=m.ids.map((function(t){return t.id})).indexOf(f);(b===h-1||!p&&-1!==b)&&(p=m)}if(!p)return(r=new Error("invalid rev tree")).docId=t,n(r);var y=p.ids.map((function(t){return t.id})).indexOf(s._rev.split("-")[1])+1;if(p.ids.splice(y,p.ids.length-y),p.ids.reverse(),e.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(t){return t.id}))}),e.revs_info){var _=p.pos+p.ids.length;s._revs_info=p.ids.map((function(t){return{rev:--_+"-"+t.id,status:t.opts.status}}))}}if(e.attachments&&s._attachments){var v=s._attachments,w=Object.keys(v).length;if(0===w)return n(null,s);Object.keys(v).forEach((function(t){this._getAttachment(s._id,t,v[t],{rev:s._rev,binary:e.binary,ctx:c},(function(e,r){var i=s._attachments[t];i.data=r,delete i.stub,delete i.length,--w||n(null,s)}))}),i)}else{if(s._attachments)for(var O in s._attachments)s._attachments.hasOwnProperty(O)&&(s._attachments[O].stub=!0);n(null,s)}}));if("all"===e.open_revs)this._getRevisionTree(t,(function(t,e){if(t)return n(t);r=Ph(e).map((function(t){return t.rev})),o()}));else{if(!Array.isArray(e.open_revs))return n(Ql(zl,"function_clause"));r=e.open_revs;for(var s=0;s<r.length;s++){var a=r[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(Ql(Jl))}o()}})),Yh.prototype.getAttachment=Cl("getAttachment",(function(t,e,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(t,n,(function(o,s){return o?r(o):s.doc._attachments&&s.doc._attachments[e]?(n.ctx=s.ctx,n.binary=!0,void i._getAttachment(t,e,s.doc._attachments[e],n,r)):r(Ql(Ul))}))})),Yh.prototype.allDocs=Cl("allDocs",(function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip=void 0!==t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(e){return e in t}))[0];if(n)return void e(Ql(Hl,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ih(this)&&(function(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)})),Yh.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),(t=t||{}).return_docs="return_docs"in t?t.return_docs:!t.live,new Wh(this,t,e)},Yh.prototype.close=Cl("close",(function(t){return this._closed=!0,this.emit("closed"),this._close(t)})),Yh.prototype.info=Cl("info",(function(t){var e=this;this._info((function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||ih(e)),r.adapter=e.adapter,t(null,r)}))})),Yh.prototype.id=Cl("id",(function(t){return this._id(t)})),Yh.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Yh.prototype.bulkDocs=Cl("bulkDocs",(function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(Ql(Ll));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(Ql(Xl));var i;if(t.docs.forEach((function(t){t._attachments&&Object.keys(t._attachments).forEach((function(e){i=i||function(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}(e),t._attachments[e].content_type||Nl("warn","Attachment",e,"on document",t._id,"is missing content_type")}))})),i)return n(Ql(Gl,i));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var o=this;e.new_edits||ih(o)||t.docs.sort(Xh),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=Tl(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(t.docs);var s=t.docs.map((function(t){return t._id}));return this._bulkDocs(t,e,(function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter((function(t){return t.error}))),!ih(o))for(var i=0,a=r.length;i<a;i++)r[i].id=r[i].id||s[i];n(null,r)}))})),Yh.prototype.registerDependentDatabase=Cl("registerDependentDatabase",(function(t,e){var n=new this.constructor(t,this.__opts);fh(this,"_local/_pouch_dependentDbs",(function(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)})).then((function(){e(null,{db:n})})).catch(e)})),Yh.prototype.destroy=Cl("destroy",(function(t,e){"function"==typeof t&&(e=t,t={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function i(){n._destroy(t,(function(t,r){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,r||{ok:!0})}))}if(ih(n))return i();n.get("_local/_pouch_dependentDbs",(function(t,o){if(t)return 404!==t.status?e(t):i();var s=n.constructor,a=Object.keys(o.dependentDbs).map((function(t){var e=r?t.replace(new RegExp("^"+s.prefix),""):t;return new s(e,n.__opts).destroy()}));Promise.all(a).then(i,e)}))})),Jh.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},Jh.prototype.fail=function(t){this.failed=t,this.execute()},Jh.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},Jh.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},dl()(Zh,Yh);var Qh="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},tf=fetch,ef=Headers;Zh.adapters={},Zh.preferredAdapters=[],Zh.prefix="_pouch_";var nf=new gl.a;function rf(t,e){for(var n=t,r=0,i=e.length;r<i&&(n=n[e[r]]);r++);return n}function of(t){for(var e=[],n="",r=0,i=t.length;r<i;r++){var o=t[r];"."===o?r>0&&"\\"===t[r-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=o}return e.push(n),e}!function(t){Object.keys(gl.a.prototype).forEach((function(e){"function"==typeof gl.a.prototype[e]&&(t[e]=nf[e].bind(nf))}));var e=t._destructionListeners=new il;t.on("ref",(function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)})),t.on("unref",(function(t){if(e.has(t.name)){var n=e.get(t.name),r=n.indexOf(t);r<0||(n.splice(r,1),n.length>1?e.set(t.name,n):e.delete(t.name))}})),t.on("destroyed",(function(t){if(e.has(t)){var n=e.get(t);e.delete(t),n.forEach((function(t){t.emit("destroyed",!0)}))}}))}(Zh),Zh.adapter=function(t,e,n){e.valid()&&(Zh.adapters[t]=e,n&&Zh.preferredAdapters.push(t))},Zh.plugin=function(t){if("function"==typeof t)t(Zh);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach((function(e){Zh.prototype[e]=t[e]}))}return this.__defaults&&(Zh.__defaults=Ml({},this.__defaults)),Zh},Zh.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"==typeof t&&(t=(n=t).name,delete n.name),n=Ml({},e.__defaults,n),Zh.call(this,t,n)}return dl()(e,Zh),e.preferredAdapters=Zh.preferredAdapters.slice(),Object.keys(Zh).forEach((function(t){t in e||(e[t]=Zh[t])})),e.__defaults=Ml({},this.__defaults,t),e},Zh.fetch=function(t,e){return tf(t,e)};var sf=["$or","$nor","$not"];function af(t){return sf.indexOf(t)>-1}function cf(t){return Object.keys(t)[0]}function uf(t){var e={};return t.forEach((function(t){Object.keys(t).forEach((function(n){var r=t[n];if("object"!=typeof r&&(r={$eq:r}),af(n))e[n]=r instanceof Array?r.map((function(t){return uf([t])})):uf([r]);else{var i=e[n]=e[n]||{};Object.keys(r).forEach((function(t){var e=r[t];return"$gt"===t||"$gte"===t?function(t,e,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):void 0!==n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}(t,e,i):"$lt"===t||"$lte"===t?function(t,e,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):void 0!==n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}(t,e,i):"$ne"===t?function(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}(e,i):"$eq"===t?function(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}(e,i):void(i[t]=e)}))}}))})),e}function lf(t){var e=El(t),n=!1;(function t(e,n){for(var r in e){"$and"===r&&(n=!0);var i=e[r];"object"==typeof i&&(n=t(i,n))}return n})(e,!1)&&("$and"in(e=function t(e){for(var n in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=uf(e[r].$and));var i=e[n];"object"==typeof i&&t(i)}return e}(e))&&(e=uf(e.$and)),n=!0),["$or","$nor"].forEach((function(t){t in e&&e[t].forEach((function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var r=e[n],i=t[r];"object"==typeof i&&null!==i||(t[r]={$eq:i})}}))})),"$not"in e&&(e.$not=uf([e.$not]));for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],s=e[o];"object"!=typeof s||null===s?s={$eq:s}:"$ne"in s&&!n&&(s.$ne=[s.$ne]),e[o]=s}return e}function hf(t,e){if(t===e)return 0;t=ff(t),e=ff(e);var n=mf(t),r=mf(e);if(n-r!=0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return function(t,e){return t===e?0:t>e?1:-1}(t,e)}return Array.isArray(t)?function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=hf(t[r],e[r]);if(0!==i)return i}return t.length===e.length?0:t.length>e.length?1:-1}(t,e):function(t,e){for(var n=Object.keys(t),r=Object.keys(e),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=hf(n[o],r[o]);if(0!==s)return s;if(0!==(s=hf(t[n[o]],e[r[o]])))return s}return n.length===r.length?0:n.length>r.length?1:-1}(t,e)}function ff(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=ff(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var i in t={},e)if(e.hasOwnProperty(i)){var o=e[i];void 0!==o&&(t[i]=ff(o))}}}return t}function df(t){return mf(t=ff(t))+""+function(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return function(t){if(0===t)return"1";var e,n=t.toExponential().split(/e\+?/),r=parseInt(n[1],10),i=t<0,o=i?"0":"2";o+=""+(function(t,e,n){for(var r="",i=3-t.length;r.length<i;)r+="0";return r}(e=((i?-r:r)- -324).toString())+e);var s=Math.abs(parseFloat(n[0]));i&&(s=10-s);var a=s.toFixed(20);return o+""+a.replace(/\.?0+$/,"")}(t);case"string":return t.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,i=n.length,o="";if(e)for(;++r<i;)o+=df(n[r]);else for(;++r<i;){var s=n[r];o+=df(s)+df(t[s])}return o}return""}(t)+"\0"}function pf(t,e){var n,r=e;if("1"===t[e])n=0,e++;else{var i="0"===t[e];e++;var o="",s=t.substring(e,e+3),a=parseInt(s,10)+-324;for(i&&(a=-a),e+=3;;){var c=t[e];if("\0"===c)break;o+=c,e++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),i&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:e-r}}function gf(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,o=r.index;Array.isArray(i)?i.push(n):o===t.length-2?i[t.pop()]=n:t.push(n)}}function mf(t){var e=["boolean","number","string","object"].indexOf(typeof t);return~e?null===t?1:Array.isArray(t)?5:e<3?e+2:e+3:Array.isArray(t)?5:void 0}function bf(t,e,n){return n.every((function(n){var r=e[n],i=of(n),o=rf(t,i);return af(n)?function(t,e,n){return"$or"===t?e.some((function(t){return bf(n,t,Object.keys(t))})):"$not"===t?!bf(n,e,Object.keys(e)):!e.find((function(t){return bf(n,t,Object.keys(t))}))}(n,r,t):yf(r,t,i,o)}))}function yf(t,e,n,r){return!t||("object"==typeof t?Object.keys(t).every((function(i){return function(t,e,n,r,i){if(!Of[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Of[t](e,n,r,i)}(i,e,t[i],n,r)})):t===r)}function _f(t){return null!=t}function vf(t){return void 0!==t}function wf(t,e){return e.some((function(e){return t instanceof Array?t.indexOf(e)>-1:t===e}))}var Of={$elemMatch:function(t,e,n,r){return!!Array.isArray(r)&&0!==r.length&&r.some("object"==typeof r[0]?function(t){return bf(t,e,Object.keys(e))}:function(r){return yf(e,t,n,r)})},$allMatch:function(t,e,n,r){return!!Array.isArray(r)&&0!==r.length&&r.every("object"==typeof r[0]?function(t){return bf(t,e,Object.keys(e))}:function(r){return yf(e,t,n,r)})},$eq:function(t,e,n,r){return vf(r)&&0===hf(r,e)},$gte:function(t,e,n,r){return vf(r)&&hf(r,e)>=0},$gt:function(t,e,n,r){return vf(r)&&hf(r,e)>0},$lte:function(t,e,n,r){return vf(r)&&hf(r,e)<=0},$lt:function(t,e,n,r){return vf(r)&&hf(r,e)<0},$exists:function(t,e,n,r){return e?vf(r):!vf(r)},$mod:function(t,e,n,r){return _f(r)&&function(t,e){var n=e[0],r=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===r}(r,e)},$ne:function(t,e,n,r){return e.every((function(t){return 0!==hf(r,t)}))},$in:function(t,e,n,r){return _f(r)&&wf(r,e)},$nin:function(t,e,n,r){return _f(r)&&!wf(r,e)},$size:function(t,e,n,r){return _f(r)&&function(t,e){return t.length===e}(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&function(t,e){return e.every((function(e){return t.indexOf(e)>-1}))}(r,e)},$regex:function(t,e,n,r){return _f(r)&&function(t,e){return new RegExp(e).test(t)}(r,e)},$type:function(t,e,n,r){return function(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"==typeof t;case"number":return"number"==typeof t;case"string":return"string"==typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,e)}};function Ef(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter)return e(new Error('selector invalid for filter "'+("string"==typeof t.filter?t.filter:"function")+'"'));e()}function Sf(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=sh(t.view):t.filter=sh(t.filter))}function Af(t,e){return e.filter&&"string"==typeof e.filter&&!e.doc_ids&&!ih(t.db)}function Cf(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!=typeof e.view){var r=Ql(Gl,"`view` filter parameter not found or invalid.");return n(r)}var i=oh(e.view);t.db.get("_design/"+i[0],(function(r,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(th(r));var s=o&&o.views&&o.views[i[1]]&&o.views[i[1]].map;if(!s)return n(Ql(Ul,o.views?"missing json key: "+i[1]:"missing json key: views"));e.filter=hh(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),t.doChanges(e)}))}else if(e.selector)e.filter=function(t){return function(t,e){if("object"!=typeof e)throw new Error("Selector error: expected a JSON object");var n=function(t,e,n){if(t=t.filter((function(t){return bf(t.doc,e.selector,n)})),e.sort){var r=function(t){function e(e){return t.map((function(t){var n=of(cf(t));return rf(e,n)}))}return function(t,n){var r,i,o=hf(e(t.doc),e(n.doc));return 0!==o?o:(r=t.doc._id)<(i=n.doc._id)?-1:r>i?1:0}}(e.sort);t=t.sort(r),"string"!=typeof e.sort[0]&&"desc"===(i=e.sort[0])[cf(i)]&&(t=t.reverse())}var i;if("limit"in e||"skip"in e){var o=e.skip||0;t=t.slice(o,("limit"in e?e.limit:t.length)+o)}return t}([{doc:t}],{selector:e=lf(e)},Object.keys(e));return n&&1===n.length}(t,e.selector)},t.doChanges(e);else{var o=oh(e.filter);t.db.get("_design/"+o[0],(function(r,i){if(t.isCancelled)return n(null,{status:"cancelled"});if(r)return n(th(r));var s=i&&i.filters&&i.filters[o[1]];if(!s)return n(Ql(Ul,i&&i.filters?"missing json key: "+o[1]:"missing json key: filters"));e.filter=hh('"use strict";\nreturn '+s+";",{}),t.doChanges(e)}))}}function Tf(t){return t.reduce((function(t,e){return t[e]=!0,t}),{})}Zh.plugin((function(t){t._changesFilterPlugin={validate:Ef,normalize:Sf,shouldFilter:Af,filter:Cf}})),Zh.version="7.2.2";var xf=Tf(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),If=Tf(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Df(t){if(!/^\d+-/.test(t))return Ql(Jl);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function kf(t,e,n){var r,i,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(t._deleted&&(s.deleted=!0),e)if(t._id||(t._id=xh()),i=Th(t,n.deterministic_revs),t._rev){if((o=Df(t._rev)).error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,s,[]]]]}],r=o.prefix+1}else t._rev_tree=[{pos:1,ids:[i,s,[]]}],r=1;else if(t._revisions&&(t._rev_tree=function(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,i=[r[0],e,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}(t._revisions,s),r=t._revisions.start,i=t._revisions.ids[0]),!t._rev_tree){if((o=Df(t._rev)).error)return o;t._rev_tree=[{pos:r=o.prefix,ids:[i=o.id,s,[]]}]}rh(t._id),t._rev=r+"-"+i;var a={metadata:{},data:{}};for(var c in t)if(Object.prototype.hasOwnProperty.call(t,c)){var u="_"===c[0];if(u&&!xf[c]){var l=Ql(Kl,c);throw l.message=Kl.message+": "+c,l}u&&!If[c]?a.metadata[c.slice(1)]=t[c]:a.data[c]=t[c]}return a}function Pf(t,e,n){if(t.stub)return n();"string"==typeof t.data?function(t,e,n){var r=function(t){try{return dh(t)}catch(g_){return{error:Ql(Wl,"Attachment is not a valid base64 string")}}}(t.data);if(r.error)return n(r.error);t.length=r.length,t.data="blob"===e?bh(r,t.content_type):"base64"===e?ph(r):r,Ah(r,(function(e){t.digest="md5-"+e,n()}))}(t,e,n):function(t,e,n){Ah(t.data,(function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?vh(t.data,(function(e){t.data=e,n()})):"base64"===e?wh(t.data,(function(e){t.data=e,n()})):n()}))}(t,e,n)}var Nf="document-store",Rf="meta-store";function jf(t){try{return JSON.stringify(t)}catch(g_){return ul.a.stringify(t)}}function Mf(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(Ql(Yl,n))}}function Bf(t,e,n){return{data:jf(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function Lf(t){if(!t)return null;var e=function(t){try{return JSON.parse(t)}catch(g_){return ul.a.parse(t)}}(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function Uf(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function Ff(t,e,n,r){n?r(t?"string"!=typeof t?t:yh(t,e):gh([""],{type:e})):t?"string"!=typeof t?_h(t,(function(t){r(ph(t))})):r(t):r("")}function $f(t,e,n,r){var i=Object.keys(t._attachments||{});if(!i.length)return r&&r();var o=0;function s(){++o===i.length&&r&&r()}i.forEach((function(r){e.attachments&&e.include_docs?function(t,e){var r=t._attachments[e],i=r.digest;n.objectStore("attach-store").get(i).onsuccess=function(t){r.body=t.target.result.body,s()}}(t,r):(t._attachments[r].stub=!0,s())}))}function Vf(t,e){return Promise.all(t.map((function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Promise.all(n.map((function(n){var r=t.doc._attachments[n];if("body"in r){var i=r.body,o=r.content_type;return new Promise((function(s){Ff(i,o,e,(function(e){t.doc._attachments[n]=Ml(Tl(r,["digest","content_type"]),{data:e}),s()}))}))}})))}})))}function qf(t,e,n){var r=[],i=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=t.length;function c(){--a||r.length&&r.forEach((function(t){s.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::\uffff",!1,!1)).onsuccess=function(e){e.target.result||o.delete(t)}}))}t.forEach((function(t){i.index("_doc_id_rev").getKey(e+"::"+t).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return c();i.delete(e),s.index("seq").openCursor(IDBKeyRange.only(e)).onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];r.push(n),s.delete(e.primaryKey),e.continue()}else c()}}}))}function zf(t,e,n){try{return{txn:t.transaction(e,n)}}catch(p_){return{error:p_}}}var Wf=new Pl;function Hf(t,e,n,r,i){var o,s,a;function c(t){s=t.target.result,o&&i(o,s,a)}function u(t){o=t.target.result,s&&i(o,s,a)}function l(t){var e=t.target.result;if(!e)return i();i([e.key],[e.value],e)}-1===r&&(r=1e3),"function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&r>1&&!n?(a={continue:function(){if(!o.length)return i();var n,a=o[o.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(a,e.upper,!0,e.upperOpen)}catch(g_){if("DataError"===g_.name&&0===g_.code)return i()}else n=IDBKeyRange.lowerBound(a,!0);o=null,s=null,t.getAll(e=n,r).onsuccess=c,t.getAllKeys(e,r).onsuccess=u}},t.getAll(e,r).onsuccess=c,t.getAllKeys(e,r).onsuccess=u):n?t.openCursor(e,"prev").onsuccess=l:t.openCursor(e).onsuccess=l}var Kf=!1,Gf=[];function Xf(){!Kf&&Gf.length&&(Kf=!0,Gf.shift()())}var Yf,Jf=new il,Zf=new il;function Qf(t,e){var n=this;!function(e,r,i){Gf.push((function(){!function(t,e,n){var r=e.name,i=null;function o(t,e){var n=t.objectStore(Nf);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value,o=qh(i);i.deletedOrLocal=o?"1":"0",n.put(i),r.continue()}else e()}}function s(t,e){var n=t.objectStore("local-store"),r=t.objectStore(Nf),i=t.objectStore("by-sequence");r.openCursor().onsuccess=function(t){var o=t.target.result;if(o){var s=o.value,a=s.id,c=zh(a),u=Ih(s);if(c){var l=a+"::"+u,h=a+"::",f=a+"::~",d=i.index("_doc_id_rev"),p=IDBKeyRange.bound(h,f,!1,!1),g=d.openCursor(p);g.onsuccess=function(t){if(g=t.target.result){var e=g.value;e._doc_id_rev===l&&n.put(e),i.delete(g.primaryKey),g.continue()}else r.delete(o.primaryKey),o.continue()}}else o.continue()}else e&&e()}}function a(t,e){var n=t.objectStore("by-sequence"),r=t.objectStore("attach-store"),i=t.objectStore("attach-seq-store");r.count().onsuccess=function(t){if(!t.target.result)return e();n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,o=n.primaryKey,s=Object.keys(r._attachments||{}),a={},c=0;c<s.length;c++)a[r._attachments[s[c]].digest]=!0;var u=Object.keys(a);for(c=0;c<u.length;c++)i.put({seq:o,digestSeq:u[c]+"::"+o});n.continue()}}}function c(t){var e=t.objectStore("by-sequence"),n=t.objectStore(Nf);n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i,o=(i=r.value).data?Lf(i):(i.deleted="1"===i.deletedOrLocal,i);if(o.winningRev=o.winningRev||Ih(o),o.seq)return s();!function(){var t=o.id+"::",n=o.id+"::\uffff",r=e.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,n)),i=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return o.seq=i,s();var n=e.primaryKey;n>i&&(i=n),e.continue()}}()}function s(){var t=Bf(o,o.winningRev,o.deleted);n.put(t).onsuccess=function(){r.continue()}}}}t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=Al((function(e){e(null,t._meta.instanceId)})),t._bulkDocs=function(n,r,o){!function(t,e,n,r,i,o){for(var s,a,c,u,l,h,f,d,p=e.docs,g=0,m=p.length;g<m;g++){var b=p[g];b._id&&zh(b._id)||(b=p[g]=kf(b,n.new_edits,t)).error&&!f&&(f=b)}if(f)return o(f);var y=!1,_=0,v=new Array(p.length),w=new il,O=!1;function E(){y=!0,S()}function S(){d&&y&&(d.docCount+=_,h.put(d))}function A(){O||(Wf.notify(r._meta.name),o(null,v))}function C(t,e,n,r,i,o,s,a){t.metadata.winningRev=e,t.metadata.deleted=n;var c=t.data;if(c._id=t.metadata.id,c._rev=t.metadata.rev,r&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(t,e,n,r,i,o){var s=0,a=Object.keys(t.data._attachments);function c(){s===a.length&&T(t,e,n,r,i,o)}function l(){s++,c()}a.forEach((function(n){var r=t.data._attachments[n];if(r.stub)s++,c();else{var i=r.data;delete r.data,r.revpos=parseInt(e,10),function(t,e,n){u.count(t).onsuccess=function(r){if(r.target.result)return n();u.put({digest:t,body:e}).onsuccess=n}}(r.digest,i,l)}}))}(t,e,n,i,s,a);_+=o,S(),T(t,e,n,i,s,a)}function T(t,e,n,i,o,u){var h=t.data,f=t.metadata;function d(o){var c=t.stemmedRevs||[];i&&r.auto_compaction&&(c=c.concat(function(t){var e=[];return Dh(t.rev_tree,(function(t,n,r,i,o){"available"!==o.status||t||(e.push(n+"-"+r),o.status="missing")})),e}(t.metadata))),c&&c.length&&qf(c,t.metadata.id,s),f.seq=o.target.result;var u=Bf(f,e,n);a.put(u).onsuccess=p}function p(){v[o]={ok:!0,id:f.id,rev:f.rev},w.set(t.metadata.id,t.metadata),function(t,e,n){var r=0,i=Object.keys(t.data._attachments||{});if(!i.length)return n();function o(){++r===i.length&&n()}function s(n){var r=l.put({seq:e,digestSeq:t.data._attachments[n].digest+"::"+e});r.onsuccess=o,r.onerror=function(t){t.preventDefault(),t.stopPropagation(),o()}}for(var a=0;a<i.length;a++)s(i[a])}(t,f.seq,u)}h._doc_id_rev=f.id+"::"+f.rev,delete h._id,delete h._rev;var g=c.put(h);g.onsuccess=d,g.onerror=function(t){t.preventDefault(),t.stopPropagation(),c.index("_doc_id_rev").getKey(h._doc_id_rev).onsuccess=function(t){c.put(h,t.target.result).onsuccess=d}}}!function(t,e,n){if(!t.length)return n();var r,i=0;function o(){i++,t.length===i&&(r?n(r):n())}t.forEach((function(t){var n=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],i=0;if(!n.length)return o();function s(t){r=t,++i===n.length&&o()}for(var a in t.data._attachments)t.data._attachments.hasOwnProperty(a)&&Pf(t.data._attachments[a],e,s)}))}(p,r._meta.blobSupport?"blob":"base64",(function(e){if(e)return o(e);!function(){var e=zf(i,[Nf,"by-sequence","attach-store","local-store","attach-seq-store",Rf],"readwrite");if(e.error)return o(e.error);(s=e.txn).onabort=Mf(o),s.ontimeout=Mf(o),s.oncomplete=A,a=s.objectStore(Nf),c=s.objectStore("by-sequence"),u=s.objectStore("attach-store"),l=s.objectStore("attach-seq-store"),(h=s.objectStore(Rf)).get(Rf).onsuccess=function(t){d=t.target.result,S()},function(t){var e=[];if(p.forEach((function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach((function(n){var r=t.data._attachments[n];r.stub&&e.push(r.digest)}))})),!e.length)return t();var n,r=0;e.forEach((function(i){!function(t,e){u.get(t).onsuccess=function(n){if(n.target.result)e();else{var r=Ql(Zl,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}(i,(function(i){i&&!n&&(n=i),++r===e.length&&t(n)}))}))}((function(e){if(e)return O=!0,o(e);!function(){if(p.length)for(var e=0,i=0,o=p.length;i<o;i++){var c=p[i];c._id&&zh(c._id)?u():a.get(c.metadata.id).onsuccess=l}function u(){++e===p.length&&function(t,e,n,r,i,o,s,a,c){t=t||1e3;var u=a.new_edits,l=new il,h=0,f=e.length;function d(){++h===f&&c&&c()}e.forEach((function(t,e){if(t._id&&zh(t._id))n[t._deleted?"_removeLocal":"_putLocal"](t,{ctx:i},(function(t,n){o[e]=t||n,d()}));else{var r=t.metadata.id;l.has(r)?(f--,l.get(r).push([t,e])):l.set(r,[[t,e]])}})),l.forEach((function(e,n){var i=0;function c(){++i<e.length?l():d()}function l(){var l=e[i],h=l[0],f=l[1];if(r.has(n))!function(t,e,n,r,i,o,s,a){if(function(t,e){for(var n,r=t.slice(),i=e.split("-"),o=parseInt(i[0],10),s=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,u=a.length;c<u;c++)r.push({pos:n.pos+1,ids:a[c]})}return!1}(e.rev_tree,n.metadata.rev)&&!a)return r[i]=n,o();var c=e.winningRev||Ih(e),u="deleted"in e?e.deleted:qh(e,c),l="deleted"in n.metadata?n.metadata.deleted:qh(n.metadata),h=/^1-/.test(n.metadata.rev);if(u&&!l&&a&&h){var f=n.data;f._rev=c,f._id=n.metadata.id,n=kf(f,a)}var d=$h(e.rev_tree,n.metadata.rev_tree[0],t);if(a&&(u&&l&&"new_leaf"!==d.conflicts||!u&&"new_leaf"!==d.conflicts||u&&!l&&"new_branch"===d.conflicts)){var p=Ql(Fl);return r[i]=p,o()}var g=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var m=Ih(n.metadata),b=qh(n.metadata,m),y=u===b?0:u<b?-1:1;s(n,m,b,g===m?b:qh(n.metadata,g),!0,y,i,o)}(t,r.get(n),h,o,f,c,s,u);else{var d=$h([],h.metadata.rev_tree[0],t);h.metadata.rev_tree=d.tree,h.stemmedRevs=d.stemmedRevs||[],function(t,e,n){var r=Ih(t.metadata),i=qh(t.metadata,r);if("was_delete"in a&&i)return o[e]=Ql(Ul,"deleted"),n();if(u&&function(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}(t)){var c=Ql(Fl);return o[e]=c,n()}s(t,r,i,i,!1,i?0:1,e,n)}(h,f,c)}}l()}))}(t.revs_limit,p,r,w,s,v,C,n,E)}function l(t){var e=Lf(t.target.result);e&&w.set(e.id,e),u()}}()}))}()}))}(e,n,r,t,i,o)},t._get=function(t,e,n){var r,o,s,a=e.ctx;if(!a){var c=zf(i,[Nf,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function u(){n(s,{doc:r,metadata:o,ctx:a})}a.objectStore(Nf).get(t).onsuccess=function(t){if(!(o=Lf(t.target.result)))return s=Ql(Ul,"missing"),u();var n;if(e.rev)n=e.latest?function(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var i=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],u=0===c.length,l=n.history?n.history.slice():[];if(l.push({id:s,pos:i,opts:a}),u)for(var h=0,f=l.length;h<f;h++){var d=l[h];if(d.pos+"-"+d.id===t)return i+"-"+s}for(var p=0,g=c.length;p<g;p++)r.push({pos:i+1,ids:c[p],history:l})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}(e.rev,o):e.rev;else if(n=o.winningRev,qh(o))return s=Ql(Ul,"deleted"),u();var i=a.objectStore("by-sequence"),c=o.id+"::"+n;i.index("_doc_id_rev").get(c).onsuccess=function(t){if((r=t.target.result)&&(r=Uf(r)),!r)return s=Ql(Ul,"missing"),u();u()}}},t._getAttachment=function(t,e,n,r,o){var s;if(r.ctx)s=r.ctx;else{var a=zf(i,[Nf,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,u=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(t){Ff(t.target.result.body,u,r.binary,(function(t){o(null,t)}))}},t._info=function(e){var n,r,o=zf(i,[Rf,"by-sequence"],"readonly");if(o.error)return e(o.error);var s=o.txn;s.objectStore(Rf).get(Rf).onsuccess=function(t){r=t.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},s.oncomplete=function(){e(null,{doc_count:r,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){!function(t,e,n){var r,i,o="keys"in t&&t.keys,s=t.skip||0,a="number"==typeof t.limit?t.limit:-1;if(!o&&(i=(r=function(t,e,n,r,i){try{if(t&&e)return i?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return i?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return i?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(g_){return{error:g_}}return null}("startkey"in t&&t.startkey,"endkey"in t&&t.endkey,!1!==t.inclusive_end,"key"in t&&t.key,t.descending))&&r.error)&&("DataError"!==i.name||0!==i.code))return n(Ql(Yl,i.name));var c=[Nf,"by-sequence",Rf];t.attachments&&c.push("attach-store");var u=zf(e,c,"readonly");if(u.error)return n(u.error);var l=u.txn;l.oncomplete=function(){t.attachments?Vf(y,t.binary).then(O):O()},l.onabort=Mf(n);var h,f,d,p=l.objectStore(Nf),g=l.objectStore("by-sequence"),m=l.objectStore(Rf),b=g.index("_doc_id_rev"),y=[];function _(e,n){var r={id:n.id,key:n.id,value:{rev:e}};n.deleted?o&&(y.push(r),r.value.deleted=!0,r.doc=null):s--<=0&&(y.push(r),t.include_docs&&function(e,n,r){b.get(e.id+"::"+r).onsuccess=function(r){if(n.doc=Uf(r.target.result)||{},t.conflicts){var i=Nh(e);i.length&&(n.doc._conflicts=i)}$f(n.doc,t,l)}}(n,r,e))}function v(t){for(var e=0,n=t.length;e<n&&y.length!==a;e++){var r=t[e];if(r.error&&o)y.push(r);else{var i=Lf(r);_(i.winningRev,i)}}}function w(t,e,n){n&&(v(e),y.length<a&&n.continue())}function O(){var e={total_rows:h,offset:t.skip,rows:y};t.update_seq&&void 0!==f&&(e.update_seq=f),n(null,e)}m.get(Rf).onsuccess=function(t){h=t.target.result.docCount},t.update_seq&&(d=function(t){t.target.result&&t.target.result.length>0&&(f=t.target.result[0])},g.openCursor(null,"prev").onsuccess=function(t){var e=t.target.result,n=void 0;return e&&e.key&&(n=e.key),d({target:{result:[n]}})}),i||0===a||(o?function(t,e,n){var r=new Array(t.length),i=0;t.forEach((function(o,s){e.get(o).onsuccess=function(e){r[s]=e.target.result?e.target.result:{key:o,error:"not_found"},++i===t.length&&n(t,r,{})}}))}(t.keys,p,w):-1===a?function(t,e,n){if("function"!=typeof t.getAll){var r=[];t.openCursor(e).onsuccess=function(t){var e=t.target.result;e?(r.push(e.value),e.continue()):n({target:{result:r}})}}else t.getAll(e).onsuccess=n}(p,r,(function(e){var n=e.target.result;t.descending&&(n=n.reverse()),v(n)})):Hf(p,r,t.descending,a+s,w))}(t,i,e)},t._changes=function(e){return function(t,e,n,r){if((t=El(t)).continuous){var i=n+":"+xh();return Wf.addListener(n,i,e,t),Wf.notify(n),{cancel:function(){Wf.removeListener(n,i)}}}var o=t.doc_ids&&new rl(t.doc_ids);t.since=t.since||0;var s=t.since,a="limit"in t?t.limit:-1;0===a&&(a=1);var c,u,l,h,f=[],d=0,p=eh(t),g=new il;function m(t,e,n,r){return n.seq!==e?r():n.winningRev===t._rev?r(n,t):void(h.get(t._id+"::"+n.winningRev).onsuccess=function(t){r(n,Uf(t.target.result))})}function b(){t.complete(null,{results:f,last_seq:s})}var y=[Nf,"by-sequence"];t.attachments&&y.push("attach-store");var _=zf(r,y,"readonly");if(_.error)return t.complete(_.error);(c=_.txn).onabort=Mf(t.complete),c.oncomplete=function(){!t.continuous&&t.attachments?Vf(f).then(b):b()},u=c.objectStore("by-sequence"),l=c.objectStore(Nf),h=u.index("_doc_id_rev"),Hf(u,t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null,t.descending,a,(function(e,n,r){if(r&&e.length){var i=new Array(e.length),u=new Array(e.length),h=0;n.forEach((function(n,s){!function(t,e,n){if(o&&!o.has(t._id))return n();var r=g.get(t._id);if(r)return m(t,e,r,n);l.get(t._id).onsuccess=function(i){r=Lf(i.target.result),g.set(t._id,r),m(t,e,r,n)}}(Uf(n),e[s],(function(n,o){u[s]=n,i[s]=o,++h===e.length&&function(){for(var e=[],n=0,o=i.length;n<o&&d!==a;n++){var s=i[n];s&&e.push(b(u[n],s))}Promise.all(e).then((function(e){for(var n=0,r=e.length;n<r;n++)e[n]&&t.onChange(e[n])})).catch(t.complete),d!==a&&r.continue()}()}))}))}function b(e,n){var r=t.processChange(n,e,t);s=r.seq=e.seq;var i=p(r);return"object"==typeof i?Promise.reject(i):i?(d++,t.return_docs&&f.push(r),t.attachments&&t.include_docs?new Promise((function(e){$f(n,t,c,(function(){Vf([r],t.binary).then((function(){e(r)}))}))})):Promise.resolve(r)):Promise.resolve()}}))}(e,t,r,i)},t._close=function(t){i.close(),Jf.delete(r),t()},t._getRevisionTree=function(t,e){var n=zf(i,[Nf],"readonly");if(n.error)return e(n.error);n.txn.objectStore(Nf).get(t).onsuccess=function(t){var n=Lf(t.target.result);n?e(null,n.rev_tree):e(Ql(Ul))}},t._doCompaction=function(t,e,n){var r=zf(i,[Nf,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(r.error)return n(r.error);var o=r.txn;o.objectStore(Nf).get(t).onsuccess=function(n){var r=Lf(n.target.result);Dh(r.rev_tree,(function(t,n,r,i,o){-1!==e.indexOf(n+"-"+r)&&(o.status="missing")})),qf(e,t,o);var i=r.winningRev,s=r.deleted;o.objectStore(Nf).put(Bf(r,i,s))},o.onabort=Mf(n),o.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=zf(i,["local-store"],"readonly");if(n.error)return e(n.error);var r=n.txn.objectStore("local-store").get(t);r.onerror=Mf(e),r.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(Ql(Ul))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,o=t._id;t._rev=r?"0-"+(parseInt(r.split("-")[1],10)+1):"0-1";var s,a=e.ctx;if(!a){var c=zf(i,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Mf(n),a.oncomplete=function(){s&&n(null,s)}}var u,l=a.objectStore("local-store");r?(u=l.get(o)).onsuccess=function(i){var o=i.target.result;o&&o._rev===r?l.put(t).onsuccess=function(){s={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,s)}:n(Ql(Fl))}:((u=l.add(t)).onerror=function(t){n(Ql(Fl)),t.preventDefault(),t.stopPropagation()},u.onsuccess=function(){s={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,s)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r,o=e.ctx;if(!o){var s=zf(i,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){r&&n(null,r)}}var a=t._id,c=o.objectStore("local-store"),u=c.get(a);u.onerror=Mf(n),u.onsuccess=function(i){var o=i.target.result;o&&o._rev===t._rev?(c.delete(a),r={ok:!0,id:a,rev:"0-0"},e.ctx&&n(null,r)):n(Ql(Ul))}},t._destroy=function(t,e){Wf.removeAllListeners(r);var n=Zf.get(r);n&&n.result&&(n.result.close(),Jf.delete(r));var i=indexedDB.deleteDatabase(r);i.onsuccess=function(){Zf.delete(r),kl()&&r in localStorage&&delete localStorage[r],e(null,{ok:!0})},i.onerror=Mf(e)};var u=Jf.get(r);if(u)return i=u.idb,t._meta=u.global,Ju()((function(){n(null,t)}));var l=indexedDB.open(r,5);Zf.set(r,l),l.onupgradeneeded=function(t){var e=t.target.result;if(t.oldVersion<1)return function(t){var e=t.createObjectStore(Nf,{keyPath:"id"});t.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore("attach-store",{keyPath:"digest"}),t.createObjectStore(Rf,{keyPath:"id",autoIncrement:!1}),t.createObjectStore("detect-blob-support"),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore("local-store",{keyPath:"_id"});var n=t.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(e);var n=t.currentTarget.transaction;t.oldVersion<3&&function(t){t.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(e),t.oldVersion<4&&function(t){var e=t.createObjectStore("attach-seq-store",{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}(e);var r=[o,s,a,c],i=t.oldVersion;!function t(){var e=r[i-1];i++,e&&e(n,t)}()},l.onsuccess=function(e){(i=e.target.result).onversionchange=function(){i.close(),Jf.delete(r)},i.onabort=function(t){Nl("error","Database has a global failure",t.target.error),i.close(),Jf.delete(r)};var o,s,a,c,u=i.transaction([Rf,"detect-blob-support",Nf],"readwrite"),l=!1;function h(){void 0!==a&&l&&(t._meta={name:r,instanceId:c,blobSupport:a},Jf.set(r,{idb:i,global:t._meta}),n(null,t))}function f(){if(void 0!==s&&void 0!==o){var t=r+"_id";t in o?c=o[t]:o[t]=c=xh(),o.docCount=s,u.objectStore(Rf).put(o)}}u.objectStore(Rf).get(Rf).onsuccess=function(t){o=t.target.result||{id:Rf},f()},function(t,e){t.objectStore(Nf).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(t){s=t.target.result,f()}}(u),Yf||(Yf=function(t){return new Promise((function(e){var n=gh([""]),r=t.objectStore("detect-blob-support").put(n,"key");r.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},r.onerror=t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}})).catch((function(){return!1}))}(u)),Yf.then((function(t){a=t,h()})),u.oncomplete=function(){l=!0,h()},u.onabort=Mf(n)},l.onerror=function(t){var e=t.target.error&&t.target.error.message;e?-1!==e.indexOf("stored database is a higher version")&&(e=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):e="Failed to open indexedDB, are you in private browsing mode?",Nl("error",e),n(Ql(Yl,e))}}(n,t,(function(t,e){!function(t,e,n,r){try{t(e,n)}catch(e){r.emit("error",e)}}(r,t,e,i),Kf=!1,Ju()((function(){Xf()}))}))})),Xf()}(0,e,n.constructor)}Qf.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(g_){return!1}};var td={};function ed(t){var e=t.doc||t.ok,n=e&&e._attachments;n&&Object.keys(n).forEach((function(t){var e=n[t];e.data=yh(e.data,e.content_type)}))}function nd(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function rd(t){return t._attachments&&Object.keys(t._attachments)?Promise.all(Object.keys(t._attachments).map((function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new Promise((function(t){wh(n.data,t)})).then((function(t){n.data=t}))}))):Promise.resolve()}function id(t,e){return od(t,t.db+"/"+e)}function od(t,e){return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+(t.path?"/":"")+e}function sd(t){return"?"+Object.keys(t).map((function(e){return e+"="+encodeURIComponent(t[e])})).join("&")}function ad(t,e){var n=this,r=function(t,e){if(function(t){if(!t.prefix)return!1;var e=lh(t.prefix).protocol;return"http"===e||"https"===e}(e)){var n=e.name.substr(e.prefix.length);t=e.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var r=lh(t);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var i=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=i.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=i.join("/"),r}(t.name,t),i=id(r,"");t=El(t);var o,s=function(e,n){if((n=n||{}).headers=n.headers||new ef,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=ph(unescape(encodeURIComponent(i.username+":"+i.password)));n.headers.set("Authorization","Basic "+o)}var s=t.headers||{};return Object.keys(s).forEach((function(t){n.headers.append(t,s[t])})),function(t){var e="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==e.indexOf("msie"),r=-1!==e.indexOf("trident"),i=-1!==e.indexOf("edge");return(n||r||i)&&(!("method"in t)||"GET"===t.method)}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||tf)(e,n)};function a(t,e){return Cl(t,hl()((function(t){u().then((function(){return e.apply(this,t)})).catch((function(e){t.pop()(e)}))}))).bind(n)}function c(t,e,n){var r={};return(e=e||{}).headers=e.headers||new ef,e.headers.get("Content-Type")||e.headers.set("Content-Type","application/json"),e.headers.get("Accept")||e.headers.set("Accept","application/json"),s(t,e).then((function(t){return r.ok=t.ok,r.status=t.status,t.json()})).then((function(t){if(r.data=t,!r.ok){r.data.status=r.status;var e=th(r.data);if(n)return n(e);throw e}if(Array.isArray(r.data)&&(r.data=r.data.map((function(t){return t.error||t.missing?th(t):t}))),!n)return r;n(null,r.data)}))}function u(){return t.skip_setup?Promise.resolve():o||((o=c(i).catch((function(t){return t&&t.status&&404===t.status?(jl(404,"PouchDB is just detecting if the remote exists."),c(i,{method:"PUT"})):Promise.reject(t)})).catch((function(t){return!(!t||!t.status||412!==t.status)||Promise.reject(t)}))).catch((function(){o=null})),o)}function l(t){return t.split("/").map(encodeURIComponent).join("/")}Ju()((function(){e(null,n)})),n._remote=!0,n.type=function(){return"http"},n.id=a("id",(function(t){s(od(r,"")).then((function(t){return t.json()})).catch((function(){return{}})).then((function(e){var n=e&&e.uuid?e.uuid+r.db:id(r,"");t(null,n)}))})),n.compact=a("compact",(function(t,e){"function"==typeof t&&(e=t,t={}),t=El(t),c(id(r,"_compact"),{method:"POST"}).then((function(){!function r(){n.info((function(n,i){i&&!i.compact_running?e(null,{ok:!0}):setTimeout(r,t.interval||200)}))}()}))})),n.bulkGet=Cl("bulkGet",(function(t,e){var n=this;function i(e){var n={};t.revs&&(n.revs=!0),t.attachments&&(n.attachments=!0),t.latest&&(n.latest=!0),c(id(r,"_bulk_get"+sd(n)),{method:"POST",body:JSON.stringify({docs:t.docs})}).then((function(n){t.attachments&&t.binary&&n.data.results.forEach((function(t){t.docs.forEach(ed)})),e(null,n.data)})).catch(e)}function o(){var r=Math.ceil(t.docs.length/50),i=0,o=new Array(r);function s(t){return function(n,s){o[t]=s.results,++i===r&&e(null,{results:nh(o)})}}for(var a=0;a<r;a++){var c=Tl(t,["revs","attachments","binary","latest"]);c.docs=t.docs.slice(50*a,Math.min(t.docs.length,50*(a+1))),Dl(n,c,s(a))}}var s=od(r,""),a=td[s];"boolean"!=typeof a?i((function(t,n){t?(td[s]=!1,jl(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(td[s]=!0,e(null,n))})):a?i(e):o()})),n._info=function(t){u().then((function(){return s(id(r,""))})).then((function(t){return t.json()})).then((function(e){e.host=id(r,""),t(null,e)})).catch(t)},n.fetch=function(t,e){return u().then((function(){var n="/"===t.substring(0,1)?od(r,t.substring(1)):id(r,t);return s(n,e)}))},n.get=a("get",(function(t,e,n){"function"==typeof e&&(n=e,e={});var i={};function o(t){var n,i=t._attachments,o=i&&Object.keys(i);if(i&&o.length)return n=o.map((function(n){return function(){return function(n){var o=i[n],a=nd(t._id)+"/"+l(n)+"?rev="+t._rev;return s(id(r,a)).then((function(t){return"buffer"in t?t.buffer():t.blob()})).then((function(t){if(e.binary){var n=Object.getOwnPropertyDescriptor(t.__proto__,"type");return n&&!n.set||(t.type=o.content_type),t}return new Promise((function(e){wh(t,e)}))})).then((function(t){delete o.stub,delete o.length,o.data=t}))}(n)}})),new Promise((function(t,e){var r,i=0,o=0,s=0,a=n.length;function c(){++s===a?r?e(r):t():h()}function u(){i--,c()}function l(t){i--,r=r||t,c()}function h(){for(;i<5&&o<a;)i++,n[o++]().then(u,l)}h()}))}(e=El(e)).revs&&(i.revs=!0),e.revs_info&&(i.revs_info=!0),e.latest&&(i.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),i.open_revs=e.open_revs),e.rev&&(i.rev=e.rev),e.conflicts&&(i.conflicts=e.conflicts),e.update_seq&&(i.update_seq=e.update_seq),t=nd(t),c(id(r,t+sd(i))).then((function(t){return Promise.resolve().then((function(){if(e.attachments)return n=t.data,Array.isArray(n)?Promise.all(n.map((function(t){if(t.ok)return o(t.ok)}))):o(n);var n})).then((function(){n(null,t.data)}))})).catch((function(e){e.docId=t,n(e)}))})),n.remove=a("remove",(function(t,e,n,i){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(i=n,n={})):(o=t,"function"==typeof e?(i=e,n={}):(i=n,n=e));var s=o._rev||n.rev;c(id(r,nd(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),n.getAttachment=a("getAttachment",(function(t,e,n,i){"function"==typeof n&&(i=n,n={});var o,a=n.rev?"?rev="+n.rev:"",c=id(r,nd(t))+"/"+l(e)+a;s(c,{method:"GET"}).then((function(t){if(o=t.headers.get("content-type"),t.ok)return"undefined"==typeof process||process.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){"undefined"==typeof process||process.browser||(t.type=o),i(null,t)})).catch((function(t){i(t)}))})),n.removeAttachment=a("removeAttachment",(function(t,e,n,i){c(id(r,nd(t)+"/"+l(e))+"?rev="+n,{method:"DELETE"},i).catch(i)})),n.putAttachment=a("putAttachment",(function(t,e,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=nd(t)+"/"+l(e),u=id(r,a);if(n&&(u+="?rev="+n),"string"==typeof i){var h;try{h=dh(i)}catch(p_){return s(Ql(Wl,"Attachment is not a valid base64 string"))}i=h?bh(h,o):""}c(u,{headers:new ef({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),n._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,u().then((function(){return Promise.all(t.docs.map(rd))})).then((function(){return c(id(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(t)},n)})).catch(n)},n._put=function(t,e,n){u().then((function(){return rd(t)})).then((function(){return c(id(r,nd(t._id)),{method:"PUT",body:JSON.stringify(t)})})).then((function(t){n(null,t.data)})).catch((function(e){e.docId=t&&t._id,n(e)}))},n.allDocs=a("allDocs",(function(t,e){"function"==typeof t&&(e=t,t={});var n,i={},o="GET";(t=El(t)).conflicts&&(i.conflicts=!0),t.update_seq&&(i.update_seq=!0),t.descending&&(i.descending=!0),t.include_docs&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.key&&(i.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(i.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(i.endkey=JSON.stringify(t.endkey)),void 0!==t.inclusive_end&&(i.inclusive_end=!!t.inclusive_end),void 0!==t.limit&&(i.limit=t.limit),void 0!==t.skip&&(i.skip=t.skip);var s=sd(i);void 0!==t.keys&&(o="POST",n={keys:t.keys}),c(id(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){t.include_docs&&t.attachments&&t.binary&&n.data.rows.forEach(ed),e(null,n.data)})).catch(e)})),n._changes=function(t){var e="batch_size"in t?t.batch_size:25;(t=El(t)).continuous&&!("heartbeat"in t)&&(t.heartbeat=1e4);var n="timeout"in t?t.timeout:3e4;"timeout"in t&&t.timeout&&n-t.timeout<5e3&&(n=t.timeout+5e3),"heartbeat"in t&&t.heartbeat&&n-t.heartbeat<5e3&&(n=t.heartbeat+5e3);var i={};"timeout"in t&&t.timeout&&(i.timeout=t.timeout);var o=void 0!==t.limit&&t.limit,s=o;if(t.style&&(i.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.continuous&&(i.feed="longpoll"),t.seq_interval&&(i.seq_interval=t.seq_interval),t.conflicts&&(i.conflicts=!0),t.descending&&(i.descending=!0),t.update_seq&&(i.update_seq=!0),"heartbeat"in t&&t.heartbeat&&(i.heartbeat=t.heartbeat),t.filter&&"string"==typeof t.filter&&(i.filter=t.filter),t.view&&"string"==typeof t.view&&(i.filter="_view",i.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var a in t.query_params)t.query_params.hasOwnProperty(a)&&(i[a]=t.query_params[a]);var l,h="GET";t.doc_ids?(i.filter="_doc_ids",h="POST",l={doc_ids:t.doc_ids}):t.selector&&(i.filter="_selector",h="POST",l={selector:t.selector});var f,d=new Qh,p=function(n,a){if(!t.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),t.descending?o&&(i.limit=s):i.limit=!o||s>e?e:s;var p=id(r,"_changes"+sd(i)),g={signal:d.signal,method:h,body:JSON.stringify(l)};f=n,t.aborted||u().then((function(){return c(p,g,a)})).catch(a)}},g={results:[]},m=function(n,r){if(!t.aborted){var i=0;if(r&&r.results){i=r.results.length,g.last_seq=r.last_seq;var a=null,c=null;"number"==typeof r.pending&&(a=r.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(c=g.last_seq),r.results=r.results.filter((function(e){s--;var n=eh(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&ed(e),t.return_docs&&g.results.push(e),t.onChange(e,a,c)),n}))}else if(n)return t.aborted=!0,void t.complete(n);r&&r.last_seq&&(f=r.last_seq),(!t.continuous||o&&s<=0)&&(o&&s<=0||r&&i<e||t.descending)?t.complete(null,g):Ju()((function(){p(f,m)}))}};return p(t.since||0,m),{cancel:function(){t.aborted=!0,d.abort()}}},n.revsDiff=a("revsDiff",(function(t,e,n){"function"==typeof e&&(n=e,e={}),c(id(r,"_revs_diff"),{method:"POST",body:JSON.stringify(t)},n).catch(n)})),n._close=function(t){t()},n._destroy=function(t,e){c(id(r,""),{method:"DELETE"}).then((function(t){e(null,t)})).catch((function(t){404===t.status?e(null,{ok:!0}):e(t)}))}}function cd(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,cd)}catch(g_){}}function ud(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ud)}catch(g_){}}function ld(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ld)}catch(g_){}}function hd(t,e){return e&&t.then((function(t){Ju()((function(){e(null,t)}))}),(function(t){Ju()((function(){e(t)}))})),t}function fd(t,e){return function(){var n=arguments,r=this;return t.add((function(){return e.apply(r,n)}))}}function dd(t){var e=new rl(t),n=new Array(e.size),r=-1;return e.forEach((function(t){n[++r]=t})),n}function pd(t){var e=new Array(t.size),n=-1;return t.forEach((function(t,r){e[++n]=r})),e}function gd(t){return new ld("builtin "+t+" function requires map values to be numbers or number arrays")}function md(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];if("number"!=typeof i){if(!Array.isArray(i))throw gd("_sum");e="number"==typeof e?[e]:e;for(var o=0,s=i.length;o<s;o++){var a=i[o];if("number"!=typeof a)throw gd("_sum");void 0===e[o]?e.push(a):e[o]+=a}}else"number"==typeof e?e+=i:e[0]+=i}return e}ad.valid=function(){return!0},dl()(cd,Error),dl()(ud,Error),dl()(ld,Error);var bd=Nl.bind(null,"log"),yd=Array.isArray,_d=JSON.parse;function vd(t,e){return hh("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:md,log:bd,isArray:yd,toJSON:_d})}function wd(){this.promise=new Promise((function(t){t()}))}function Od(t){if(!t)return"undefined";switch(typeof t){case"function":case"string":return t.toString();default:return JSON.stringify(t)}}function Ed(t,e,n,r,i,o){var s,a=function(t,e){return Od(t)+Od(e)+"undefined"}(n,r);if(!i&&(s=t._cachedViews=t._cachedViews||{})[a])return s[a];var c=t.info().then((function(c){var u=c.db_name+"-mrview-"+(i?"temp":Ch(a));return fh(t,"_local/"+o,(function(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var r=t.views[n]=t.views[n]||{};if(!r[u])return r[u]=!0,t})).then((function(){return t.registerDependentDatabase(u).then((function(e){var i=e.db;i.auto_compaction=!0;var o={name:u,db:i,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return o.db.get("_local/lastSeq").catch((function(t){if(404!==t.status)throw t})).then((function(t){return o.seq=t?t.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}wd.prototype.add=function(t){return this.promise=this.promise.catch((function(){})).then((function(){return t()})),this.promise},wd.prototype.finish=function(){return this.promise};var Sd={},Ad=new wd;function Cd(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function Td(t,e){try{t.emit("error",e)}catch(p_){Nl("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),Nl("error",e)}}var xd=function(t,e){return md(e)},Id=function(t,e){return e.length},Dd=function(t,e){return{sum:md(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];e+=i*i}return e}(e)}},kd=function(t,e,n,r){function i(t,e,n){try{e(n)}catch(g_){Td(t,g_)}}function o(t,e,n,r,i){try{return{output:e(n,r,i)}}catch(g_){return Td(t,g_),{error:g_}}}function s(t,e){var n=hf(t.key,e.key);return 0!==n?n:hf(t.value,e.value)}function a(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function c(t){var e=t.value;return e&&"object"==typeof e&&e._id||t.id}function u(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&function(t){t.rows.forEach((function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach((function(t){var n=e[t];e[t].data=yh(n.data,n.content_type)}))}))}(e),e}}function l(t,e,n,r){var i=e[t];void 0!==i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(t+"="+i))}function h(t){if(void 0!==t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function f(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if(void 0!==t[n]&&void 0!==t[r]&&hf(t[n],t[r])>0)throw new cd("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new cd("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new cd("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(e){var n=function(t){if(t){if("number"!=typeof t)return new cd('Invalid value for integer: "'+t+'"');if(t<0)return new cd('Invalid value for positive integer: "'+t+'"')}}(t[e]);if(n)throw n}))}function d(t){return function(e){if(404===e.status)return t;throw e}}function p(t){var e="string"==typeof t?t:t.name,n=Sd[e];return n||(n=Sd[e]=new wd),n}function g(t){return fd(p(t),(function(){return function(t){var e,n,r=function(t,e){if("function"==typeof t&&2===t.length){var n=t;return function(t){return n(t,e)}}return vd(t.toString(),e)}(t.mapFun,(function(t,r){var i={id:n._id,key:ff(t)};null!=r&&(i.value=ff(r)),e.push(i)})),o=t.seq||0;var a=new wd;function c(){return t.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:o,limit:50}).then(u)}function u(u){var h=u.results;if(h.length){var f=function(a){for(var c=new il,u=0,h=a.length;u<h;u++){var f=a[u];if("_"!==f.doc._id[0]){e=[],(n=f.doc)._deleted||i(t.sourceDB,r,n),e.sort(s);var d=l(e);c.set(f.doc._id,[d,f.changes])}o=f.seq}return c}(h);if(a.add(function(e,n){return function(){return function(t,e,n){return t.db.get("_local/lastSeq").catch(d({_id:"_local/lastSeq",seq:0})).then((function(r){var i=pd(e);return Promise.all(i.map((function(n){return function(t,e,n){var r,i="_local/doc_"+t,o={_id:i,keys:[]},s=n.get(t),a=s[0];return(r=s[1],1===r.length&&/^1-/.test(r[0].rev)?Promise.resolve(o):e.db.get(i).catch(d(o))).then((function(t){return function(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})}(t).then((function(e){return function(t,e){for(var n=[],r=new rl,i=0,o=e.rows.length;i<o;i++){var s=e.rows[i].doc;if(s&&(n.push(s),r.add(s._id),s._deleted=!a.has(s._id),!s._deleted)){var c=a.get(s._id);"value"in c&&(s.value=c.value)}}var u=pd(a);return u.forEach((function(t){if(!r.has(t)){var e={_id:t},i=a.get(t);"value"in i&&(e.value=i.value),n.push(e)}})),t.keys=dd(u.concat(t.keys)),n.push(t),n}(t,e)}))}))}(n,t,e)}))).then((function(e){var i=nh(e);return r.seq=n,i.push(r),t.db.bulkDocs({docs:i})}))}))}(t,e,n)}}(f,o)),!(h.length<50))return c()}}function l(t){for(var e,n=new il,r=0,i=t.length;r<i;r++){var o=t[r],s=[o.key,o.id];r>0&&0===hf(o.key,e)&&s.push(r),n.set(df(s),o),e=o.key}return n}return c().then((function(){return a.finish()})).then((function(){t.seq=o}))}(t)}))()}function m(t,e){return fd(p(t),(function(){return function(t,e){var n,r=t.reduceFun&&!1!==e.reduce,i=e.skip||0;function s(e){return e.include_docs=!0,t.db.allDocs(e).then((function(t){return n=t.total_rows,t.rows.map((function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=function(t){for(var e=[],n=[],r=0;;){var i=t[r++];if("\0"!==i)switch(i){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var o=pf(t,r);e.push(o.num),r+=o.length;break;case"4":for(var s="";;){var a=t[r];if("\0"===a)break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),e.push(s);break;case"5":var c={element:[],index:e.length};e.push(c.element),n.push(c);break;case"6":var u={element:{},index:e.length};e.push(u.element),n.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===e.length)return e.pop();gf(e,n)}}}(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}}))}))}function u(s){var u;if(u=r?function(t,e,n){0===n.group_level&&delete n.group_level;var r=n.group||n.group_level,i=function(t){var e=t.toString();return function(t){if(/^_sum/.test(t))return xd;if(/^_count/.test(t))return Id;if(/^_stats/.test(t))return Dd;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}(e)||vd(e)}(t.reduceFun),s=[],c=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach((function(t){var e=s[s.length-1],n=r?t.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===hf(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);s.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})})),e=[];for(var u=0,l=s.length;u<l;u++){var h=s[u],f=o(t.sourceDB,i,h.keys,h.values,!1);if(f.error&&f.error instanceof ld)throw f.error;e.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:a(e,n.limit,n.skip)}}(t,s,e):{total_rows:n,offset:i,rows:s},e.update_seq&&(u.update_seq=t.seq),e.include_docs){var l=dd(s.map(c));return t.sourceDB.allDocs({keys:l,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then((function(t){var e=new il;return t.rows.forEach((function(t){e.set(t.id,t.doc)})),s.forEach((function(t){var n=c(t),r=e.get(n);r&&(t.doc=r)})),u}))}return u}if(void 0===e.keys||e.keys.length||(e.limit=0,delete e.keys),void 0!==e.keys){var l=e.keys.map((function(t){var n={startkey:df([t]),endkey:df([t,{}])};return e.update_seq&&(n.update_seq=!0),s(n)}));return Promise.all(l).then(nh).then(u)}var h,f,d={descending:e.descending};if(e.update_seq&&(d.update_seq=!0),"start_key"in e&&(h=e.start_key),"startkey"in e&&(h=e.startkey),"end_key"in e&&(f=e.end_key),"endkey"in e&&(f=e.endkey),void 0!==h&&(d.startkey=df(e.descending?[h,{}]:[h])),void 0!==f){var p=!1!==e.inclusive_end;e.descending&&(p=!p),d.endkey=df(p?[f,{}]:[f])}if(void 0!==e.key){var g=df([e.key]),m=df([e.key,{}]);d.descending?(d.endkey=g,d.startkey=m):(d.startkey=g,d.endkey=m)}return r||("number"==typeof e.limit&&(d.limit=e.limit),d.skip=i),s(d).then(u)}(t,e)}))()}var b;return{query:function(t,e,n){var r=this;"function"==typeof e&&(n=e,e={}),e=e?function(t){return t.group_level=h(t.group_level),t.limit=h(t.limit),t.skip=h(t.skip),t}(e):{},"function"==typeof t&&(t={map:t});var i=Promise.resolve().then((function(){return function(t,e,n){if("function"==typeof t._query)return function(t,e,n){return new Promise((function(r,i){t._query(e,n,(function(t,e){if(t)return i(t);r(e)}))}))}(t,e,n);if(ih(t))return function(t,e,n){var r,i,o,s=[],a="GET";if(l("reduce",n,s),l("include_docs",n,s),l("attachments",n,s),l("limit",n,s),l("descending",n,s),l("group",n,s),l("group_level",n,s),l("skip",n,s),l("stale",n,s),l("conflicts",n,s),l("startkey",n,s,!0),l("start_key",n,s,!0),l("endkey",n,s,!0),l("end_key",n,s,!0),l("inclusive_end",n,s),l("key",n,s,!0),l("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var h=Cd(e);return t.fetch("_design/"+h[0]+"/_view/"+h[1]+s,{headers:new ef({"Content-Type":"application/json"}),method:a,body:JSON.stringify(r)}).then((function(t){return i=t.ok,o=t.status,t.json()})).then((function(t){if(!i)throw t.status=o,th(t);return t.rows.forEach((function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)})),t})).then(u(n))}return r=r||{},Object.keys(e).forEach((function(t){r[t]=Array.isArray(e[t])?e[t]:e[t].toString()})),t.fetch("_temp_view"+s,{headers:new ef({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(r)}).then((function(t){return i=t.ok,o=t.status,t.json()})).then((function(t){if(!i)throw t.status=o,th(t);return t})).then(u(n))}(t,e,n);if("string"!=typeof e)return f(n,e),Ad.add((function(){return Ed(t,"temp_view/temp_view",e.map,e.reduce,!0,"mrviews").then((function(t){return e=g(t).then((function(){return m(t,n)})),r=function(){return t.db.destroy()},e.then((function(t){return r().then((function(){return t}))}),(function(t){return r().then((function(){throw t}))}));var e,r}))})),Ad.finish();var r=e,i=Cd(r),o=i[1];return t.get("_design/"+i[0]).then((function(e){var i=e.views&&e.views[o];if(!i)throw new ud("ddoc "+e._id+" has no view named "+o);return function(t,e){var n=t.views&&t.views[e];if("string"!=typeof n.map)throw new ud("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}(e,o),f(n,i),Ed(t,r,i.map,i.reduce,!1,"mrviews").then((function(t){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&Ju()((function(){g(t)})),m(t,n)):g(t).then((function(){return m(t,n)}))}))}))}(r,t,e)}));return hd(i,n),i},viewCleanup:(b=function(){var t=this;return"function"==typeof t._viewCleanup?function(t){return new Promise((function(e,n){t._viewCleanup((function(t,r){if(t)return n(t);e(r)}))}))}(t):ih(t)?function(t){return t.fetch("_view_cleanup",{headers:new ef({"Content-Type":"application/json"}),method:"POST"}).then((function(t){return t.json()}))}(t):function(t){return t.get("_local/mrviews").then((function(e){var n=new il;Object.keys(e.views).forEach((function(t){var e=Cd(t),r="_design/"+e[0],i=e[1],o=n.get(r);o||(o=new rl,n.set(r,o)),o.add(i)}));var r={keys:pd(n),include_docs:!0};return t.allDocs(r).then((function(r){var i={};r.rows.forEach((function(t){var r=t.key.substring(8);n.get(t.key).forEach((function(n){var o=r+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(t){i[t]=i[t]||a}))}))}));var o=Object.keys(i).filter((function(t){return!i[t]})).map((function(e){return fd(p(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),d({ok:!0}))}(t)},hl()((function(t){var e=t.pop(),n=b.apply(this,t);return"function"==typeof e&&hd(n,e),n})))}}(),Pd={query:function(t,e,n){return kd.query.call(this,t,e,n)},viewCleanup:function(t){return kd.viewCleanup.call(this,t)}};function Nd(t){return/^1-/.test(t)}function Rd(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map((function(n){return t.getAttachment(e._id,n,{rev:e._rev})})))}function jd(t,e,n,r,i){return t.get(e).catch((function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||jl(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(t){return t.session_id!==r})),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=r,o.last_seq=n,t.put(o).catch((function(o){if(409===o.status)return jd(t,e,n,r,i);throw o}))}))}function Md(t,e,n,r,i){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=i||{}}Md.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then((function(){return n.updateSource(t,e)}))},Md.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?jd(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},Md.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return jd(this.src,this.id,t,e,this.returnValue).catch((function(t){if(Ud(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t}))}return Promise.resolve(!0)};var Bd={undefined:function(t,e){return 0===hf(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return(n=e,r=t,n.session_id===r.session_id?{last_seq:n.last_seq,history:n.history}:function t(e,n){var r=e[0],i=e.slice(1),o=n[0],s=n.slice(1);return r&&0!==n.length?Ld(r.session_id,n)?{last_seq:r.last_seq,history:e}:Ld(o.session_id,i)?{last_seq:o.last_seq,history:s}:t(i,s):{last_seq:0,history:[]}}(n.history,r.history)).last_seq;var n,r}};function Ld(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||Ld(t,r))}function Ud(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function Fd(t,e,n,r,i){var o,s,a=[],c={seq:0,changes:[],docs:[]},u=!1,l=!1,h=!1,f=0,d=n.continuous||n.live||!1,p=n.batch_size||100,g=n.batches_limit||10,m=!1,b=n.doc_ids,y=n.selector,_=[],v=xh();i=i||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var w={};function O(){return s?Promise.resolve():function(t,e,n){var r=n.doc_ids?n.doc_ids.sort(hf):"",i=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(t){return Object.keys(t).sort(hf).reduce((function(e,n){return e[n]=t[n],e}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([t.id(),e.id()]).then((function(t){var e=t[0]+t[1]+i+s+o+r+a;return new Promise((function(t){Ah(e,t)}))})).then((function(t){return"_local/"+t.replace(/\//g,".").replace(/\+/g,"_")}))}(t,e,n).then((function(i){s=new Md(t,e,i,r,!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0})}))}function E(){if(_=[],0!==o.docs.length){var t=o.docs;return e.bulkDocs({docs:t,new_edits:!1},{timeout:n.timeout}).then((function(e){if(r.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);e.forEach((function(t){t.error&&(n[t.id]=t)}));var o=Object.keys(n).length;i.doc_write_failures+=o,i.docs_written+=t.length-o,t.forEach((function(t){var e=n[t._id];if(e){i.errors.push(e);var o=(e.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw e;r.emit("denied",El(e))}else _.push(t)}))}),(function(e){throw i.doc_write_failures+=t.length,e}))}}function S(){if(o.error)throw new Error("There was a problem getting docs.");i.last_seq=f=o.seq;var t=El(i);return _.length&&(t.docs=_,"number"==typeof o.pending&&(t.pending=o.pending,delete o.pending),r.emit("change",t)),u=!0,s.writeCheckpoint(o.seq,v).then((function(){if(u=!1,r.cancelled)throw I(),new Error("cancelled");o=void 0,N()})).catch((function(t){throw j(t),t}))}function A(){return function(t,e,n,r){n=El(n);var i=[],o=!0;return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(t){var e=n[t].missing;return 1===e.length&&Nd(e[0])}));if(e.length>0)return function(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then((function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach((function(t){var e;t.deleted||!t.doc||!Nd(t.value.rev)||(e=t.doc)._attachments&&Object.keys(e._attachments).length>0||function(t){return t._conflicts&&t._conflicts.length>0}(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,i.push(t.doc),delete n[t.id])}))}))}(e)})).then((function(){var s=function(t){var e=[];return Object.keys(t).forEach((function(n){t[n].missing.forEach((function(t){e.push({id:n,rev:t})}))})),{docs:e,revs:!0,latest:!0}}(n);if(s.docs.length)return t.bulkGet(s).then((function(n){if(r.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var r=n.ok;return n.error&&(o=!1),r&&r._attachments?function(t,e,n){var r=ih(e)&&!ih(t),i=Object.keys(n._attachments);return r?t.get(n._id).then((function(r){return Promise.all(i.map((function(i){return function(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}(r,n,i)?e.getAttachment(n._id,i):t.getAttachment(r._id,i)})))})).catch((function(t){if(404!==t.status)throw t;return Rd(e,n)})):Rd(e,n)}(e,t,r).then((function(t){var e=Object.keys(r._attachments);return t.forEach((function(t,n){var i=r._attachments[e[n]];delete i.stub,delete i.length,i.data=t})),r})):r})))}))).then((function(t){i=i.concat(nh(t).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:i}}))}(t,e,o.diffs,r).then((function(t){o.error=!t.ok,t.docs.forEach((function(t){delete o.diffs[t._id],i.docs_read++,o.docs.push(t)}))}))}function C(){var t;r.cancelled||o||(0!==a.length?(o=a.shift(),(t={},o.changes.forEach((function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map((function(t){return t.rev})))})),e.revsDiff(t).then((function(t){if(r.cancelled)throw I(),new Error("cancelled");o.diffs=t}))).then(A).then(E).then(S).then(C).catch((function(t){x("batch processing terminated with error",t)}))):T(!0))}function T(t){0!==c.changes.length?(t||l||c.changes.length>=p)&&(a.push(c),c={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),C()):0!==a.length||o||((d&&w.live||l)&&(r.state="pending",r.emit("paused")),l&&I())}function x(t,e){h||(e.message||(e.message=t),i.ok=!1,i.status="aborting",a=[],c={seq:0,changes:[],docs:[]},I(e))}function I(o){if(!(h||r.cancelled&&(i.status="cancelled",u)))if(i.status=i.status||"complete",i.end_time=(new Date).toISOString(),i.last_seq=f,h=!0,o){(o=Ql(o)).result=i;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(r.emit("error",o),r.removeAllListeners()):function(t,e,n,r){if(!1===t.retry)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=Rl),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var i=function(){t.current_back_off=0};e.once("paused",(function(){e.removeListener("active",i)})),e.once("active",i)}t.current_back_off=t.current_back_off||0,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}(n,r,o,(function(){Fd(t,e,n,r)}))}else r.emit("complete",i),r.removeAllListeners()}function D(t,e,i){if(r.cancelled)return I();"number"==typeof e&&(c.pending=e),eh(n)(t)&&(c.seq=t.seq||i,c.changes.push(t),Ju()((function(){T(0===a.length&&w.live)})))}function k(t){if(m=!1,r.cancelled)return I();if(t.results.length>0)w.since=t.results[t.results.length-1].seq,N(),T(!0);else{var e=function(){d?(w.live=!0,N()):l=!0,T(!0)};o||0!==t.results.length?e():(u=!0,s.writeCheckpoint(t.last_seq,v).then((function(){u=!1,i.last_seq=f=t.last_seq,e()})).catch(j))}}function P(t){if(m=!1,r.cancelled)return I();x("changes rejected",t)}function N(){if(!m&&!l&&a.length<g){m=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",i);var e=t.changes(w).on("change",D);e.then(o,o),e.then(k).catch(P),n.retry&&(r._changes=e,r._abortChanges=i)}function i(){e.cancel()}function o(){r.removeListener("cancel",i)}}function R(){O().then((function(){if(!r.cancelled)return s.getCheckpoint().then((function(t){w={since:f=t,limit:p,batch_size:p,style:"all_docs",doc_ids:b,selector:y,return_docs:!0},n.filter&&("string"!=typeof n.filter?w.include_docs=!0:w.filter=n.filter),"heartbeat"in n&&(w.heartbeat=n.heartbeat),"timeout"in n&&(w.timeout=n.timeout),n.query_params&&(w.query_params=n.query_params),n.view&&(w.view=n.view),N()}));I()})).catch((function(t){x("getCheckpoint rejected with ",t)}))}function j(t){u=!1,x("writeCheckpoint completed with error",t)}r.ready(t,e),r.cancelled?I():(r._addedListeners||(r.once("cancel",I),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",(function(t){n.complete(null,t)}))),r._addedListeners=!0),void 0===n.since?R():O().then((function(){return u=!0,s.writeCheckpoint(n.since,v)})).then((function(){u=!1,r.cancelled?I():(f=n.since,R())})).catch(j))}function $d(){gl.a.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise((function(e,n){t.once("complete",e),t.once("error",n)}));t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch((function(){}))}function Vd(t,e){return"string"==typeof t?new(0,e.PouchConstructor)(t,e):t}function qd(t,e,n,r){if("function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Ql(Gl,"`doc_ids` filter parameter is not a list.");n.complete=r,(n=El(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new $d(n);return Fd(Vd(t,n),Vd(e,n),n,i),i}function zd(t,e,n,r){return"function"==typeof n&&(r=n,n={}),void 0===n&&(n={}),(n=El(n)).PouchConstructor=n.PouchConstructor||this,new Wd(t=Vd(t,n),e=Vd(e,n),n,r)}function Wd(t,e,n,r){var i=this;this.canceled=!1;var o=n.push?Ml({},n,n.push):n,s=n.pull?Ml({},n,n.pull):n;function a(t){i.emit("change",{direction:"pull",change:t})}function c(t){i.emit("change",{direction:"push",change:t})}function u(t){i.emit("denied",{direction:"push",doc:t})}function l(t){i.emit("denied",{direction:"pull",doc:t})}function h(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function f(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function d(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function p(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}this.push=qd(t,e,o),this.pull=qd(e,t,s),this.pushPaused=!0,this.pullPaused=!0;var g={};function m(t){return function(e,n){("change"===e&&(n===a||n===c)||"denied"===e&&(n===l||n===u)||"paused"===e&&(n===f||n===h)||"active"===e&&(n===p||n===d))&&(e in g||(g[e]={}),g[e][t]=!0,2===Object.keys(g[e]).length&&i.removeAllListeners(e))}}function b(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push))),this.on("newListener",(function(t){"change"===t?(b(i.pull,"change",a),b(i.push,"change",c)):"denied"===t?(b(i.pull,"denied",l),b(i.push,"denied",u)):"active"===t?(b(i.pull,"active",p),b(i.push,"active",d)):"paused"===t&&(b(i.pull,"paused",f),b(i.push,"paused",h))})),this.on("removeListener",(function(t){"change"===t?(i.pull.removeListener("change",a),i.push.removeListener("change",c)):"denied"===t?(i.pull.removeListener("denied",l),i.push.removeListener("denied",u)):"active"===t?(i.pull.removeListener("active",p),i.push.removeListener("active",d)):"paused"===t&&(i.pull.removeListener("paused",f),i.push.removeListener("paused",h))})),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var y=Promise.all([this.push,this.pull]).then((function(t){var e={push:t[0],pull:t[1]};return i.emit("complete",e),r&&r(null,e),i.removeAllListeners(),e}),(function(t){if(i.cancel(),r?r(t):i.emit("error",t),i.removeAllListeners(),r)throw t}));this.then=function(t,e){return y.then(t,e)},this.catch=function(t){return y.catch(t)}}Md.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then((function(t){return t.last_seq||0})).catch((function(t){if(404!==t.status)throw t;return 0})):t.target.get(t.id).then((function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||0:t.src.get(t.id).then((function(t){return e.version!==t.version?0:(n=e.version?e.version.toString():"undefined")in Bd?Bd[n](e,t):0;var n}),(function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:0}).then((function(){return 0}),(function(n){return Ud(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):0}));throw n}))})).catch((function(t){if(404!==t.status)throw t;return 0}))},dl()($d,gl.a),$d.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},$d.prototype.ready=function(t,e){var n=this;function r(){n.cancel()}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",r),e.once("destroyed",r),n.once("complete",(function(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)})))},dl()(Wd,gl.a),Wd.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Zh.plugin((function(t){t.adapter("idb",Qf,!0)})).plugin((function(t){t.adapter("http",ad,!1),t.adapter("https",ad,!1)})).plugin(Pd).plugin((function(t){t.replicate=qd,t.sync=zd,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}));var Hd=Zh;let Kd=(()=>{class t{constructor(){this.writersFromDB=new Pn.a,this.citiesFromDB=new Pn.a,this.communitiesFromDB=new Pn.a,this.localWritersDB=new Hd("writersLocal"),this.remoteWritersDB=new Hd("https://5336dee1-735e-4cb0-becb-2dfede9ba613-bluemix:97408168f46cce566ad7d5fe9b3fc087d1fa6918003df3fd151afb760e3a97a1@5336dee1-735e-4cb0-becb-2dfede9ba613-bluemix.cloudantnosqldb.appdomain.cloud/writers_remote"),this.localCommunitiesDB=new Hd("communitiesLocal"),this.remoteCommunitiesDB=new Hd("https://5336dee1-735e-4cb0-becb-2dfede9ba613-bluemix:97408168f46cce566ad7d5fe9b3fc087d1fa6918003df3fd151afb760e3a97a1@5336dee1-735e-4cb0-becb-2dfede9ba613-bluemix.cloudantnosqldb.appdomain.cloud/communities_remote"),this.localCitiesDB=new Hd("citiesLocal"),this.remoteSitiesDB=new Hd("https://5336dee1-735e-4cb0-becb-2dfede9ba613-bluemix:97408168f46cce566ad7d5fe9b3fc087d1fa6918003df3fd151afb760e3a97a1@5336dee1-735e-4cb0-becb-2dfede9ba613-bluemix.cloudantnosqldb.appdomain.cloud/cities_remote");const t={live:!0,retry:!0,continuous:!0};this.localWritersDB.sync(this.remoteWritersDB,t),this.localCommunitiesDB.sync(this.remoteCommunitiesDB,t),this.localCitiesDB.sync(this.remoteSitiesDB,t)}login(){this.client=_u.initializeDefaultAppClient("ashuris-naqyn"),this.db=this.client.getServiceClient(Mu.factory,"mongodb-atlas").db("ashuris"),this.writersCollection=this.db.collection("writers"),this.citiesCollection=this.db.collection("cities"),this.communitiesCollection=this.db.collection("communities"),this.client.auth.loginWithCredential(new Ea).then(t=>console.log("Stitch logged in!"))}createWriter(t){return this.citiesCollection.updateOne({city:t.city},{$set:{city:t.city}},{upsert:!0}).then(t=>{this.getCities(),this.getCommunities()}).catch(t=>{console.log(t)}),this.localCitiesDB.put({city:t.city,_id:(new Date).getMilliseconds().toString()}),this.localCitiesDB.allDocs({include_docs:!0}).then(t=>{console.log(t.rows)}),this.communitiesCollection.updateOne({},{$addToSet:{communities:t.communityDeatails.community}},{upsert:!0}).then(t=>{console.log(t)}).catch(t=>{console.log(t)}),this.writersCollection.insertOne(t).then(t=>{console.log(t.insertedId)}).catch(t=>{console.log(t)})}getWriters(){return this.db.collection("writers").find({},{sort:{firstName:-1}}).toArray()}getWriter(t){return this.db.collection("writers").findOne({_id:new Zo.b.ObjectId(t)})}getCities(){this.db.collection("cities").find({}).toArray().then(t=>this.citiesFromDB.next(t)).catch(console.error)}getCommunities(){this.communitiesCollection.findOne({}).then(t=>this.communitiesFromDB.next(t.communities)).catch(console.error)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Gd=(()=>{class t{constructor(){this.geocoder=new google.maps.Geocoder}getCurrentCoordinates(){return new Promise((t,e)=>{"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(e=>{const n=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);t(n)},t=>{e(t)},{enableHighAccuracy:!0})})}addMarker(t,e){return new google.maps.Marker({position:t,map:e})}reverseGeocoder(t){return new Promise(e=>{this.geocoder.geocode({location:t},(t,n)=>{"OK"===n?t[0]?e(t[0]):window.alert("No results found"):window.alert("Geocoder failed due to: "+n)})})}setMapWithPosition(t,e,n=16){const r=new google.maps.Map(t,{center:e,zoom:n});return this.addMarker(e,r),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),Xd=(()=>{class t{constructor(){this.audioChunks=[]}startRecording(){return t=this,void 0,n=function*(){yield navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{this.mediaRecorder=new MediaRecorder(t),this.mediaRecorder.addEventListener("dataavailable",t=>{this.audioChunks.push(t.data)}),this.mediaRecorder.start()})},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{a(n.next(t))}catch(g_){i(g_)}}function s(t){try{a(n.throw(t))}catch(g_){i(g_)}}function a(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,s)}a((n=n.apply(t,[])).next())}));var t,e,n}stopRecording(){return new Promise(t=>{this.mediaRecorder.addEventListener("stop",()=>{t(new Blob(this.audioChunks)),this.audioChunks=[]}),this.mediaRecorder.stop()})}convertRecordingToBase64(t){return new Promise(e=>{const n=new FileReader;n.readAsDataURL(t),n.onloadend=()=>{e(n.result)}})}convertBase64ToBypassSecurityTrustAudioUrl(t){return new Promise(e=>{const n=URL.createObjectURL(t);e(new Audio(n))})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Yd=n("D0XW");const Jd=new Wt.a(Qn);function Zd(t,e,n,r){return Object(tr.a)(n)&&(r=n,n=void 0),r?Zd(t,e,n).pipe(Object(Kt.a)(t=>Object(Ht.a)(t)?r(...t):r(t))):new Wt.a(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)})}var Qd=n("VRyK");class tp{call(t,e){return e.subscribe(new ep(t))}}class ep extends Sn.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){let e=t[n],r=Object(An.a)(this,e,e,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("/uUt");var np=n("1G5W"),rp=n("zp1y"),ip=n("mlxB"),op=n("WMd4");function sp(t,e=Yd.a){const n=Object(ip.a)(t)?+t-e.now():Math.abs(t);return t=>t.lift(new ap(n,e))}class ap{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new cp(t,this.delay,this.scheduler))}}class cp extends Mn.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(cp.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new up(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(op.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(op.a.createComplete()),this.unsubscribe()}}class up{constructor(t,e){this.time=t,this.notification=e}}n("w1tV"),$localize`:@@ngb.alert.close␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`;const lp=["*"];$localize`:@@ngb.carousel.previous␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,$localize`:@@ngb.carousel.next␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`;const hp=["defaultDayTemplate"],fp=["content"];function dp(t,e){if(1&t&&r.Lb(0,"div",7),2&t){const t=e.currentMonth,n=e.selected,i=e.disabled,o=e.focused;r.hc("date",e.date)("currentMonth",t)("selected",n)("disabled",i)("focused",o)}}function pp(t,e){if(1&t&&(r.Pb(0,"div",12),r.yc(1),r.Ob()),2&t){const t=r.cc().$implicit,e=r.cc(2);r.xb(1),r.Bc(" ",e.i18n.getMonthFullName(t.number,t.year)," ",e.i18n.getYearNumerals(t.year)," ")}}function gp(t,e){if(1&t&&(r.Pb(0,"div",9),r.wc(1,pp,2,2,"div",10),r.Lb(2,"ngb-datepicker-month",11),r.Ob()),2&t){const t=e.$implicit,n=r.cc(2);r.xb(1),r.hc("ngIf","none"===n.navigation||n.displayMonths>1&&"select"===n.navigation),r.xb(1),r.hc("month",t.firstDate)}}function mp(t,e){if(1&t&&r.wc(0,gp,3,2,"div",8),2&t){const t=r.cc();r.hc("ngForOf",t.model.months)}}function bp(t,e){if(1&t){const t=r.Qb();r.Pb(0,"ngb-datepicker-navigation",13),r.ac("navigate",(function(e){return r.qc(t),r.cc().onNavigateEvent(e)}))("select",(function(e){return r.qc(t),r.cc().onNavigateDateSelect(e)})),r.Ob()}if(2&t){const t=r.cc();r.hc("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function yp(t,e){}function _p(t,e){}function vp(t,e){1&t&&r.Lb(0,"div",5)}function wp(t,e){if(1&t&&(r.Pb(0,"div",6),r.yc(1),r.Ob()),2&t){const t=e.$implicit,n=r.cc(2);r.xb(1),r.Ac(" ",n.i18n.getWeekdayShortName(t)," ")}}function Op(t,e){if(1&t&&(r.Pb(0,"div",2),r.wc(1,vp,1,0,"div",3),r.wc(2,wp,2,1,"div",4),r.Ob()),2&t){const t=r.cc();r.xb(1),r.hc("ngIf",t.datepicker.showWeekNumbers),r.xb(1),r.hc("ngForOf",t.viewModel.weekdays)}}function Ep(t,e){if(1&t&&(r.Pb(0,"div",11),r.yc(1),r.Ob()),2&t){const t=r.cc(2).$implicit,e=r.cc();r.xb(1),r.zc(e.i18n.getWeekNumerals(t.number))}}function Sp(t,e){}function Ap(t,e){if(1&t&&r.wc(0,Sp,0,0,"ng-template",14),2&t){const t=r.cc().$implicit,e=r.cc(3);r.hc("ngTemplateOutlet",e.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function Cp(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",12),r.ac("click",(function(n){r.qc(t);const i=e.$implicit;return r.cc(3).doSelect(i),n.preventDefault()})),r.wc(1,Ap,1,2,"ng-template",13),r.Ob()}if(2&t){const t=e.$implicit;r.Cb("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),r.hc("tabindex",t.tabindex),r.yb("aria-label",t.ariaLabel),r.xb(1),r.hc("ngIf",!t.hidden)}}function Tp(t,e){if(1&t&&(r.Pb(0,"div",8),r.wc(1,Ep,2,1,"div",9),r.wc(2,Cp,2,9,"div",10),r.Ob()),2&t){const t=r.cc().$implicit,e=r.cc();r.xb(1),r.hc("ngIf",e.datepicker.showWeekNumbers),r.xb(1),r.hc("ngForOf",t.days)}}function xp(t,e){1&t&&r.wc(0,Tp,3,2,"div",7),2&t&&r.hc("ngIf",!e.$implicit.collapsed)}const Ip=["aria-label",$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`,"title",$localize`:@@ngb.datepicker.previous-month␟c3b08b07b5ab98e7cdcf18df39355690ab7d3884␟8586908745456864217:Previous month`],Dp=["aria-label",$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`,"title",$localize`:@@ngb.datepicker.next-month␟4bd046985cfe13040d5ef0cd881edce0968a111a␟3628374603023447227:Next month`];function kp(t,e){if(1&t){const t=r.Qb();r.Pb(0,"ngb-datepicker-navigation-select",6),r.ac("select",(function(e){return r.qc(t),r.cc().select.emit(e)})),r.Ob()}if(2&t){const t=r.cc();r.hc("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function Pp(t,e){1&t&&r.Lb(0,"div",0)}function Np(t,e){1&t&&r.Lb(0,"div",0)}function Rp(t,e){if(1&t&&(r.wc(0,Pp,1,0,"div",8),r.Pb(1,"div",9),r.yc(2),r.Ob(),r.wc(3,Np,1,0,"div",8)),2&t){const t=e.$implicit,n=e.index,i=r.cc(2);r.hc("ngIf",n>0),r.xb(2),r.Bc(" ",i.i18n.getMonthFullName(t.number,t.year)," ",i.i18n.getYearNumerals(t.year)," "),r.xb(1),r.hc("ngIf",n!==i.months.length-1)}}function jp(t,e){if(1&t&&r.wc(0,Rp,4,4,"ng-template",7),2&t){const t=r.cc();r.hc("ngForOf",t.months)}}const Mp=["ngbDatepickerDayView",""],Bp=["month"],Lp=["year"],Up=["aria-label",$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`,"title",$localize`:@@ngb.datepicker.select-month␟1dbc84807f35518112f62e5775d1daebd3d8462b␟2253869508135064750:Select month`],Fp=["aria-label",$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`,"title",$localize`:@@ngb.datepicker.select-year␟8ceb09d002bf0c5d1cac171dfbffe1805d2b3962␟8852264961585484321:Select year`];function $p(t,e){if(1&t&&(r.Pb(0,"option",4),r.yc(1),r.Ob()),2&t){const t=e.$implicit,n=r.cc();r.hc("value",t),r.yb("aria-label",n.i18n.getMonthFullName(t,null==n.date?null:n.date.year)),r.xb(1),r.zc(n.i18n.getMonthShortName(t,null==n.date?null:n.date.year))}}function Vp(t,e){if(1&t&&(r.Pb(0,"option",4),r.yc(1),r.Ob()),2&t){const t=e.$implicit,n=r.cc();r.hc("value",t),r.xb(1),r.zc(n.i18n.getYearNumerals(t))}}const qp=["dialog"];function zp(t){return parseInt(`${t}`,10)}function Wp(t){return"string"==typeof t}function Hp(t){return!isNaN(zp(t))}function Kp(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}function Gp(t){return null!=t}function Xp(t){return Hp(t)?`0${t}`.slice(-2):""}function Yp(t,e){return t&&t.className&&t.className.split&&t.className.split(/\s+/).indexOf(e)>=0}$localize`:@@ngb.pagination.first␟656506dfd46380956a655f919f1498d018f75ca0␟6867721956102594380:««`,$localize`:@@ngb.pagination.previous␟6e52b6ee77a4848d899dd21b591c6fd499e3aef3␟6479320895410098858:«`,$localize`:@@ngb.pagination.next␟ba9cbb4ff311464308a3627e4f1c3345d9fe6d7d␟5458177150283468089:»`,$localize`:@@ngb.pagination.last␟49f27a460bc97e7e00be5b37098bfa79884fc7d9␟5277020320267646988:»»`,$localize`:@@ngb.pagination.first-aria␟f2f852318759c6396b5d3d17031d53817d7b38cc␟2241508602425256033:First`,$localize`:@@ngb.pagination.previous-aria␟680d5c75b7fd8d37961083608b9fcdc4167b4c43␟4452427314943113135:Previous`,$localize`:@@ngb.pagination.next-aria␟f732c304c7433e5a83ffcd862c3dce709a0f4982␟3885497195825665706:Next`,$localize`:@@ngb.pagination.last-aria␟5c729788ba138508aca1bec050b610f7bf81db3e␟4882268002141858767:Last`,$localize`:@@ngb.progressbar.value␟04d611d19c117c60c9e14d0a04399a027184bc77␟5214781723415385277:${"\ufffd0\ufffd"}:INTERPOLATION:%`,$localize`:@@ngb.timepicker.HH␟ce676ab1d6d98f85c836381cf100a4a91ef95a1f␟4043638465245303811:HH`,$localize`:@@ngb.timepicker.hours␟3bbce5fef7e1151da052a4e529453edb340e3912␟8070396816726827304:Hours`,$localize`:@@ngb.timepicker.MM␟72c8edf6a50068a05bde70991e36b1e881f4ca54␟1647282246509919852:MM`,$localize`:@@ngb.timepicker.minutes␟41e62daa962947c0d23ded0981975d1bddf0bf38␟5531237363767747080:Minutes`,$localize`:@@ngb.timepicker.increment-hours␟cb74bc1d625a6c1742f0d7d47306cf495780c218␟5939278348542933629:Increment hours`,$localize`:@@ngb.timepicker.decrement-hours␟147c7a19429da7d999e247d22e33fee370b1691b␟3651829882940481818:Decrement hours`,$localize`:@@ngb.timepicker.increment-minutes␟f5a4a3bc05e053f6732475d0e74875ec01c3a348␟180147720391025024:Increment minutes`,$localize`:@@ngb.timepicker.decrement-minutes␟c1a6899e529c096da5b660385d4e77fe1f7ad271␟7447789825403243588:Decrement minutes`,$localize`:@@ngb.timepicker.SS␟ebe38d36a40a2383c5fefa9b4608ffbda08bd4a3␟3628127143071124194:SS`,$localize`:@@ngb.timepicker.seconds␟4f2ed9e71a7c981db3e50ae2fedb28aff2ec4e6c␟8874012390997067175:Seconds`,$localize`:@@ngb.timepicker.increment-seconds␟912322ecee7d659d04dcf494a70e22e49d334b26␟5364772110539092174:Increment seconds`,$localize`:@@ngb.timepicker.decrement-seconds␟5db47ac104294243a70eb9124fbea9d0004ddf69␟753633511487974857:Decrement seconds`,$localize`:@@ngb.timepicker.PM␟8d6e691e10306c1b34c6b26805151aaea320ef7f␟3564199131264287502:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.timepicker.AM␟69a1f176a93998876952adac57c3bc3863b6105e␟4592818992509942761:${"\ufffd0\ufffd"}:INTERPOLATION:`,$localize`:@@ngb.toast.close-aria␟f4e529ae5ffd73001d1ff4bbdeeb0a72e342e5c8␟7819314041543176992:Close`,"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});let Jp=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Zp=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Qp=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),tg=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),eg=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();class ng{constructor(t,e,n){this.year=Kp(t)?t:null,this.month=Kp(e)?e:null,this.day=Kp(n)?n:null}static from(t){return t instanceof ng?t:t?new ng(t.year,t.month,t.day):null}equals(t){return null!=t&&this.year===t.year&&this.month===t.month&&this.day===t.day}before(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day<t.day:this.month<t.month:this.year<t.year)}after(t){return!!t&&(this.year===t.year?this.month===t.month?this.day!==t.day&&this.day>t.day:this.month>t.month:this.year>t.year)}}function rg(t){return new ng(t.getFullYear(),t.getMonth()+1,t.getDate())}function ig(t){const e=new Date(t.year,t.month-1,t.day,12);return isNaN(e.getTime())||e.setFullYear(t.year),e}function og(){return new ag}let sg=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:og,token:t,providedIn:"root"}),t})(),ag=(()=>{let t=class extends sg{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,e="d",n=1){let r=ig(t),i=!0,o=r.getMonth();switch(e){case"y":r.setFullYear(r.getFullYear()+n);break;case"m":o+=n,r.setMonth(o),o%=12,o<0&&(o+=12);break;case"d":r.setDate(r.getDate()+n),i=!1;break;default:return t}return i&&r.getMonth()!==o&&r.setDate(0),rg(r)}getPrev(t,e="d",n=1){return this.getNext(t,e,-n)}getWeekday(t){let e=ig(t).getDay();return 0===e?7:e}getWeekNumber(t,e){7===e&&(e=0);const n=ig(t[(11-e)%7]);n.setDate(n.getDate()+4-(n.getDay()||7));const r=n.getTime();return n.setMonth(0),n.setDate(1),Math.floor(Math.round((r-n.getTime())/864e5)/7)+1}getToday(){return rg(new Date)}isValid(t){if(!(t&&Kp(t.year)&&Kp(t.month)&&Kp(t.day)))return!1;if(0===t.year)return!1;const e=ig(t);return!isNaN(e.getTime())&&e.getFullYear()===t.year&&e.getMonth()+1===t.month&&e.getDate()===t.day}};return t.\u0275fac=function(e){return Nm(e||t)},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();function cg(t,e){return!function(t,e){return!t&&!e||!!t&&!!e&&t.equals(e)}(t,e)}function ug(t,e){return!(!t&&!e||t&&e&&t.year===e.year&&t.month===e.month)}function lg(t,e,n){return t&&e&&t.before(e)?e:t&&n&&t.after(n)?n:t||null}function hg(t,e){const{minDate:n,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==t||i||o&&o(t,{year:t.year,month:t.month})||n&&t.before(n)||r&&t.after(r))}let fg=(()=>{let t=class{getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return t=Object(r.Xb)(r.u),new dg(t);var t},token:t,providedIn:"root"}),t})(),dg=(()=>{let t=class extends fg{constructor(t){super(),this._locale=t;const e=I(t,A.Standalone,C.Short);this._weekdaysShort=e.map((t,n)=>e[(n+1)%7]),this._monthsShort=D(t,A.Standalone,C.Abbreviated),this._monthsFull=D(t,A.Standalone,C.Wide)}getWeekdayShortName(t){return this._weekdaysShort[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return function(t,e,n,i){let o=function(t){if(Z(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){const[e,n,r]=t.split("-").map(t=>+t);return new Date(e,n-1,r)}let n;if(n=t.match(U))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,s,a,c,u),e}(n)}const e=new Date(t);if(!Z(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=function t(e,n){const i=function(t){return Object(r.hb)(t)[r.Y.LocaleId]}(e);if(F[i]=F[i]||{},F[i][n])return F[i][n];let o="";switch(n){case"shortDate":o=k(e,T.Short);break;case"mediumDate":o=k(e,T.Medium);break;case"longDate":o=k(e,T.Long);break;case"fullDate":o=k(e,T.Full);break;case"shortTime":o=P(e,T.Short);break;case"mediumTime":o=P(e,T.Medium);break;case"longTime":o=P(e,T.Long);break;case"fullTime":o=P(e,T.Full);break;case"short":const n=t(e,"shortTime"),r=t(e,"shortDate");o=W(N(e,T.Short),[n,r]);break;case"medium":const i=t(e,"mediumTime"),s=t(e,"mediumDate");o=W(N(e,T.Medium),[i,s]);break;case"long":const a=t(e,"longTime"),c=t(e,"longDate");o=W(N(e,T.Long),[a,c]);break;case"full":const u=t(e,"fullTime"),l=t(e,"fullDate");o=W(N(e,T.Full),[u,l])}return o&&(F[i][n]=o),o}(n,e)||e;let s,a=[];for(;e;){if(s=$.exec(e),!s){a.push(e);break}{a=a.concat(s.slice(1));const t=a.pop();if(!t)break;e=t}}let c=o.getTimezoneOffset(),u="";return a.forEach(t=>{const e=function(t){if(J[t])return J[t];let e;switch(t){case"G":case"GG":case"GGG":e=G(z.Eras,C.Abbreviated);break;case"GGGG":e=G(z.Eras,C.Wide);break;case"GGGGG":e=G(z.Eras,C.Narrow);break;case"y":e=K(q.FullYear,1,0,!1,!0);break;case"yy":e=K(q.FullYear,2,0,!0,!0);break;case"yyy":e=K(q.FullYear,3,0,!1,!0);break;case"yyyy":e=K(q.FullYear,4,0,!1,!0);break;case"M":case"L":e=K(q.Month,1,1);break;case"MM":case"LL":e=K(q.Month,2,1);break;case"MMM":e=G(z.Months,C.Abbreviated);break;case"MMMM":e=G(z.Months,C.Wide);break;case"MMMMM":e=G(z.Months,C.Narrow);break;case"LLL":e=G(z.Months,C.Abbreviated,A.Standalone);break;case"LLLL":e=G(z.Months,C.Wide,A.Standalone);break;case"LLLLL":e=G(z.Months,C.Narrow,A.Standalone);break;case"w":e=Y(1);break;case"ww":e=Y(2);break;case"W":e=Y(1,!0);break;case"d":e=K(q.Date,1);break;case"dd":e=K(q.Date,2);break;case"E":case"EE":case"EEE":e=G(z.Days,C.Abbreviated);break;case"EEEE":e=G(z.Days,C.Wide);break;case"EEEEE":e=G(z.Days,C.Narrow);break;case"EEEEEE":e=G(z.Days,C.Short);break;case"a":case"aa":case"aaa":e=G(z.DayPeriods,C.Abbreviated);break;case"aaaa":e=G(z.DayPeriods,C.Wide);break;case"aaaaa":e=G(z.DayPeriods,C.Narrow);break;case"b":case"bb":case"bbb":e=G(z.DayPeriods,C.Abbreviated,A.Standalone,!0);break;case"bbbb":e=G(z.DayPeriods,C.Wide,A.Standalone,!0);break;case"bbbbb":e=G(z.DayPeriods,C.Narrow,A.Standalone,!0);break;case"B":case"BB":case"BBB":e=G(z.DayPeriods,C.Abbreviated,A.Format,!0);break;case"BBBB":e=G(z.DayPeriods,C.Wide,A.Format,!0);break;case"BBBBB":e=G(z.DayPeriods,C.Narrow,A.Format,!0);break;case"h":e=K(q.Hours,1,-12);break;case"hh":e=K(q.Hours,2,-12);break;case"H":e=K(q.Hours,1);break;case"HH":e=K(q.Hours,2);break;case"m":e=K(q.Minutes,1);break;case"mm":e=K(q.Minutes,2);break;case"s":e=K(q.Seconds,1);break;case"ss":e=K(q.Seconds,2);break;case"S":e=K(q.FractionalSeconds,1);break;case"SS":e=K(q.FractionalSeconds,2);break;case"SSS":e=K(q.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(V.Short);break;case"ZZZZZ":e=X(V.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(V.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(V.Long);break;default:return null}return J[t]=e,e}(t);u+=e?e(o,n,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}};return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.u))},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),pg=(()=>{let t=class{constructor(t,e){this._calendar=t,this._i18n=e,this._VALIDATORS={dayTemplateData:t=>{if(this._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:t=>{if(Kp(t=zp(t))&&t>0&&this._state.displayMonths!==t)return{displayMonths:t}},disabled:t=>{if(this._state.disabled!==t)return{disabled:t}},firstDayOfWeek:t=>{if(Kp(t=zp(t))&&t>=0&&this._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:t=>{if(this._state.focusVisible!==t&&!this._state.disabled)return{focusVisible:t}},markDisabled:t=>{if(this._state.markDisabled!==t)return{markDisabled:t}},maxDate:t=>{const e=this.toValidDate(t,null);if(cg(this._state.maxDate,e))return{maxDate:e}},minDate:t=>{const e=this.toValidDate(t,null);if(cg(this._state.minDate,e))return{minDate:e}},navigation:t=>{if(this._state.navigation!==t)return{navigation:t}},outsideDays:t=>{if(this._state.outsideDays!==t)return{outsideDays:t}}},this._model$=new Pn.a,this._dateSelect$=new Pn.a,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]}}}get model$(){return this._model$.pipe(Object(jn.a)(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Object(jn.a)(t=>null!==t))}set(t){let e=Object.keys(t).map(e=>this._VALIDATORS[e](t[e])).reduce((t,e)=>Object.assign(Object.assign({},t),e),{});Object.keys(e).length>0&&this._nextState(e)}focus(t){const e=this.toValidDate(t,null);null!=e&&!this._state.disabled&&cg(this._state.focusDate,e)&&this._nextState({focusDate:t})}focusSelect(){hg(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const e=this.toValidDate(t,this._calendar.getToday());null==e||this._state.disabled||this._state.firstDate&&!ug(this._state.firstDate,e)||this._nextState({firstDate:e})}select(t,e={}){const n=this.toValidDate(t,null);null==n||this._state.disabled||(cg(this._state.selectedDate,n)&&this._nextState({selectedDate:n}),e.emitEvent&&hg(n,this._state)&&this._dateSelect$.next(n))}toValidDate(t,e){const n=ng.from(t);return void 0===e&&(e=this._calendar.getToday()),this._calendar.isValid(n)?n:e}getMonth(t){for(let e of this._state.months)if(t.month===e.number&&t.year===e.year)return e;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const e=this._updateState(t);this._patchContexts(e),this._state=e,this._model$.next(this._state)}_patchContexts(t){const{months:e,displayMonths:n,selectedDate:r,focusDate:i,focusVisible:o,disabled:s,outsideDays:a}=t;t.months.forEach(t=>{t.weeks.forEach(c=>{c.days.forEach(c=>{i&&(c.context.focused=i.equals(c.date)&&o),c.tabindex=!s&&i&&c.date.equals(i)&&i.month===t.number?0:-1,!0===s&&(c.context.disabled=!0),void 0!==r&&(c.context.selected=null!==r&&r.equals(c.date)),t.number!==c.date.month&&(c.hidden="hidden"===a||"collapsed"===a||n>1&&c.date.after(e[0].firstDate)&&c.date.before(e[n-1].lastDate))})})})}_updateState(t){const e=Object.assign({},this._state,t);let n=e.firstDate;if(("minDate"in t||"maxDate"in t)&&(function(t,e){if(e&&t&&e.before(t))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${t}`)}(e.minDate,e.maxDate),e.focusDate=lg(e.focusDate,e.minDate,e.maxDate),e.firstDate=lg(e.firstDate,e.minDate,e.maxDate),n=e.focusDate),"disabled"in t&&(e.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(n=e.selectedDate),"focusVisible"in t)return e;if("focusDate"in t&&(e.focusDate=lg(e.focusDate,e.minDate,e.maxDate),n=e.focusDate,0!==e.months.length&&e.focusDate&&!e.focusDate.before(e.firstDate)&&!e.focusDate.after(e.lastDate)))return e;if("firstDate"in t&&(e.firstDate=lg(e.firstDate,e.minDate,e.maxDate),n=e.firstDate),n){const r=function(t,e,n,r,i){const{displayMonths:o,months:s}=n,a=s.splice(0,s.length);return Array.from({length:o},(n,r)=>{const o=Object.assign(t.getNext(e,"m",r),{day:1});if(s[r]=null,!i){const t=a.findIndex(t=>t.firstDate.equals(o));-1!==t&&(s[r]=a.splice(t,1)[0])}return o}).forEach((e,i)=>{null===s[i]&&(s[i]=function(t,e,n,r,i={}){const{dayTemplateData:o,minDate:s,maxDate:a,firstDayOfWeek:c,markDisabled:u,outsideDays:l}=n,h=t.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function(t,e,n){const r=t.getDaysPerWeek(),i=new ng(e.year,e.month,1),o=t.getWeekday(i)%r;return t.getPrev(i,"d",(r+o-n)%r)}(t,e,c);for(let f=0;f<t.getWeeksPerMonth();f++){let n=i.weeks[f];n||(n=i.weeks[f]={number:0,days:[],collapsed:!0});const d=n.days;for(let c=0;c<t.getDaysPerWeek();c++){0===f&&(i.weekdays[c]=t.getWeekday(e));const n=new ng(e.year,e.month,e.day),l=t.getNext(n),p=r.getDayAriaLabel(n);let g=!!(s&&n.before(s)||a&&n.after(a));!g&&u&&(g=u(n,{month:i.number,year:i.year}));let m=n.equals(h),b=o?o(n,{month:i.number,year:i.year}):void 0;null===i.firstDate&&n.month===i.number&&(i.firstDate=n),n.month===i.number&&l.month!==i.number&&(i.lastDate=n);let y=d[c];y||(y=d[c]={}),y.date=n,y.context=Object.assign(y.context||{},{$implicit:n,date:n,data:b,currentMonth:i.number,currentYear:i.year,disabled:g,focused:!1,selected:!1,today:m}),y.tabindex=-1,y.ariaLabel=p,y.hidden=!1,e=l}n.number=t.getWeekNumber(d.map(t=>t.date),c),n.collapsed="collapsed"===l&&d[0].date.month!==i.number&&d[d.length-1].date.month!==i.number}return i}(t,e,n,r,a.shift()||{}))}),s}(this._calendar,n,e,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t);e.months=r,e.firstDate=r[0].firstDate,e.lastDate=r[r.length-1].lastDate,"selectedDate"in t&&!hg(e.selectedDate,e)&&(e.selectedDate=null),"firstDate"in t&&(!e.focusDate||e.focusDate.before(e.firstDate)||e.focusDate.after(e.lastDate))&&(e.focusDate=n);const i=!this._state.firstDate||this._state.firstDate.year!==e.firstDate.year,o=!this._state.firstDate||this._state.firstDate.month!==e.firstDate.month;"select"===e.navigation?(("minDate"in t||"maxDate"in t||0===e.selectBoxes.years.length||i)&&(e.selectBoxes.years=function(t,e,n){if(!t)return[];const r=e?Math.max(e.year,t.year-500):t.year-10,i=(n?Math.min(n.year,t.year+500):t.year+10)-r+1,o=Array(i);for(let s=0;s<i;s++)o[s]=r+s;return o}(e.firstDate,e.minDate,e.maxDate)),("minDate"in t||"maxDate"in t||0===e.selectBoxes.months.length||i)&&(e.selectBoxes.months=function(t,e,n,r){if(!e)return[];let i=t.getMonths(e.year);if(n&&e.year===n.year){const t=i.findIndex(t=>t===n.month);i=i.slice(t)}if(r&&e.year===r.year){const t=i.findIndex(t=>t===r.month);i=i.slice(0,t+1)}return i}(this._calendar,e.firstDate,e.minDate,e.maxDate))):e.selectBoxes={years:[],months:[]},"arrows"!==e.navigation&&"select"!==e.navigation||!(o||i||"minDate"in t||"maxDate"in t||"disabled"in t)||(e.prevDisabled=e.disabled||function(t,e,n){const r=Object.assign(t.getPrev(e,"m"),{day:1});return null!=n&&(r.year===n.year&&r.month<n.month||r.year<n.year&&1===n.month)}(this._calendar,e.firstDate,e.minDate),e.nextDisabled=e.disabled||function(t,e,n){const r=Object.assign(t.getNext(e,"m"),{day:1});return null!=n&&r.after(n)}(this._calendar,e.lastDate,e.maxDate))}return e}};return t.\u0275fac=function(e){return new(e||t)(r.Xb(sg),r.Xb(fg))},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();var gg=function(t){return t[t.PREV=0]="PREV",t[t.NEXT=1]="NEXT",t}({});let mg=(()=>{let t=class{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekdays=!0,this.showWeekNumbers=!1}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();function bg(){return new _g}let yg=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:bg,token:t,providedIn:"root"}),t})(),_g=(()=>{let t=class extends yg{fromModel(t){return t&&Kp(t.year)&&Kp(t.month)&&Kp(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&Kp(t.year)&&Kp(t.month)&&Kp(t.day)?{year:t.year,month:t.month,day:t.day}:null}};return t.\u0275fac=function(e){return Rm(e||t)},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();const vg={provide:Jt,useExisting:Object(r.S)(()=>Og),multi:!0};let wg=(()=>{let t=class{constructor(t){this.templateRef=t}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["ng-template","ngbDatepickerContent",""]]}),t})(),Og=(()=>{let t=class{constructor(t,e,n,i,o,s,a,c){this._service=t,this._calendar=e,this.i18n=n,this._elementRef=s,this._ngbDateAdapter=a,this._ngZone=c,this._controlValue=null,this._destroyed$=new Pn.a,this._publicState={},this.navigate=new r.n,this.dateSelect=new r.n,this.select=this.dateSelect,this.onChange=t=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekdays","showWeekNumbers","startDate"].forEach(t=>this[t]=i[t]),t.dateSelect$.pipe(Object(np.a)(this._destroyed$)).subscribe(t=>{this.dateSelect.emit(t)}),t.model$.pipe(Object(np.a)(this._destroyed$)).subscribe(t=>{const e=t.firstDate,n=this.model?this.model.firstDate:null;this._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map(t=>t.firstDate)};let r=!1;if(!e.equals(n)&&(this.navigate.emit({current:n?{year:n.year,month:n.month}:null,next:{year:e.year,month:e.month},preventDefault:()=>r=!0}),r&&null!==n))return void this._service.open(n);const i=t.selectedDate,s=t.focusDate,a=this.model?this.model.focusDate:null;this.model=t,cg(i,this._controlValue)&&(this._controlValue=i,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(i))),cg(s,a)&&a&&t.focusVisible&&this.focus(),o.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(ng.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Object(Yn.a)(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(ng.from(t?t.day?t:Object.assign(Object.assign({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Zd(this._contentEl.nativeElement,"focusin"),e=Zd(this._contentEl.nativeElement,"focusout"),{nativeElement:n}=this._elementRef;Object(Qd.a)(t,e).pipe(Object(jn.a)(({target:t,relatedTarget:e})=>!(Yp(t,"ngb-dp-day")&&Yp(e,"ngb-dp-day")&&n.contains(t)&&n.contains(e))),Object(np.a)(this._destroyed$)).subscribe(({type:t})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===t})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].forEach(e=>t[e]=this[e]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const e={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays"].filter(e=>e in t).forEach(t=>e[t]=this[t]),this._service.set(e),"startDate"in t){const{currentValue:e,previousValue:n}=t.startDate;ug(n,e)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case gg.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case gg.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=ng.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(pg),r.Kb(sg),r.Kb(fg),r.Kb(mg),r.Kb(r.h),r.Kb(r.l),r.Kb(yg),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker"]],contentQueries:function(t,e,n){var i;1&t&&r.tc(n,wg,!0),2&t&&r.oc(i=r.bc())&&(e.contentTemplate=i.first)},viewQuery:function(t,e){var n;1&t&&(r.uc(hp,!0),r.uc(fp,!0)),2&t&&(r.oc(n=r.bc())&&(e._defaultDayTemplate=n.first),r.oc(n=r.bc())&&(e._contentEl=n.first))},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate"},outputs:{navigate:"navigate",dateSelect:"dateSelect",select:"select"},exportAs:["ngbDatepicker"],features:[r.wb([vg,pg]),r.vb],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,e){if(1&t&&(r.wc(0,dp,1,5,"ng-template",null,0,r.xc),r.wc(2,mp,1,1,"ng-template",null,1,r.xc),r.Pb(4,"div",2),r.wc(5,bp,1,7,"ngb-datepicker-navigation",3),r.Ob(),r.Pb(6,"div",4,5),r.wc(8,yp,0,0,"ng-template",6),r.Ob(),r.wc(9,_p,0,0,"ng-template",6)),2&t){const t=r.pc(3);r.xb(5),r.hc("ngIf","none"!==e.navigation),r.xb(1),r.Cb("ngb-dp-months",!e.contentTemplate),r.xb(2),r.hc("ngTemplateOutlet",(null==e.contentTemplate?null:e.contentTemplate.templateRef)||t),r.xb(1),r.hc("ngTemplateOutlet",e.footerTemplate)}},directives:function(){return[ot,ct,qg,rt,Ag,Cg]},styles:["ngb-datepicker{border:1px solid #dfdfdf;border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}.ngb-dp-body{z-index:1050}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-months{display:-ms-flexbox;display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}"],encapsulation:2,changeDetection:0}),t})();var Eg=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});let Sg=(()=>{let t=class{processKey(t,e){const{state:n,calendar:r}=e;switch(t.which){case Eg.PageUp:e.focusDate(r.getPrev(n.focusedDate,t.shiftKey?"y":"m",1));break;case Eg.PageDown:e.focusDate(r.getNext(n.focusedDate,t.shiftKey?"y":"m",1));break;case Eg.End:e.focusDate(t.shiftKey?n.maxDate:n.lastDate);break;case Eg.Home:e.focusDate(t.shiftKey?n.minDate:n.firstDate);break;case Eg.ArrowLeft:e.focusDate(r.getPrev(n.focusedDate,"d",1));break;case Eg.ArrowUp:e.focusDate(r.getPrev(n.focusedDate,"d",r.getDaysPerWeek()));break;case Eg.ArrowRight:e.focusDate(r.getNext(n.focusedDate,"d",1));break;case Eg.ArrowDown:e.focusDate(r.getNext(n.focusedDate,"d",r.getDaysPerWeek()));break;case Eg.Enter:case Eg.Space:e.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Ag=(()=>{let t=class{constructor(t,e,n,r){this.i18n=t,this.datepicker=e,this._keyboardService=n,this._service=r}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){t.context.disabled||t.hidden||this.datepicker.onDateSelect(t.date)}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(fg),r.Kb(Og),r.Kb(Sg),r.Kb(pg))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,e){1&t&&r.ac("keydown",(function(t){return e.onKeyDown(t)}))},inputs:{month:"month"},decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(r.wc(0,Op,3,2,"div",0),r.wc(1,xp,1,1,"ng-template",1)),2&t&&(r.hc("ngIf",e.datepicker.showWeekdays),r.xb(1),r.hc("ngForOf",e.viewModel.weeks))},directives:[ot,rt,ct],styles:['ngb-datepicker-month{display:block}.ngb-dp-week-number,.ngb-dp-weekday{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:#5bc0de;color:var(--info)}.ngb-dp-week{border-radius:.25rem;display:-ms-flexbox;display:flex}.ngb-dp-weekdays{border-bottom:1px solid rgba(0,0,0,.125);border-radius:0;background-color:#f8f9fa;background-color:var(--light)}.ngb-dp-day,.ngb-dp-week-number,.ngb-dp-weekday{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}'],encapsulation:2}),t})(),Cg=(()=>{let t=class{constructor(t){this.i18n=t,this.navigation=gg,this.months=[],this.navigate=new r.n,this.select=new r.n}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(fg))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker-navigation"]],inputs:{months:"months",date:"date",disabled:"disabled",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:10,vars:4,consts:[[1,"ngb-dp-arrow"],["type","button",1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click",6,"aria-label","title"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"button",1),r.Vb(2,Ip),r.ac("click",(function(t){return e.onClickPrev(t)})),r.Lb(3,"span",2),r.Ob(),r.Ob(),r.wc(4,kp,1,4,"ngb-datepicker-navigation-select",3),r.wc(5,jp,1,1,void 0,4),r.Pb(6,"div",5),r.Pb(7,"button",1),r.Vb(8,Dp),r.ac("click",(function(t){return e.onClickNext(t)})),r.Lb(9,"span",2),r.Ob(),r.Ob()),2&t&&(r.xb(1),r.hc("disabled",e.prevDisabled),r.xb(3),r.hc("ngIf",e.showSelect),r.xb(1),r.hc("ngIf",!e.showSelect),r.xb(2),r.hc("disabled",e.nextDisabled))},directives:function(){return[ot,zg,rt]},styles:["ngb-datepicker-navigation{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;-webkit-transform:rotate(-135deg);transform:rotate(-135deg)}.right .ngb-dp-navigation-chevron{-webkit-transform:rotate(45deg);transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow{display:-ms-flexbox;display:flex;-ms-flex:1 1 auto;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{-ms-flex-pack:end;justify-content:flex-end}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:-ms-flexbox;display:flex;-ms-flex:1 1 9rem;flex:1 1 9rem}"],encapsulation:2,changeDetection:0}),t})();const Tg=(t,e)=>!!e&&e.some(e=>e.contains(t)),xg=(t,e)=>!e||null!=function(t,e){return e?t.closest(e):null}(t,e),Ig=(()=>"undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)))();const Dg=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kg(t){const e=Array.from(t.querySelectorAll(Dg)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const Pg=(t,e,n,r=!1)=>{t.runOutsideAngular(()=>{const t=Zd(e,"focusin").pipe(Object(np.a)(n),Object(Kt.a)(t=>t.target));Zd(e,"keydown").pipe(Object(np.a)(n),Object(jn.a)(t=>t.which===Eg.Tab),Object(rp.a)(t)).subscribe(([t,n])=>{const[r,i]=kg(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&Zd(e,"click").pipe(Object(np.a)(n),Object(rp.a)(t),Object(Kt.a)(t=>t[1])).subscribe(t=>t.focus())})};class Ng{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+c+u);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,m=window.innerHeight||g.clientHeight,b=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=b&&p.bottom<=m}}const Rg=/\s+/,jg=new Ng;function Mg(){return new Lg}let Bg=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:Mg,token:t,providedIn:"root"}),t})(),Lg=(()=>{let t=class extends Bg{parse(t){if(null!=t){const e=t.trim().split("-");if(1===e.length&&Hp(e[0]))return{year:zp(e[0]),month:null,day:null};if(2===e.length&&Hp(e[0])&&Hp(e[1]))return{year:zp(e[0]),month:zp(e[1]),day:null};if(3===e.length&&Hp(e[0])&&Hp(e[1])&&Hp(e[2]))return{year:zp(e[0]),month:zp(e[1]),day:zp(e[2])}}return null}format(t){return t?`${t.year}-${Hp(t.month)?Xp(t.month):""}-${Hp(t.day)?Xp(t.day):""}`:""}};return t.\u0275fac=function(e){return jm(e||t)},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),Ug=(()=>{let t=class extends mg{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"],this.restoreFocus=!0}};return t.\u0275fac=function(e){return Mm(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Fg={provide:Jt,useExisting:Object(r.S)(()=>Vg),multi:!0},$g={provide:de,useExisting:Object(r.S)(()=>Vg),multi:!0};let Vg=(()=>{let t=class{constructor(t,e,n,i,o,s,a,c,u,l,h){this._parserFormatter=t,this._elRef=e,this._vcRef=n,this._renderer=i,this._cfr=o,this._ngZone=s,this._calendar=a,this._dateAdapter=c,this._document=u,this._changeDetector=l,this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this.dateSelect=new r.n,this.navigate=new r.n,this.closed=new r.n,this._onChange=t=>{},this._onTouched=()=>{},this._validatorChange=()=>{},["autoClose","container","positionTarget","placement"].forEach(t=>this[t]=h[t]),this._zoneSubscription=s.onStable.subscribe(()=>this._updatePopupPosition())}get disabled(){return this._disabled}set disabled(t){this._disabled=""===t||t&&"false"!==t,this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){const{value:e}=t;if(null!=e){const t=this._fromDateStruct(this._dateAdapter.fromModel(e));if(!t)return{ngbDate:{invalid:e}};if(this.minDate&&t.before(ng.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:e}}};if(this.maxDate&&t.after(ng.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:e}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,e=!1){const n=t!==this._inputValue;n&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),!n&&e||this._onChange(this._model?this._dateAdapter.toModel(this._model):""===t?null:t),e&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){const t=this._cfr.resolveComponentFactory(Og);this._cRef=this._vcRef.createComponent(t),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef.instance),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(t=>{this.writeValue(t),this._onChange(t),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,Pg(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),this._cRef.instance.focus(),function(t,e,n,r,i,o,s,a){var c;n&&t.runOutsideAngular((c=()=>{const c=Zd(e,"keydown").pipe(Object(np.a)(i),Object(jn.a)(t=>t.which===Eg.Escape),er(t=>t.preventDefault())),u=Zd(e,"mousedown").pipe(Object(Kt.a)(t=>{const e=t.target;return 2!==t.button&&!Tg(e,s)&&("inside"===n?Tg(e,o)&&xg(e,a):"outside"===n?!Tg(e,o):xg(e,a)||!Tg(e,o))}),Object(np.a)(i));(function(...t){if(1===t.length){if(!Object(Ht.a)(t[0]))return t[0];t=t[0]}return Object(Cn.a)(t,void 0).lift(new tp)})([c,Zd(e,"mouseup").pipe(Object(rp.a)(u),Object(jn.a)(([t,e])=>e),sp(0),Object(np.a)(i))]).subscribe(()=>t.run(r))},Ig?()=>setTimeout(()=>c(),100):c))}(this._ngZone,this._document,this.autoClose,()=>this.close(),this.closed,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;Wp(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):void 0!==this.restoreFocus&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){(t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&(this._cRef.instance.minDate=this.minDate),t.maxDate&&(this._cRef.instance.maxDate=this.maxDate),this._cRef.instance.ngOnChanges(t)))}ngOnDestroy(){this.close(),this._zoneSubscription.unsubscribe()}_applyDatepickerInputs(t){["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekdays","showWeekNumbers"].forEach(e=>{void 0!==this[e]&&(t[e]=this[e])}),t.startDate=this.startDate||this._model}_applyPopupStyling(t){this._renderer.addClass(t,"dropdown-menu"),this._renderer.addClass(t,"show"),"body"===this.container&&this._renderer.addClass(t,"ngb-dp-body")}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(t=>this.navigate.emit(t)),t.dateSelect.subscribe(t=>{this.dateSelect.emit(t),!0!==this.autoClose&&"inside"!==this.autoClose||this.close()})}_writeModelValue(t){const e=this._parserFormatter.format(t);this._inputValue=e,this._renderer.setProperty(this._elRef.nativeElement,"value",e),this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){const e=t?new ng(t.year,t.month,t.day):null;return this._calendar.isValid(e)?e:null}_updatePopupPosition(){if(!this._cRef)return;let t;if(t=Wp(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?this.positionTarget:this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");!function(t,e,n,r,i){let o=Array.isArray(n)?n:n.split(Rg);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t=>{const[e,n]=t.split("-"),r=[];return r};let c=o.findIndex(t=>"auto"===t);c>=0&&s.forEach((function(t){null==o.find(e=>-1!==e.search("^"+t))&&o.splice(c++,1,t)}));const u=e.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";let l=null,h=!1;for(l of o){a(l);if(jg.positionElements(t,e,l,r)){h=!0;break}}h||(l=o[0],a(l),jg.positionElements(t,e,l,r))}(t,this._cRef.location.nativeElement,this.placement,"body"===this.container)}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(Bg),r.Kb(r.l),r.Kb(r.O),r.Kb(r.D),r.Kb(r.j),r.Kb(r.z),r.Kb(sg),r.Kb(yg),r.Kb(s),r.Kb(r.h),r.Kb(Ug))},t.\u0275dir=r.Fb({type:t,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,e){1&t&&r.ac("input",(function(t){return e.manualDateChange(t.target.value)}))("change",(function(t){return e.manualDateChange(t.target.value,!0)}))("focus",(function(){return e.onFocus()}))("blur",(function(){return e.onBlur()})),2&t&&r.Sb("disabled",e.disabled)},inputs:{disabled:"disabled",autoClose:"autoClose",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",restoreFocus:"restoreFocus",showWeekdays:"showWeekdays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[r.wb([Fg,$g,{provide:mg,useExisting:Ug}]),r.vb]}),t})(),qg=(()=>{let t=class{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(fg))},t.\u0275cmp=r.Eb({type:t,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,e){2&t&&r.Cb("bg-primary",e.selected)("text-white",e.selected)("text-muted",e.isMuted())("outside",e.isMuted())("active",e.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Mp,decls:1,vars:1,template:function(t,e){1&t&&r.yc(0),2&t&&r.zc(e.i18n.getDayNumerals(e.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:0 0}[ngbDatepickerDayView].outside{opacity:.5}"],encapsulation:2,changeDetection:0}),t})(),zg=(()=>{let t=class{constructor(t,e){this.i18n=t,this._renderer=e,this.select=new r.n,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new ng(this.date.year,zp(t),1))}changeYear(t){this.select.emit(new ng(zp(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(fg),r.Kb(r.D))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,e){var n;1&t&&(r.uc(Bp,!0,r.l),r.uc(Lp,!0,r.l)),2&t&&(r.oc(n=r.bc())&&(e.monthSelect=n.first),r.oc(n=r.bc())&&(e.yearSelect=n.first))},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:8,vars:4,consts:[[1,"custom-select",3,"disabled","change",6,"aria-label","title"],["month",""],[3,"value",4,"ngFor","ngForOf"],["year",""],[3,"value"]],template:function(t,e){1&t&&(r.Pb(0,"select",0,1),r.Vb(2,Up),r.ac("change",(function(t){return e.changeMonth(t.target.value)})),r.wc(3,$p,2,3,"option",2),r.Ob(),r.Pb(4,"select",0,3),r.Vb(6,Fp),r.ac("change",(function(t){return e.changeYear(t.target.value)})),r.wc(7,Vp,2,2,"option",2),r.Ob()),2&t&&(r.hc("disabled",e.disabled),r.xb(3),r.hc("ngForOf",e.months),r.xb(1),r.hc("disabled",e.disabled),r.xb(3),r.hc("ngForOf",e.years))},directives:[rt,je,Ue],styles:["ngb-datepicker-navigation-select>.custom-select{-ms-flex:1 1 auto;flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.custom-select:focus{z-index:1}ngb-datepicker-navigation-select>.custom-select::-ms-value{background-color:transparent!important}"],encapsulation:2,changeDetection:0}),t})();function Wg(t){return t%4==0&&t%100!=0||t%400==0}function Hg(t){let e=Math.floor((235*t-234)/19),n=13753*e+12084,r=29*e+Math.floor(n/25920),i=n%25920,o=r%7;return 2!==o&&4!==o&&6!==o||(r++,o=r%7),1===o&&i>16404&&!Yg(t)?r+=2:0===o&&i>23269&&Yg(t-1)&&r++,r}function Kg(t,e){let n=[31,28,31,30,31,30,31,31,30,31,30,31];return Wg(e)&&n[1]++,n[t-1]}function Gg(t){return Yg(t)?13:12}function Xg(t){return Hg(t+1)-Hg(t)}function Yg(t){if(null!=t){let e=(12*t+17)%19;return e>=(e<0?-7:12)}return!1}function Jg(t,e){let n=Hg(e+1)-Hg(e),r=(n<=380?n:n-30)-353,i=Yg(e)?[30,29,29,29,30,30,29,30,29,30,29,30,29]:[30,29,29,29,30,29,30,29,30,29,30,29];return r>0&&i[2]++,r>1&&i[1]++,i[t-1]}function Zg(t){let e=0;for(let n=1;n<t.month;n++)e+=Jg(n,t.year);return e+t.day}function Qg(t){const e=new Date(t),n=e.getFullYear(),r=e.getMonth(),i=e.getDate();let o=1721424.5+365*(n-1)+Math.floor((n-1)/4)-Math.floor((n-1)/100)+Math.floor((n-1)/400)+Math.floor((367*(r+1)-362)/12+(r+1<=2?0:Wg(n)?-1:-2)+i);o=Math.floor(o+.5);let s=o-347997,a=Math.floor(25920*s/765433),c=Math.floor((19*a+234)/235)+1,u=Hg(c),l=s-u;for(;l<1;)c--,u=Hg(c),l=s-u;let h=1,f=l;for(;f>Jg(h,c);)f-=Jg(h,c),h++;return new ng(c,h,f)}function tm(t){const e=t.year,n=t.month,r=t.day;let i=Hg(e);for(let l=1;l<n;l++)i+=Jg(l,e);i+=r;let o=i-2092591,s=o>=0;s||(o=-o);let a=1970,c=1,u=1;for(;o>0;)s?o>=(Wg(a)?366:365)?(o-=Wg(a)?366:365,a++):o>=Kg(c,a)?(o-=Kg(c,a),c++):(u+=o,o=0):o>=(Wg(a-1)?366:365)?(o-=Wg(a-1)?366:365,a--):(c>1?c--:(c=12,a--),o>=Kg(c,a)?o-=Kg(c,a):(u=Kg(c,a)-o+1,o=0));return new Date(a,c-1,u)}function em(t){if(!t)return"";const e=["","\u05d0","\u05d1","\u05d2","\u05d3","\u05d4","\u05d5","\u05d6","\u05d7","\u05d8"],n=["\u05d9","\u05d9\u05d0","\u05d9\u05d1","\u05d9\u05d2","\u05d9\u05d3","\u05d8\u05d5","\u05d8\u05d6","\u05d9\u05d6","\u05d9\u05d7","\u05d9\u05d8"],r=["","","\u05db","\u05dc","\u05de","\u05e0","\u05e1","\u05e2","\u05e4","\u05e6"],i=["","\u05e7","\u05e8","\u05e9","\u05ea","\u05ea\u05e7","\u05ea\u05e8","\u05ea\u05e9","\u05ea\u05ea","\u05ea\u05ea\u05e7"],o=["","\u05d0","\u05d1","\u05d1\u05d0","\u05d1\u05d1","\u05d4","\u05d4\u05d0","\u05d4\u05d1","\u05d4\u05d1\u05d0","\u05d4\u05d1\u05d1"];let s=0,a=[],c=0;for(;t>0;){let u=t%10;if(0===c)s=u;else if(1===c)1!==u?a.unshift(r[u],e[s]):a.unshift(n[s]);else{if(2!==c){5!==u&&a.unshift(o[u],"\u05f3"," ");break}a.unshift(i[u])}t=Math.floor(t/10),0===c&&0===t&&a.unshift(e[u]),c++}return a=a.join("").split(""),1===a.length?a.push("\u05f3"):a.length>1&&a.splice(a.length-1,0,"\u05f4"),a.join("")}let nm=(()=>{let t=class extends sg{getDaysPerWeek(){return 7}getMonths(t){return t&&Yg(t)?[1,2,3,4,5,6,7,8,9,10,11,12,13]:[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}isValid(t){if(null!=t){let e=Hp(t.year)&&Hp(t.month)&&Hp(t.day);return e=e&&t.month>0&&t.month<=(Yg(t.year)?13:12),e=e&&t.day>0&&t.day<=Jg(t.month,t.year),e&&!isNaN(tm(t).getTime())}return!1}getNext(t,e="d",n=1){switch(t=new ng(t.year,t.month,t.day),e){case"y":return t.year+=n,t.month=1,t.day=1,t;case"m":return(t=function(t,e){let n=e>=0;for(n||(e=-e);e>0;)n?e>Gg(t.year)-t.month?(e-=Gg(t.year)-t.month+1,t.year++,t.month=1):(t.month+=e,e=0):e>=t.month?(t.year--,e-=t.month,t.month=Gg(t.year)):(t.month-=e,e=0);return t}(t,n)).day=1,t;case"d":return function(t,e){let n=e>=0;for(n||(e=-e);e>0;)n?e>Xg(t.year)-Zg(t)?(e-=Xg(t.year)-Zg(t)+1,t.year++,t.month=1,t.day=1):e>Jg(t.month,t.year)-t.day?(e-=Jg(t.month,t.year)-t.day+1,t.month++,t.day=1):(t.day+=e,e=0):e>=t.day?(e-=t.day,t.month--,0===t.month&&(t.year--,t.month=Gg(t.year)),t.day=Jg(t.month,t.year)):(t.day-=e,e=0);return t}(t,n);default:return t}}getPrev(t,e="d",n=1){return this.getNext(t,e,-n)}getWeekday(t){const e=tm(t).getDay();return 0===e?7:e}getWeekNumber(t,e){return Math.ceil(Zg(t[t.length-1])/7)}getToday(){return Qg(new Date)}toGregorian(t){return rg(tm(t))}fromGregorian(t){return Qg(ig(t))}};return t.\u0275fac=function(e){return Bm(e||t)},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})();const rm=["\u05e9\u05e0\u05d9","\u05e9\u05dc\u05d9\u05e9\u05d9","\u05e8\u05d1\u05d9\u05e2\u05d9","\u05d7\u05de\u05d9\u05e9\u05d9","\u05e9\u05d9\u05e9\u05d9","\u05e9\u05d1\u05ea","\u05e8\u05d0\u05e9\u05d5\u05df"],im=["\u05ea\u05e9\u05e8\u05d9","\u05d7\u05e9\u05d5\u05df","\u05db\u05e1\u05dc\u05d5","\u05d8\u05d1\u05ea","\u05e9\u05d1\u05d8","\u05d0\u05d3\u05e8","\u05e0\u05d9\u05e1\u05df","\u05d0\u05d9\u05d9\u05e8","\u05e1\u05d9\u05d5\u05df","\u05ea\u05de\u05d5\u05d6","\u05d0\u05d1","\u05d0\u05dc\u05d5\u05dc"],om=["\u05ea\u05e9\u05e8\u05d9","\u05d7\u05e9\u05d5\u05df","\u05db\u05e1\u05dc\u05d5","\u05d8\u05d1\u05ea","\u05e9\u05d1\u05d8","\u05d0\u05d3\u05e8 \u05d0\u05f3","\u05d0\u05d3\u05e8 \u05d1\u05f3","\u05e0\u05d9\u05e1\u05df","\u05d0\u05d9\u05d9\u05e8","\u05e1\u05d9\u05d5\u05df","\u05ea\u05de\u05d5\u05d6","\u05d0\u05d1","\u05d0\u05dc\u05d5\u05dc"];let sm=(()=>{let t=class extends fg{getMonthShortName(t,e){return this.getMonthFullName(t,e)}getMonthFullName(t,e){return Yg(e)?om[t-1]||"":im[t-1]||""}getWeekdayShortName(t){return rm[t-1]||""}getDayAriaLabel(t){return`${em(t.day)} ${this.getMonthFullName(t.month,t.year)} ${em(t.year)}`}getDayNumerals(t){return em(t.day)}getWeekNumerals(t){return em(t)}getYearNumerals(t){return em(t)}};return t.\u0275fac=function(e){return Lm(e||t)},t.\u0275prov=r.Gb({token:t,factory:function(e){return t.\u0275fac(e)}}),t})(),am=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt,yn]]}),t})(),cm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),um=(()=>{let t=class{constructor(){this.backdrop=!0,this.keyboard=!0}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class lm{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const hm=()=>{};let fm=(()=>{let t=class{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):hm}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}};return t.\u0275fac=function(e){return new(e||t)(r.Xb(s))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(s))},token:t,providedIn:"root"}),t})(),dm=(()=>{let t=class{};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:2,hostBindings:function(t,e){2&t&&r.zb("modal-backdrop fade show"+(e.backdropClass?" "+e.backdropClass:""))},inputs:{backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class pm{close(t){}dismiss(t){}}class gm{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}close(t){this._windowCmptRef&&(this._resolve(t),this._removeModalElements())}_dismiss(t){this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.location.nativeElement;if(t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._backdropCmptRef){const t=this._backdropCmptRef.location.nativeElement;t.parentNode.removeChild(t),this._backdropCmptRef.destroy()}this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._backdropCmptRef=null,this._contentRef=null}}var mm=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let bm=(()=>{let t=class{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Pn.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){const{nativeElement:t}=this._elRef;if(this._zone.runOutsideAngular(()=>{Zd(t,"keydown").pipe(Object(np.a)(this._closed$),Object(jn.a)(t=>t.which===Eg.Escape&&this.keyboard)).subscribe(t=>requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(mm.ESC))}));let e=!1;Zd(this._dialogEl.nativeElement,"mousedown").pipe(Object(np.a)(this._closed$),er(()=>e=!1),Object(sr.a)(()=>Zd(t,"mouseup").pipe(Object(np.a)(this._closed$),Object(Yn.a)(1))),Object(jn.a)(({target:e})=>t===e)).subscribe(()=>{e=!0}),Zd(t,"click").pipe(Object(np.a)(this._closed$)).subscribe(({target:n})=>{!0!==this.backdrop||t!==n||e||this._zone.run(()=>this.dismiss(mm.BACKDROP_CLICK)),e=!1})}),!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=kg(t)[0];(e||n||t).focus()}}ngOnDestroy(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null}),this._closed$.next()}};return t.\u0275fac=function(e){return new(e||t)(r.Kb(s),r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;1&t&&r.uc(qp,!0),2&t&&r.oc(n=r.bc())&&(e._dialogEl=n.first)},hostAttrs:["role","dialog","tabindex","-1"],hostVars:5,hostBindings:function(t,e){2&t&&(r.yb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.zb("modal fade show d-block"+(e.windowClass?" "+e.windowClass:"")))},inputs:{backdrop:"backdrop",keyboard:"keyboard",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:lp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.gc(),r.Pb(0,"div",0,1),r.Pb(2,"div",2),r.fc(3),r.Ob(),r.Ob()),2&t&&r.zb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),ym=(()=>{let t=class{constructor(t,e,n,r,i,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=r,this._rendererFactory=i,this._ngZone=o,this._activeWindowCmptHasChanged=new Pn.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["backdropClass"],this._modalRefs=[],this._windowAttributes=["ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];Pg(this._ngZone,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:Gp(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new pm,u=this._getContentRef(t,r.injector||e,n,c,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,u),f=new gm(h,u,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(a,a),c.close=t=>{f.close(t)},c.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(dm).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(bm).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{Gp(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{Gp(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.K?this._createFromTemplateRef(n,i):Wp(n)?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new lm([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new lm([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new lm([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),a=r.r.create({providers:[{provide:pm,useValue:i}],parent:e}),c=s.create(a),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new lm([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&this._modalRefs.splice(e,1)};this._modalRefs.push(t),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}};return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.g),r.Xb(r.r),r.Xb(s),r.Xb(fm),r.Xb(r.E),r.Xb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(r.g),Object(r.Xb)(r.o),Object(r.Xb)(s),Object(r.Xb)(fm),Object(r.Xb)(r.E),Object(r.Xb)(r.z))},token:t,providedIn:"root"}),t})(),_m=(()=>{let t=class{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign({},this._config,e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.j),r.Xb(r.r),r.Xb(ym),r.Xb(um))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Xb)(r.j),Object(r.Xb)(r.o),Object(r.Xb)(ym),Object(r.Xb)(um))},token:t,providedIn:"root"}),t})(),vm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[_m]}),t})(),wm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Om=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Em=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Sm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Am=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Cm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Tm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),xm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})(),Im=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Dm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[lt]]}),t})();const km=[Jp,Zp,Qp,tg,eg,am,cm,vm,wm,Om,Em,Sm,Am,Tm,xm,Im,Dm,Cm];let Pm=(()=>{let t=class{};return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[km,Jp,Zp,Qp,tg,eg,am,cm,vm,wm,Om,Em,Sm,Am,Tm,xm,Im,Dm,Cm]}),t})();const Nm=r.Rb(ag),Rm=r.Rb(_g),jm=r.Rb(Lg),Mm=r.Rb(Ug),Bm=r.Rb(nm),Lm=r.Rb(sm),Um=["d"];let Fm=(()=>{class t{constructor(t,e){this.calendar=t,this.i18n=e,this.selectedDateSubject=new Pn.a}ngOnInit(){this.onSelectedDateSuscription=this.selectedDateSubject.subscribe(t=>{const e=function(t,e){return e.toGregorian(t)}(t,this.calendar),n=function(t,e){return`${e.getDayNumerals(t)} ${e.getMonthFullName(t.month)} ${e.getYearNumerals(t.year)}`}(t,this.i18n);this.parentForm.get(["startDate","gregorianDate"]).setValue(e),this.parentForm.get(["startDate","hebrewDateInWords"]).setValue(n)})}onDateSelect(t){this.selectedDateSubject.next(t)}ngOnDestroy(){this.onSelectedDateSuscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(sg),r.Kb(fg))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-hebrew-date-form-control"]],viewQuery:function(t,e){var n;1&t&&r.Dc(Um,!0),2&t&&r.oc(n=r.bc())&&(e.d=n.first)},inputs:{parentForm:"parentForm"},features:[r.wb([{provide:sg,useClass:nm},{provide:fg,useClass:sm}])],decls:10,vars:1,consts:[[1,"date-inner-grid",3,"formGroup"],[1,"section-title"],[1,"date-button",3,"click"],[1,"calendar-box"],["src","../../assets/icons/Calendar.svg","alt",""],["formGroupName","startDate",1,"input-container"],["type","text","ngbDatepicker","",1,"date-input",3,"dateSelect"],["d","ngbDatepicker"],["formControlName","hebrewDateInWords","placeholder","\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4",1,"date-input"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",0),r.Pb(1,"div",1),r.yc(2,"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4"),r.Ob(),r.Pb(3,"div",2),r.ac("click",(function(){return r.qc(t),r.pc(8).toggle()})),r.Pb(4,"div",3),r.Lb(5,"img",4),r.Ob(),r.Ob(),r.Pb(6,"div",5),r.Pb(7,"input",6,7),r.ac("dateSelect",(function(t){return e.onDateSelect(t)})),r.Ob(),r.Lb(9,"input",8),r.Ob(),r.Ob()}2&t&&r.hc("formGroup",e.parentForm)},directives:[le,cn,ln,Vg,ne,ue,gn],styles:[".date-inner-grid[_ngcontent-%COMP%]{display:grid;grid-gap:1vh;padding:3vw;grid-template:auto auto/10vw auto;box-shadow:0 3pt 6pt rgba(0,0,0,.16);position:relative}.date-input[_ngcontent-%COMP%]{grid-column:1/2;grid-row:1/2;height:12vw;border-radius:8px;font-size:.8rem;padding-right:15vw;margin-bottom:2vw;color:#000}.date-input[_ngcontent-%COMP%]:focus{outline:none;border:2px solid #d4a75d}.input-container[_ngcontent-%COMP%]{grid-column:1/3;display:grid;grid-template:auto/auto}.date-button[_ngcontent-%COMP%]{grid-column:1/2}.section-title[_ngcontent-%COMP%]{grid-column:1/-1;color:#2a2e43;font-weight:700;margin-bottom:2vw;font-size:.9rem;font-family:Arial}.calendar-box[_ngcontent-%COMP%]{background-color:#2a2e43;border-radius:6pt;min-width:9vw;min-height:9vw;position:absolute}"]}),t})(),$m=(()=>{class t{constructor(){this.closeDialog=new r.n,this.closeDialogAndDeleteChanges=new r.n}ngOnInit(){this.noteValueBeforeChanges=this.formGroup.controls.note.value}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-note-dialog"]],inputs:{formGroup:"formGroup"},outputs:{closeDialog:"closeDialog",closeDialogAndDeleteChanges:"closeDialogAndDeleteChanges"},decls:7,vars:2,consts:[[1,"backdrop",3,"click"],[1,"dialog",3,"formGroup"],["formControlName","note",3,"value"],[3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.ac("click",(function(){return e.closeDialogAndDeleteChanges.emit(e.noteValueBeforeChanges)})),r.Ob(),r.Pb(1,"div",1),r.Pb(2,"div"),r.yc(3,"\u05d4\u05d5\u05e1\u05e3 \u05d4\u05e2\u05e8\u05d4"),r.Ob(),r.Lb(4,"textarea",2),r.Pb(5,"div",3),r.ac("click",(function(){return e.closeDialog.emit()})),r.yc(6,"\u05e9\u05de\u05d5\u05e8 \u05d4\u05e2\u05e8\u05d4"),r.Ob(),r.Ob()),2&t&&(r.xb(1),r.hc("formGroup",e.formGroup),r.xb(3),r.hc("value",e.formGroup.controls.note.value))},directives:[le,cn,ne,ue,gn],styles:[".backdrop[_ngcontent-%COMP%]{background-color:#000;opacity:.5;position:fixed;width:100%;height:100%;z-index:10}.dialog[_ngcontent-%COMP%]{z-index:11;position:fixed}"]}),t})();function Vm(t,e){if(1&t){const t=r.Qb();r.Pb(0,"app-note-dialog",106),r.ac("closeDialogAndDeleteChanges",(function(e){return r.qc(t),r.cc().closeDialogAndDeleteChanges(e)}))("closeDialog",(function(){return r.qc(t),r.cc().closeDialog()})),r.Ob()}if(2&t){const t=r.cc();r.hc("formGroup",t.dialogFormGroup)}}function qm(t,e){if(1&t&&r.Lb(0,"img",107),2&t){const t=r.cc();r.hc("src",t.writerForm.controls.profileImage.value,r.rc)}}function zm(t,e){1&t&&r.Lb(0,"option",108),2&t&&r.hc("value",e.$implicit.city)}function Wm(t,e){1&t&&r.Lb(0,"option",108),2&t&&r.hc("value",e.$implicit)}function Hm(t,e){if(1&t&&r.Lb(0,"img",110),2&t){const t=r.cc().$implicit;r.hc("src",t.value,r.rc)}}function Km(t,e){if(1&t&&(r.Pb(0,"div"),r.wc(1,Hm,1,1,"img",109),r.Ob()),2&t){const t=e.$implicit;r.xb(1),r.hc("ngIf",t.value)}}function Gm(t,e){if(1&t){const t=r.Qb();r.Pb(0,"label",111),r.ac("click",(function(){return r.qc(t),r.cc().startRecording()})),r.Pb(1,"div"),r.yc(2,"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05d6\u05db\u05d5\u05e8\u05ea \u05e7\u05d5\u05dc\u05d9\u05ea"),r.Ob(),r.Ob()}}function Xm(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",112),r.ac("click",(function(){return r.qc(t),r.cc().stopRecording()})),r.yc(1," \u05e2\u05e6\u05d5\u05e8 \u05d4\u05e7\u05dc\u05d8\u05d4 "),r.Ob()}}function Ym(t,e){if(1&t&&r.Lb(0,"audio",114),2&t){const t=r.cc().$implicit,e=r.cc(2);r.hc("src",e.sanitizer.bypassSecurityTrustResourceUrl(t.value),r.rc)}}function Jm(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"div",112),r.ac("click",(function(){r.qc(t);const n=e.index;return r.cc(2).deleteRecording(n)})),r.yc(2,"\u05de\u05d7\u05e7 \u05d4\u05e7\u05dc\u05d8\u05d4"),r.Ob(),r.wc(3,Ym,1,1,"audio",113),r.Ob()}if(2&t){const t=e.$implicit;r.xb(3),r.hc("ngIf",t.value)}}function Zm(t,e){if(1&t&&(r.Pb(0,"div"),r.wc(1,Jm,4,1,"div",100),r.Ob()),2&t){const t=r.cc();r.xb(1),r.hc("ngForOf",t.writerForm.controls.recordings.controls)}}const Qm=function(){return["isAppropriate","level"]},tb=function(t){return{checked:t}},eb=function(){return["pricesDeatails","isPricePerPage"]},nb=function(t){return{"checked-blue":t}},rb=function(){return["pricesDeatails","priceForTorahScroll","worthIt"]},ib=function(){return["pricesDeatails","priceForMezuzah","worthIt"]},ob=function(){return["pricesDeatails","priceForTefillin","worthIt"]},sb=function(){return["writingDeatails","writingLevel","level"]},ab=function(){return["writingDeatails","stabilityLevel","level"]},cb=function(){return["writingDeatails","eraseLevel","level"]},ub=function(){return["writingDeatails","letterSizes","17"]},lb=function(){return["writingDeatails","letterSizes","24"]},hb=function(){return["writingDeatails","letterSizes","30"]},fb=function(){return["writingDeatails","letterSizes","36"]},db=function(){return["writingDeatails","letterSizes","40"]},pb=function(){return["writingDeatails","letterSizes","42"]},gb=function(){return["writingDeatails","letterSizes","45"]},mb=function(){return["writingDeatails","letterSizes","48"]},bb=function(){return["writingDeatails","writingTypes","types","ari"]},yb=function(){return["writingDeatails","writingTypes","types","beitYosef"]},_b=function(){return["writingDeatails","writingTypes","types","Welish"]},vb=function(){return["placeOfWriting","place"]},wb=function(){return["additionalDetails","hasWritenBefore","boolean"]},Ob=function(){return["additionalDetails","hasWritenKabala","boolean"]},Eb=function(){return["additionalDetails","voatsInElection","boolean"]},Sb=function(){return["additionalDetails","goesToKotel","boolean"]},Ab=function(){return["additionalDetails","beginnerWriter","boolean"]},Cb=function(){return["additionalDetails","writerLevel","level"]};let Tb=(()=>{class t{constructor(t,e,n,r){this.stitchService=t,this.googleMapsService=e,this.recordingService=n,this.sanitizer=r,this.isRecording=!1,this.hasRecord=!1,this.dialogFormGroup=null}ngOnInit(){this.writerForm=new tn({reminderState:new Qe("off",[]),note:new Qe("",[]),firstName:new Qe("",[]),lastName:new Qe("",[]),telephone:new Qe("",[]),secondTelephone:new Qe("",[]),email:new Qe("",[]),city:new Qe("",[]),street:new Qe("",[]),coordinates:new Qe,streetNumber:new Qe("",[]),apartmentNumber:new Qe("",[]),profileImage:new Qe("../../assets/icons/Symbol 216 \u2013 66.svg",[]),startDate:new tn({gregorianDate:new Qe("",[]),hebrewDateInWords:new Qe("",[])}),isAppropriate:new tn({level:new Qe("",[]),note:new Qe("",[])}),pricesDeatails:new tn({isPricePerPage:new Qe('\u05d1\u05d7\u05e8 \u05e2\u05de\u05d5\u05d3 \u05d0\u05d5 \u05e1"\u05ea'),priceForTorahScroll:new tn({price:new Qe("",[]),worthIt:new Qe("",[]),note:new Qe("",[])}),priceForMezuzah:new tn({price:new Qe("",[]),worthIt:new Qe("",[]),note:new Qe("",[])}),priceForTefillin:new tn({price:new Qe("",[]),worthIt:new Qe("",[]),note:new Qe("",[])})}),writingDeatails:new tn({letterSizes:new tn({17:new Qe(!1,[]),24:new Qe(!1,[]),30:new Qe(!1,[]),36:new Qe(!1,[]),40:new Qe(!1,[]),42:new Qe(!1,[]),45:new Qe(!1,[]),48:new Qe(!1,[]),note:new Qe("",[])}),writingLevel:new tn({level:new Qe("",[]),note:new Qe("",[])}),stabilityLevel:new tn({level:new Qe("",[]),note:new Qe("",[])}),eraseLevel:new tn({level:new Qe("",[]),note:new Qe("",[])}),writingTypes:new tn({types:new tn({ari:new Qe(!1,[]),beitYosef:new Qe(!1,[]),Welish:new Qe(!1,[])}),note:new Qe("",[])})}),communityDeatails:new tn({community:new Qe("",[]),note:new Qe("",[])}),placeOfWriting:new tn({place:new Qe("",[]),note:new Qe("",[])}),additionalDetails:new tn({hasWritenBefore:new tn({boolean:new Qe("",[]),note:new Qe("",[])}),hasWritenKabala:new tn({boolean:new Qe("",[]),note:new Qe("",[])}),voatsInElection:new tn({boolean:new Qe("",[]),note:new Qe("",[])}),goesToKotel:new tn({boolean:new Qe("",[]),note:new Qe("",[])}),beginnerWriter:new tn({boolean:new Qe("",[]),note:new Qe("",[])}),writerLevel:new tn({level:new Qe("",[]),note:new Qe("",[])})}),photos:new en([]),recordings:new en([])}),this.stitchService.getCities(),this.stitchService.getCommunities(),this.citiesFromDBSubscription=this.stitchService.citiesFromDB.subscribe(t=>this.citiesFromDB=t),this.communitiesFromDBSubscription=this.stitchService.communitiesFromDB.subscribe(t=>this.communitiesFromDB=t)}ngAfterViewInit(){this.googleMapsService.getCurrentCoordinates().then(t=>{this.googleMapsService.reverseGeocoder(t).then(e=>{try{const n={city:e.address_components.find(t=>t.types.includes("locality")).long_name,street:e.address_components.find(t=>t.types.includes("route")).long_name,streetNumber:e.address_components.find(t=>t.types.includes("street_number")).long_name};this.writerForm.controls.city.setValue(n.city),this.writerForm.controls.street.setValue(n.street),this.writerForm.controls.streetNumber.setValue(n.streetNumber),this.writerForm.controls.coordinates.setValue(t)}catch(n){}})})}openDialog(t){this.dialogFormGroup=t}closeDialogAndDeleteChanges(t){this.dialogFormGroup.controls.note.setValue(t),this.dialogFormGroup=null}HelperAbstractControlToFormGroup(t){return t}closeDialog(){this.dialogFormGroup=null}onAddProfileImage(t){Yo(t).then(t=>{this.writerForm.controls.profileImage.setValue(t)}).catch(t=>{console.log(t)})}onAddPhoto(t){Yo(t).then(t=>{this.writerForm.controls.photos.push(new Qe(t))}).catch(t=>{console.log(t)})}startRecording(){this.recordingService.startRecording().then(()=>{this.isRecording=!0}).catch(t=>{console.log(t)})}stopRecording(){this.isRecording=!1,this.hasRecord=!0,this.recordingService.stopRecording().then(t=>{this.recordingService.convertRecordingToBase64(t).then(t=>{this.writerForm.controls.recordings.push(new Qe("data:audio/wav;base64"+t.split("base64")[1]))})}).catch(t=>{console.log(t)})}deleteRecording(t){this.writerForm.controls.recordings.removeAt(t)}onSubmit(){this.stitchService.createWriter(this.writerForm.value)}ngOnDestroy(){this.citiesFromDBSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Kd),r.Kb(Gd),r.Kb(Xd),r.Kb(Ut))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-edit-writer"]],decls:333,vars:229,consts:[[3,"formGroup","closeDialogAndDeleteChanges","closeDialog",4,"ngIf"],[1,"edit-writer-wrapper"],[1,"page-grid",3,"formGroup"],[1,"profile-image-section","inner-grid"],["id","profileImage","type","file","accept","image/*","value","\u05d4\u05d5\u05e1\u05e3 \u05ea\u05de\u05d5\u05e0\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",1,"circle-image",2,"display","none",3,"change"],["for","profileImage",1,"bold-text"],["class","profile-image",3,"src",4,"ngIf"],[1,"personal-detail-section","inner-grid"],[1,"section-title"],[1,"note",3,"click"],["src","../../assets/icons/Edit.svg","alt",""],["placeholder","\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9","formControlName","firstName"],["placeholder","\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4","formControlName","lastName"],["placeholder","\u05d8\u05dc\u05e4\u05d5\u05df","formControlName","telephone"],["placeholder","\u05d8\u05dc\u05e4\u05d5\u05df \u05e0\u05d5\u05e1\u05e3","formControlName","secondTelephone"],["placeholder","\u05d0\u05d9\u05de\u05d9\u05d9\u05dc","formControlName","email"],["list","cities","placeholder","\u05e2\u05d9\u05e8","formControlName","city"],["id","cities"],[3,"value",4,"ngFor","ngForOf"],["placeholder","\u05e8\u05d7\u05d5\u05d1","formControlName","street"],["placeholder","\u05de\u05e1\u05e4\u05e8 \u05d1\u05e0\u05d9\u05df","formControlName","streetNumber"],["placeholder","\u05de\u05e1\u05e4\u05e8 \u05d1\u05d9\u05ea","formControlName","apartmentNumber"],[1,"start-date-section"],[3,"parentForm"],["formGroupName","isAppropriate",1,"is-appropriate-section"],[1,"is-appropriate-radio-buttons-wraper","inner-grid"],[1,"level-checkbox",3,"ngClass"],["type","radio","formControlName","level","value","\u05dc\u05d0 \u05de\u05ea\u05d0\u05d9\u05dd"],["type","radio","formControlName","level","value","\u05de\u05ea\u05d0\u05d9\u05dd"],["type","radio","formControlName","level","value","\u05db\u05d3\u05d0\u05d9 \u05de\u05d0\u05d5\u05d3"],["formGroupName","pricesDeatails",1,"price-deatail-section","inner-grid"],[1,"type-of-price-selection-wrapper","inner-grid-2"],[1,"box-checkbox",3,"ngClass"],["type","radio","formControlName","isPricePerPage","value","\u05de\u05d7\u05d9\u05e8 \u05dc\u05e2\u05de\u05d5\u05d3"],["type","radio","formControlName","isPricePerPage","value","\u05de\u05d7\u05d9\u05e8 \u05dc\u05e1\u05e4\u05e8 \u05ea\u05d5\u05e8\u05d4"],[1,"prices-input-wrapper","inner-grid-2"],["formGroupName","priceForTorahScroll",1,"price-for-item","inner-grid-2"],["formControlName","price",3,"placeholder"],[1,"worth-it-buttons-wrapper","inner-grid-2"],[1,"size-checkbox",3,"ngClass"],["src","../../assets/icons/x.png","alt",""],["type","radio","formControlName","worthIt","value","false"],["src","../../assets/icons/v.png","alt",""],["type","radio","formControlName","worthIt","value","true"],["formGroupName","priceForMezuzah",1,"price-for-item","inner-grid-2"],["placeholder","\u05de\u05d7\u05d9\u05e8 \u05dc\u05de\u05d6\u05d5\u05d6\u05d4","formControlName","price"],["formGroupName","priceForTefillin",1,"price-for-item","inner-grid-2"],["placeholder","\u05de\u05d7\u05d9\u05e8 \u05dc\u05ea\u05e4\u05d9\u05dc\u05d9\u05df","formControlName","price"],["formGroupName","writingDeatails",1,"writing-detail-section","inner-grid"],["formGroupName","writingLevel",1,"writing-level","inner-grid-2"],[1,"number-button-wrapper","inner-grid-2"],["type","radio","formControlName","level","value","\u05d6\u05d5\u05dc"],["type","radio","formControlName","level","value","\u05e4\u05d7\u05d5\u05ea\u05d4"],["type","radio","formControlName","level","value","\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9"],["type","radio","formControlName","level","value","\u05d2\u05d1\u05d5\u05d4\u05d4"],["type","radio","formControlName","level","value","\u05de\u05d9\u05d5\u05d7\u05d3"],["formGroupName","stabilityLevel",1,"stability-level","inner-grid-2"],["ass","note",3,"click"],["type","radio","formControlName","level","value","1"],["type","radio","formControlName","level","value","2"],["type","radio","formControlName","level","value","3"],["type","radio","formControlName","level","value","4"],["type","radio","formControlName","level","value","5"],["formGroupName","eraseLevel",1,"erase-level","inner-grid-2"],[1,"letter-sizes-wrapper"],["formGroupName","letterSizes",1,"inner-grid-2"],[1,"sizes-row","inner-grid-2"],["type","checkbox","formControlName","17"],["type","checkbox","formControlName","24"],["type","checkbox","formControlName","30"],["type","checkbox","formControlName","36"],["type","checkbox","formControlName","40"],["type","checkbox","formControlName","42"],["type","checkbox","formControlName","45"],["type","checkbox","formControlName","48"],["formGroupName","writingTypes"],["formGroupName","types",1,"writing-types","inner-grid-2"],["type","checkbox","formControlName","ari"],["type","checkbox","formControlName","beitYosef"],["type","checkbox","formControlName","Welish"],["formGroupName","communityDeatails"],["list","communities","placeholder","\u05e7\u05d4\u05d9\u05dc\u05d4","formControlName","community",1,"full-width"],["id","communities"],["formGroupName","placeOfWriting",1,"writing-location-section","inner-grid"],["type","radio","formControlName","place","value","\u05d1\u05d9\u05ea"],["type","radio","formControlName","place","value","\u05d0\u05d7\u05e8"],["formGroupName","additionalDetails",1,"additional-details-section","inner-grid"],["formGroupName","hasWritenBefore",1,"additional-detail","inner-grid-2"],[1,"description"],["type","radio","formControlName","boolean","value","false"],["type","radio","formControlName","boolean","value","true"],["formGroupName","hasWritenKabala",1,"additional-detail","inner-grid-2"],["formGroupName","voatsInElection",1,"additional-detail","inner-grid-2"],["formGroupName","goesToKotel",1,"additional-detail","inner-grid-2"],["formGroupName","beginnerWriter",1,"additional-detail","inner-grid-2"],["formGroupName","additionalDetails"],["formGroupName","writerLevel",1,"additional-detail","inner-grid-2"],["formArrayName","photos",1,"photo-section"],["for","addPhoto"],["id","addPhoto","type","file","accept","image/*",2,"display","none",3,"change"],[4,"ngFor","ngForOf"],[1,"recording-section"],["for","click",3,"click",4,"ngIf"],[3,"click",4,"ngIf"],[4,"ngIf"],[1,"add-sofer-button",3,"disabled","click"],[3,"formGroup","closeDialogAndDeleteChanges","closeDialog"],[1,"profile-image",3,"src"],[3,"value"],["class","img",3,"src",4,"ngIf"],[1,"img",3,"src"],["for","click",3,"click"],[3,"click"],["controls","","class","img",3,"src",4,"ngIf"],["controls","",1,"img",3,"src"]],template:function(t,e){1&t&&(r.wc(0,Vm,1,1,"app-note-dialog",0),r.Pb(1,"div",1),r.Pb(2,"form",2),r.Pb(3,"div",3),r.Pb(4,"input",4),r.ac("change",(function(t){return e.onAddProfileImage(t.target.files[0])})),r.Ob(),r.Pb(5,"label",5),r.wc(6,qm,1,1,"img",6),r.yc(7," \u05d4\u05d5\u05e1\u05e3 \u05ea\u05de\u05d5\u05e0\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc "),r.Ob(),r.Ob(),r.Pb(8,"div",7),r.Pb(9,"div",8),r.yc(10,"\u05e4\u05e8\u05d8\u05d9\u05dd \u05d0\u05d9\u05e9\u05d9\u05d9\u05dd"),r.Ob(),r.Pb(11,"p",9),r.ac("click",(function(){return e.openDialog(e.writerForm)})),r.Lb(12,"img",10),r.Ob(),r.Lb(13,"input",11),r.Lb(14,"input",12),r.Lb(15,"input",13),r.Lb(16,"input",14),r.Lb(17,"input",15),r.Lb(18,"input",16),r.Pb(19,"datalist",17),r.wc(20,zm,1,1,"option",18),r.Ob(),r.Lb(21,"input",19),r.Lb(22,"input",20),r.Lb(23,"input",21),r.Ob(),r.Pb(24,"div",22),r.Lb(25,"app-hebrew-date-form-control",23),r.Ob(),r.Pb(26,"div",24),r.Pb(27,"div",25),r.Pb(28,"div",8),r.yc(29," \u05de\u05d9\u05d3\u05ea \u05d4\u05ea\u05d0\u05de\u05d4 "),r.Ob(),r.Pb(30,"div"),r.Pb(31,"label",26),r.Lb(32,"input",27),r.yc(33," 1 "),r.Ob(),r.Ob(),r.Pb(34,"div"),r.Pb(35,"label",26),r.Lb(36,"input",28),r.yc(37," 2 "),r.Ob(),r.Ob(),r.Pb(38,"div"),r.Pb(39,"label",26),r.Lb(40,"input",29),r.yc(41," 3 "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(42,"div",30),r.Pb(43,"div",8),r.yc(44," \u05de\u05d7\u05d9\u05e8\u05d9\u05dd "),r.Ob(),r.Pb(45,"div",31),r.Pb(46,"div"),r.Pb(47,"label",32),r.Lb(48,"input",33),r.yc(49," \u05de\u05d7\u05d9\u05e8 \u05dc\u05e2\u05de\u05d5\u05d3 "),r.Ob(),r.Ob(),r.Pb(50,"div"),r.Pb(51,"label",32),r.Lb(52,"input",34),r.yc(53,' \u05de\u05d7\u05d9\u05e8 \u05dc\u05e1"\u05ea '),r.Ob(),r.Ob(),r.Ob(),r.Pb(54,"div",35),r.Pb(55,"div",36),r.Lb(56,"input",37),r.Pb(57,"div",38),r.Pb(58,"label",39),r.Lb(59,"img",40),r.Lb(60,"input",41),r.Ob(),r.Pb(61,"label",39),r.Lb(62,"img",42),r.Lb(63,"input",43),r.Ob(),r.Pb(64,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["pricesDeatails","priceForTorahScroll"])))})),r.Lb(65,"img",10),r.Ob(),r.Ob(),r.Ob(),r.Pb(66,"div",44),r.Lb(67,"input",45),r.Pb(68,"div",38),r.Pb(69,"label",39),r.Lb(70,"img",40),r.Lb(71,"input",41),r.Ob(),r.Pb(72,"label",39),r.Lb(73,"img",42),r.Lb(74,"input",43),r.Ob(),r.Pb(75,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["pricesDeatails","priceForMezuzah"])))})),r.Lb(76,"img",10),r.Ob(),r.Ob(),r.Ob(),r.Pb(77,"div",46),r.Lb(78,"input",47),r.Pb(79,"div",38),r.Pb(80,"label",39),r.Lb(81,"img",40),r.Lb(82,"input",41),r.Ob(),r.Pb(83,"label",39),r.Lb(84,"img",42),r.Lb(85,"input",43),r.Ob(),r.Pb(86,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["pricesDeatails","priceForTefillin"])))})),r.Lb(87,"img",10),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(88,"div",48),r.Pb(89,"div",49),r.Pb(90,"div",8),r.yc(91," \u05d3\u05e8\u05d2\u05ea \u05db\u05ea\u05d9\u05d1\u05d4 "),r.Ob(),r.Pb(92,"div",50),r.Pb(93,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["writingDeatails","writingLevel"])))})),r.Lb(94,"img",10),r.Ob(),r.Pb(95,"div"),r.Pb(96,"label",26),r.Lb(97,"input",51),r.yc(98," 1 "),r.Ob(),r.Ob(),r.Pb(99,"div"),r.Pb(100,"label",26),r.Lb(101,"input",52),r.yc(102," 2 "),r.Ob(),r.Ob(),r.Pb(103,"div"),r.Pb(104,"label",26),r.Lb(105,"input",53),r.yc(106," 3 "),r.Ob(),r.Ob(),r.Pb(107,"div"),r.Pb(108,"label",26),r.Lb(109,"input",54),r.yc(110," 4 "),r.Ob(),r.Ob(),r.Pb(111,"div"),r.Pb(112,"label",26),r.Lb(113,"input",55),r.yc(114," 5 "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(115,"div",56),r.Pb(116,"p",57),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["writingDeatails","stabilityLevel"])))})),r.Lb(117,"img",10),r.Ob(),r.Pb(118,"div",8),r.yc(119," \u05d9\u05e6\u05d9\u05d1\u05d5\u05ea "),r.Ob(),r.Pb(120,"div",50),r.Pb(121,"div"),r.Pb(122,"label",26),r.Lb(123,"input",58),r.yc(124," 1 "),r.Ob(),r.Ob(),r.Pb(125,"div"),r.Pb(126,"label",26),r.Lb(127,"input",59),r.yc(128," 2 "),r.Ob(),r.Ob(),r.Pb(129,"div"),r.Pb(130,"label",26),r.Lb(131,"input",60),r.yc(132," 3 "),r.Ob(),r.Ob(),r.Pb(133,"div"),r.Pb(134,"label",26),r.Lb(135,"input",61),r.yc(136," 4 "),r.Ob(),r.Ob(),r.Pb(137,"div"),r.Pb(138,"label",26),r.Lb(139,"input",62),r.yc(140," 5 "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(141,"div",63),r.Pb(142,"p",57),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["writingDeatails","eraseLevel"])))})),r.Lb(143,"img",10),r.Ob(),r.Pb(144,"div",8),r.yc(145," \u05de\u05d7\u05d9\u05e7\u05d4 "),r.Ob(),r.Pb(146,"div",50),r.Pb(147,"div"),r.Pb(148,"label",26),r.Lb(149,"input",58),r.yc(150," 1 "),r.Ob(),r.Ob(),r.Pb(151,"div"),r.Pb(152,"label",26),r.Lb(153,"input",59),r.yc(154," 2 "),r.Ob(),r.Ob(),r.Pb(155,"div"),r.Pb(156,"label",26),r.Lb(157,"input",60),r.yc(158," 3 "),r.Ob(),r.Ob(),r.Pb(159,"div"),r.Pb(160,"label",26),r.Lb(161,"input",61),r.yc(162," 4 "),r.Ob(),r.Ob(),r.Pb(163,"div"),r.Pb(164,"label",26),r.Lb(165,"input",62),r.yc(166," 5 "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(167,"div",48),r.Pb(168,"div",64),r.Pb(169,"div",65),r.Pb(170,"div",8),r.yc(171," \u05d2\u05d5\u05d3\u05dc \u05d4\u05db\u05ea\u05d1 "),r.Ob(),r.Pb(172,"div",66),r.Pb(173,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["writingDeatails","letterSizes"])))})),r.Lb(174,"img",10),r.Ob(),r.Pb(175,"label",39),r.Lb(176,"input",67),r.yc(177," 17 "),r.Ob(),r.Pb(178,"label",39),r.Lb(179,"input",68),r.yc(180," 24 "),r.Ob(),r.Pb(181,"label",39),r.Lb(182,"input",69),r.yc(183," 30 "),r.Ob(),r.Pb(184,"label",39),r.Lb(185,"input",70),r.yc(186," 36 "),r.Ob(),r.Ob(),r.Pb(187,"div",66),r.Pb(188,"label",39),r.Lb(189,"input",71),r.yc(190," 40 "),r.Ob(),r.Pb(191,"label",39),r.Lb(192,"input",72),r.yc(193," 42 "),r.Ob(),r.Pb(194,"label",39),r.Lb(195,"input",73),r.yc(196," 45 "),r.Ob(),r.Pb(197,"label",39),r.Lb(198,"input",74),r.yc(199," 48 "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(200,"div",48),r.Pb(201,"div",75),r.Pb(202,"div",76),r.Pb(203,"div",8),r.yc(204," \u05e1\u05d5\u05d2 \u05d4\u05db\u05ea\u05d1 "),r.Ob(),r.Pb(205,"div"),r.Pb(206,"label",32),r.yc(207,' \u05d0\u05e8"\u05d9 '),r.Lb(208,"input",77),r.Ob(),r.Ob(),r.Pb(209,"div"),r.Pb(210,"label",32),r.yc(211," \u05d1\u05d9\u05ea \u05d9\u05d5\u05e1\u05e3 "),r.Lb(212,"input",78),r.Ob(),r.Ob(),r.Pb(213,"div"),r.Pb(214,"label",32),r.yc(215," \u05d5\u05d5\u05e2\u05dc\u05d9\u05e9 "),r.Lb(216,"input",79),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(217,"div",80),r.Pb(218,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["communityDeatails"])))})),r.Lb(219,"img",10),r.Ob(),r.Lb(220,"input",81),r.Pb(221,"datalist",82),r.wc(222,Wm,1,1,"option",18),r.Ob(),r.Ob(),r.Pb(223,"div",83),r.Pb(224,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["placeOfWriting"])))})),r.Lb(225,"img",10),r.Ob(),r.Pb(226,"div",8),r.yc(227," \u05de\u05e7\u05d5\u05dd \u05db\u05ea\u05d9\u05d1\u05d4 "),r.Ob(),r.Pb(228,"div"),r.Pb(229,"label",32),r.yc(230," \u05d1\u05d9\u05ea "),r.Lb(231,"input",84),r.Ob(),r.Ob(),r.Pb(232,"div"),r.Pb(233,"label",32),r.yc(234," \u05d0\u05d7\u05e8 "),r.Lb(235,"input",85),r.Ob(),r.Ob(),r.Ob(),r.Pb(236,"div",86),r.Pb(237,"div",8),r.yc(238," \u05e4\u05e8\u05d8\u05d9\u05dd \u05e0\u05d5\u05e1\u05e4\u05d9\u05dd "),r.Ob(),r.Pb(239,"div"),r.Pb(240,"div",87),r.Pb(241,"div",88),r.yc(242," \u05db\u05ea\u05d1 \u05e1\u05e4\u05e8\u05d9\u05dd \u05d1\u05e2\u05d1\u05e8 "),r.Ob(),r.Pb(243,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["additionalDetails","hasWritenBefore"])))})),r.Lb(244,"img",10),r.Ob(),r.Pb(245,"label",39),r.Lb(246,"img",40),r.Lb(247,"input",89),r.Ob(),r.Pb(248,"label",39),r.Lb(249,"img",42),r.Lb(250,"input",90),r.Ob(),r.Ob(),r.Pb(251,"div",91),r.Pb(252,"div",88),r.yc(253," \u05db\u05ea\u05d1 \u05e7\u05d1\u05dc\u05d4 "),r.Ob(),r.Pb(254,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["additionalDetails","hasWritenBefore"])))})),r.Lb(255,"img",10),r.Ob(),r.Pb(256,"label",39),r.Lb(257,"img",40),r.Lb(258,"input",89),r.Ob(),r.Pb(259,"label",39),r.Lb(260,"img",42),r.Lb(261,"input",90),r.Ob(),r.Ob(),r.Pb(262,"div",92),r.Pb(263,"div",88),r.yc(264," \u05d1\u05d7\u05d9\u05e8\u05d5\u05ea "),r.Ob(),r.Pb(265,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["additionalDetails","voatsInElection"])))})),r.Lb(266,"img",10),r.Ob(),r.Pb(267,"label",39),r.Lb(268,"img",40),r.Lb(269,"input",89),r.Ob(),r.Pb(270,"label",39),r.Lb(271,"img",42),r.Lb(272,"input",90),r.Ob(),r.Ob(),r.Pb(273,"div",93),r.Pb(274,"div",88),r.yc(275," \u05d4\u05d5\u05dc\u05da \u05dc\u05db\u05d5\u05ea\u05dc "),r.Ob(),r.Pb(276,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["additionalDetails","goesToKotel"])))})),r.Lb(277,"img",10),r.Ob(),r.Pb(278,"label",39),r.Lb(279,"img",40),r.Lb(280,"input",89),r.Ob(),r.Pb(281,"label",39),r.Lb(282,"img",42),r.Lb(283,"input",90),r.Ob(),r.Ob(),r.Pb(284,"div",94),r.Pb(285,"div",88),r.yc(286," \u05e1\u05d5\u05e4\u05e8 \u05de\u05ea\u05d7\u05d9\u05dc "),r.Ob(),r.Pb(287,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["additionalDetails","beginnerWriter"])))})),r.Lb(288,"img",10),r.Ob(),r.Pb(289,"label",39),r.Lb(290,"img",40),r.Lb(291,"input",89),r.Ob(),r.Pb(292,"label",39),r.Lb(293,"img",42),r.Lb(294,"input",90),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(295,"div",95),r.Pb(296,"div"),r.Pb(297,"div",96),r.Pb(298,"div",8),r.yc(299," \u05d3\u05e8\u05d2\u05ea \u05e1\u05d5\u05e4\u05e8 "),r.Ob(),r.Pb(300,"p",9),r.ac("click",(function(){return e.openDialog(e.HelperAbstractControlToFormGroup(e.writerForm.get(["additionalDetails","writerLevel"])))})),r.Lb(301,"img",10),r.Ob(),r.Pb(302,"div"),r.Pb(303,"label",26),r.Lb(304,"input",58),r.yc(305," 1 "),r.Ob(),r.Ob(),r.Pb(306,"div"),r.Pb(307,"label",26),r.Lb(308,"input",59),r.yc(309," 2 "),r.Ob(),r.Ob(),r.Pb(310,"div"),r.Pb(311,"label",26),r.Lb(312,"input",60),r.yc(313," 3 "),r.Ob(),r.Ob(),r.Pb(314,"div"),r.Pb(315,"label",26),r.Lb(316,"input",61),r.yc(317," 4 "),r.Ob(),r.Ob(),r.Pb(318,"div"),r.Pb(319,"label",26),r.Lb(320,"input",62),r.yc(321," 5 "),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(322,"div",97),r.Pb(323,"label",98),r.yc(324," \u05d4\u05d5\u05e1\u05e3 \u05ea\u05de\u05d5\u05e0\u05d4 "),r.Pb(325,"input",99),r.ac("change",(function(t){return e.onAddPhoto(t.target.files[0])})),r.Ob(),r.Ob(),r.wc(326,Km,2,1,"div",100),r.Ob(),r.Pb(327,"div",101),r.wc(328,Gm,3,0,"label",102),r.wc(329,Xm,2,0,"div",103),r.wc(330,Zm,2,1,"div",104),r.Ob(),r.Pb(331,"button",105),r.ac("click",(function(){return e.onSubmit()})),r.yc(332,"\u05d4\u05d5\u05e1\u05e3 \u05e1\u05d5\u05e4\u05e8 \u05dc\u05de\u05d0\u05d2\u05e8"),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.hc("ngIf",null!==e.dialogFormGroup),r.xb(2),r.hc("formGroup",e.writerForm),r.xb(4),r.hc("ngIf",e.writerForm.controls.profileImage.value),r.xb(14),r.hc("ngForOf",e.citiesFromDB),r.xb(5),r.hc("parentForm",e.writerForm),r.xb(6),r.hc("ngClass",r.lc(67,tb,"\u05dc\u05d0 \u05de\u05ea\u05d0\u05d9\u05dd"===e.writerForm.get(r.kc(66,Qm)).value)),r.xb(4),r.hc("ngClass",r.lc(70,tb,"\u05de\u05ea\u05d0\u05d9\u05dd"===e.writerForm.get(r.kc(69,Qm)).value)),r.xb(4),r.hc("ngClass",r.lc(73,tb,"\u05db\u05d3\u05d0\u05d9 \u05de\u05d0\u05d5\u05d3"===e.writerForm.get(r.kc(72,Qm)).value)),r.xb(8),r.hc("ngClass",r.lc(76,nb,"\u05de\u05d7\u05d9\u05e8 \u05dc\u05e2\u05de\u05d5\u05d3"===e.writerForm.get(r.kc(75,eb)).value)),r.xb(4),r.hc("ngClass",r.lc(79,nb,"\u05de\u05d7\u05d9\u05e8 \u05dc\u05e1\u05e4\u05e8 \u05ea\u05d5\u05e8\u05d4"===e.writerForm.get(r.kc(78,eb)).value)),r.xb(5),r.hc("placeholder",e.writerForm.get(r.kc(81,eb)).value),r.xb(2),r.hc("ngClass",r.lc(83,tb,"false"===e.writerForm.get(r.kc(82,rb)).value)),r.xb(3),r.hc("ngClass",r.lc(86,tb,"true"===e.writerForm.get(r.kc(85,rb)).value)),r.xb(8),r.hc("ngClass",r.lc(89,tb,"false"===e.writerForm.get(r.kc(88,ib)).value)),r.xb(3),r.hc("ngClass",r.lc(92,tb,"true"===e.writerForm.get(r.kc(91,ib)).value)),r.xb(8),r.hc("ngClass",r.lc(95,tb,"false"===e.writerForm.get(r.kc(94,ob)).value)),r.xb(3),r.hc("ngClass",r.lc(98,tb,"true"===e.writerForm.get(r.kc(97,ob)).value)),r.xb(13),r.hc("ngClass",r.lc(101,tb,"\u05d6\u05d5\u05dc"===e.writerForm.get(r.kc(100,sb)).value)),r.xb(4),r.hc("ngClass",r.lc(104,tb,"\u05e4\u05d7\u05d5\u05ea\u05d4"===e.writerForm.get(r.kc(103,sb)).value)),r.xb(4),r.hc("ngClass",r.lc(107,tb,"\u05d1\u05d9\u05e0\u05d5\u05e0\u05d9"===e.writerForm.get(r.kc(106,sb)).value)),r.xb(4),r.hc("ngClass",r.lc(110,tb,"\u05d2\u05d1\u05d5\u05d4\u05d4"===e.writerForm.get(r.kc(109,sb)).value)),r.xb(4),r.hc("ngClass",r.lc(113,tb,"\u05de\u05d9\u05d5\u05d7\u05d3"===e.writerForm.get(r.kc(112,sb)).value)),r.xb(10),r.hc("ngClass",r.lc(116,tb,"1"===e.writerForm.get(r.kc(115,ab)).value)),r.xb(4),r.hc("ngClass",r.lc(119,tb,"2"===e.writerForm.get(r.kc(118,ab)).value)),r.xb(4),r.hc("ngClass",r.lc(122,tb,"3"===e.writerForm.get(r.kc(121,ab)).value)),r.xb(4),r.hc("ngClass",r.lc(125,tb,"4"===e.writerForm.get(r.kc(124,ab)).value)),r.xb(4),r.hc("ngClass",r.lc(128,tb,"5"===e.writerForm.get(r.kc(127,ab)).value)),r.xb(10),r.hc("ngClass",r.lc(131,tb,"1"===e.writerForm.get(r.kc(130,cb)).value)),r.xb(4),r.hc("ngClass",r.lc(134,tb,"2"===e.writerForm.get(r.kc(133,cb)).value)),r.xb(4),r.hc("ngClass",r.lc(137,tb,"3"===e.writerForm.get(r.kc(136,cb)).value)),r.xb(4),r.hc("ngClass",r.lc(140,tb,"4"===e.writerForm.get(r.kc(139,cb)).value)),r.xb(4),r.hc("ngClass",r.lc(143,tb,"5"===e.writerForm.get(r.kc(142,cb)).value)),r.xb(11),r.hc("ngClass",r.lc(146,tb,e.writerForm.get(r.kc(145,ub)).value)),r.xb(3),r.hc("ngClass",r.lc(149,tb,e.writerForm.get(r.kc(148,lb)).value)),r.xb(3),r.hc("ngClass",r.lc(152,tb,e.writerForm.get(r.kc(151,hb)).value)),r.xb(3),r.hc("ngClass",r.lc(155,tb,e.writerForm.get(r.kc(154,fb)).value)),r.xb(4),r.hc("ngClass",r.lc(158,tb,e.writerForm.get(r.kc(157,db)).value)),r.xb(3),r.hc("ngClass",r.lc(161,tb,e.writerForm.get(r.kc(160,pb)).value)),r.xb(3),r.hc("ngClass",r.lc(164,tb,e.writerForm.get(r.kc(163,gb)).value)),r.xb(3),r.hc("ngClass",r.lc(167,tb,e.writerForm.get(r.kc(166,mb)).value)),r.xb(9),r.hc("ngClass",r.lc(170,tb,e.writerForm.get(r.kc(169,bb)).value)),r.xb(4),r.hc("ngClass",r.lc(173,tb,e.writerForm.get(r.kc(172,yb)).value)),r.xb(4),r.hc("ngClass",r.lc(176,tb,e.writerForm.get(r.kc(175,_b)).value)),r.xb(8),r.hc("ngForOf",e.communitiesFromDB),r.xb(7),r.hc("ngClass",r.lc(179,tb,"\u05d1\u05d9\u05ea"===e.writerForm.get(r.kc(178,vb)).value)),r.xb(4),r.hc("ngClass",r.lc(182,tb,"\u05d0\u05d7\u05e8"===e.writerForm.get(r.kc(181,vb)).value)),r.xb(12),r.hc("ngClass",r.lc(185,tb,"false"===e.writerForm.get(r.kc(184,wb)).value)),r.xb(3),r.hc("ngClass",r.lc(188,tb,"true"===e.writerForm.get(r.kc(187,wb)).value)),r.xb(8),r.hc("ngClass",r.lc(191,tb,"false"===e.writerForm.get(r.kc(190,Ob)).value)),r.xb(3),r.hc("ngClass",r.lc(194,tb,"true"===e.writerForm.get(r.kc(193,Ob)).value)),r.xb(8),r.hc("ngClass",r.lc(197,tb,"false"===e.writerForm.get(r.kc(196,Eb)).value)),r.xb(3),r.hc("ngClass",r.lc(200,tb,"true"===e.writerForm.get(r.kc(199,Eb)).value)),r.xb(8),r.hc("ngClass",r.lc(203,tb,"false"===e.writerForm.get(r.kc(202,Sb)).value)),r.xb(3),r.hc("ngClass",r.lc(206,tb,"true"===e.writerForm.get(r.kc(205,Sb)).value)),r.xb(8),r.hc("ngClass",r.lc(209,tb,"false"===e.writerForm.get(r.kc(208,Ab)).value)),r.xb(3),r.hc("ngClass",r.lc(212,tb,"true"===e.writerForm.get(r.kc(211,Ab)).value)),r.xb(11),r.hc("ngClass",r.lc(215,tb,"1"===e.writerForm.get(r.kc(214,Cb)).value)),r.xb(4),r.hc("ngClass",r.lc(218,tb,"2"===e.writerForm.get(r.kc(217,Cb)).value)),r.xb(4),r.hc("ngClass",r.lc(221,tb,"3"===e.writerForm.get(r.kc(220,Cb)).value)),r.xb(4),r.hc("ngClass",r.lc(224,tb,"4"===e.writerForm.get(r.kc(223,Cb)).value)),r.xb(4),r.hc("ngClass",r.lc(227,tb,"5"===e.writerForm.get(r.kc(226,Cb)).value)),r.xb(7),r.hc("ngForOf",e.writerForm.controls.photos.controls),r.xb(2),r.hc("ngIf",!e.isRecording),r.xb(1),r.hc("ngIf",e.isRecording),r.xb(1),r.hc("ngIf",e.hasRecord),r.xb(1),r.hc("disabled",e.writerForm.invalid))},directives:[ot,on,le,cn,ne,ue,gn,rt,Fm,ln,et,Ce,Qt,fn,$m,je,Ue],styles:[".edit-writer-wrapper[_ngcontent-%COMP%]{background-color:#f7f7fa}.profile-image[_ngcontent-%COMP%]{width:10vw;-o-object-fit:cover;object-fit:cover}.page-grid[_ngcontent-%COMP%]{direction:rtl;text-align:right;display:grid;grid-template-columns:auto;grid-template-rows:repeat(11,auto);grid-gap:2vh;margin:0 4vw}.inner-grid[_ngcontent-%COMP%]{display:grid;grid-gap:1vh;padding:5vw;position:relative;box-shadow:0 3pt 6pt rgba(0,0,0,.16)}.inner-grid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:12vw;border-radius:8px;font-size:.8rem;padding-right:5vw;margin-bottom:2vw;color:#000}.inner-grid[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border:2px solid #d4a75d}.inner-grid-2[_ngcontent-%COMP%]{display:grid;grid-gap:3vw}.full-width[_ngcontent-%COMP%]{width:100%}.note[_ngcontent-%COMP%]{position:absolute;top:3.5vw;left:4vw}label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.section-title[_ngcontent-%COMP%]{grid-column:1/-1;color:#2a2e43;font-weight:700;margin-bottom:2vw;font-size:.9rem;font-family:Arial}.bold-text[_ngcontent-%COMP%]{color:#2699fb;font-weight:700}.page-grid[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background-color:#fff}.profile-image-section[_ngcontent-%COMP%]{grid-row:1/span 1;grid-template:auto/auto 1fr;align-items:center;grid-gap:5vw}.profile-image-section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:12vw;height:12vw}.circle-image[_ngcontent-%COMP%]{border-radius:100%}.personal-detail-section[_ngcontent-%COMP%]{grid-row:2/span 1}.start-date-section[_ngcontent-%COMP%]{grid-row:3/span 1}.is-appropriate-section[_ngcontent-%COMP%]{grid-row:4/span 1}.is-appropriate-radio-buttons-wraper[_ngcontent-%COMP%]{grid-row:2/span 1;grid-template:auto auto/1fr 1fr 1fr;justify-content:center;align-content:center}.price-deatail-section[_ngcontent-%COMP%]{grid-row:5/span 1}.type-of-price-selection-wrapper[_ngcontent-%COMP%]{grid-template:auto/1fr 1fr}.prices-input-wrapper[_ngcontent-%COMP%]{grid-template:auto auto auto/1fr}.price-for-item[_ngcontent-%COMP%]{grid-template:auto/repeat(6,1fr)}.price-for-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{grid-column:1/span 3}.worth-it-buttons-wrapper[_ngcontent-%COMP%]{grid-column:4/span 2;grid-template:auto/1fr 1fr;justify-items:center;align-items:center}.worth-it-buttons-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.writing-detail-section[_ngcontent-%COMP%]{grid-row:6/span 1;grid-row-gap:4vw}.letter-sizes-wrapper[_ngcontent-%COMP%]{padding-bottom:6vw;border-bottom:1px solid #000}.sizes-row[_ngcontent-%COMP%]{grid-template:auto/1fr 1fr 1fr 1fr;justify-items:center;direction:ltr}.sizes-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;align-items:center}.additional-details-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .prices-input-wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.sizes-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.size-checkbox[_ngcontent-%COMP%]{border-radius:100%}.level-checkbox[_ngcontent-%COMP%], .size-checkbox[_ngcontent-%COMP%]{height:10vw;width:10vw;background-color:#b4b4b4;color:#fff;text-align:center}.level-checkbox[_ngcontent-%COMP%]{border-radius:15%}label.level-checkbox[_ngcontent-%COMP%]{display:grid;align-items:center}.box-checkbox.checked[_ngcontent-%COMP%], .checked[_ngcontent-%COMP%]{background-color:#c89c5b}.box-checkbox.checked-blue[_ngcontent-%COMP%], .checked-blue[_ngcontent-%COMP%]{background-color:#2a2e43}.erase-level[_ngcontent-%COMP%], .stability-level[_ngcontent-%COMP%], .writing-level[_ngcontent-%COMP%]{padding-bottom:6vw;border-bottom:1px solid #000}.writing-types[_ngcontent-%COMP%]{grid-template:auto auto/auto auto auto}.writing-types[_ngcontent-%COMP%]   .checked[_ngcontent-%COMP%]{background-color:#c89c5b}.box-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.box-checkbox[_ngcontent-%COMP%]{background-color:#b4b4b4;color:#fff;text-align:center;padding:2vw 6vw;border-radius:4px}.writing-location-section[_ngcontent-%COMP%]{grid-row:7/span 1;grid:auto auto/1fr 1fr 1fr;justify-items:start}.writing-location-section[_ngcontent-%COMP%]   .box-checkbox[_ngcontent-%COMP%]{padding:2vw 6vw}.number-button-wrapper[_ngcontent-%COMP%]{grid-template:auto/repeat(5,1fr)}.additional-details-section[_ngcontent-%COMP%]{grid-row:8/span 1}.additional-details-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.additional-detail[_ngcontent-%COMP%]{grid:auto/repeat(5,1fr);margin-bottom:4vw;align-items:center}.description[_ngcontent-%COMP%]{grid-column:1/span 2;font-weight:700;color:#2a2e43;margin-bottom:2vw;font-size:.85rem;font-family:Arial}.photo-section[_ngcontent-%COMP%]{grid-row:9/span 1}.recording-section[_ngcontent-%COMP%]{grid-row:10/span 1}.add-sofer-button[_ngcontent-%COMP%]{grid-row:11/span 1}"]}),t})(),xb=(()=>{class t{constructor(){this.onToggleList=new Pn.a}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Ib(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",1),r.ac("click",(function(){return r.qc(t),r.cc().onItemClicked()})),r.yc(1),r.Ob()}if(2&t){const t=r.cc();r.xb(1),r.zc(t.listItem.listItemText)}}let Db=(()=>{class t{constructor(t){this.router=t,this.listIsClose=!1}ngOnInit(){}onItemClicked(){this.router.navigate([`/${this.listItem.listItemLink}`])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Do))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-list-item"]],inputs:{listIsClose:"listIsClose",listItem:"listItem"},decls:1,vars:1,consts:[["class","list-item",3,"click",4,"ngIf"],[1,"list-item",3,"click"]],template:function(t,e){1&t&&r.wc(0,Ib,2,1,"div",0),2&t&&r.hc("ngIf",!e.listIsClose)},directives:[ot],styles:[".list-item[_ngcontent-%COMP%]{background-color:#fff;width:80%;color:#2699fb;padding:10px 0;margin:10px auto}"]}),t})();function kb(t,e){if(1&t&&r.Lb(0,"app-list-item",4),2&t){const t=e.$implicit,n=r.cc();r.hc("listIsClose",n.listIsClose)("listItem",t)}}const Pb=function(t){return{"open-expandeable-list":t}};let Nb=(()=>{class t{constructor(t){this.expandableListService=t,this.listIsClose=!0}ngOnInit(){this.subscription=this.expandableListService.onToggleList.subscribe(()=>this.listIsClose=!0)}toogleList(){const t=this.listIsClose;this.expandableListService.onToggleList.next(),this.listIsClose=!t}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(xb))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-expandable-list"]],inputs:{listItems:"listItems",listTitle:"listTitle"},decls:5,vars:5,consts:[[1,"expandeable-list",3,"ngClass"],[1,"listTitle",3,"click"],[1,"app-list-wrapper"],[3,"listIsClose","listItem",4,"ngFor","ngForOf"],[3,"listIsClose","listItem"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"p",1),r.ac("click",(function(){return e.toogleList()})),r.yc(2),r.Ob(),r.Pb(3,"div",2),r.wc(4,kb,1,2,"app-list-item",3),r.Ob(),r.Ob()),2&t&&(r.hc("ngClass",r.lc(3,Pb,!e.listIsClose)),r.xb(2),r.zc(e.listTitle),r.xb(2),r.hc("ngForOf",e.listItems))},directives:[et,rt,Db],styles:[".hidden[_ngcontent-%COMP%]{display:none}.expandeable-list[_ngcontent-%COMP%]{width:80%;background-color:#bce0fd;border-color:#bce0fd;border-width:1px;margin:0 auto}.open-expandeable-list[_ngcontent-%COMP%]{padding-bottom:10px}.app-list-wrapper[_ngcontent-%COMP%]{margin:0 auto}.listTitle[_ngcontent-%COMP%]{background-color:#2699fb;padding:10px 0;color:#fff}[_nghost-%COMP%]{text-align:center;font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:12pt}"]}),t})();const Rb=function(){return{listItemLink:"/edit-writer",listItemText:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e1\u05d5\u05e4\u05e8 \u05d7\u05d3\u05e9"}},jb=function(){return{listItemLink:"/advanced-search",listItemText:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e1\u05d5\u05e4\u05e8 \u05dc\u05db\u05ea\u05d9\u05d1\u05d4"}},Mb=function(){return{listItemLink:"/writers-list-screen",listItemText:"\u05de\u05d0\u05d2\u05e8 \u05e1\u05d5\u05e4\u05e8\u05d9\u05dd"}},Bb=function(t,e,n){return[t,e,n]},Lb=function(){return{listItemLink:"/",listItemText:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e1\u05e4\u05e8 \u05d7\u05d3\u05e9"}},Ub=function(){return{listItemLink:"/",listItemText:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05e1\u05e4\u05e8 \u05dc\u05e8\u05db\u05d9\u05e9\u05d4"}},Fb=function(){return{listItemLink:"/",listItemText:"\u05de\u05d0\u05d2\u05e8 \u05e1\u05e4\u05e8\u05d9\u05dd"}},$b=function(){return{listItemLink:"/",listItemText:"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e1\u05d5\u05d7\u05e8 \u05d7\u05d3\u05e9"}},Vb=function(){return{listItemLink:"/",listItemText:"\u05de\u05d0\u05d2\u05e8 \u05e1\u05d5\u05d7\u05e8\u05d9\u05dd"}},qb=function(t,e){return[t,e]},zb=function(){return{listItemLink:"/",listItemText:"\u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea \u05e1\u05d5\u05e4\u05e8\u05d9\u05dd"}},Wb=function(){return{listItemLink:"/",listItemText:"\u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea \u05e1\u05e4\u05e8\u05d9\u05dd"}};let Hb=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home-page"]],decls:11,vars:28,consts:[[1,"homepage-head"],[1,"title-wrapper"],[1,"main-wrapper"],["listTitle","\u05e1\u05d5\u05e4\u05e8\u05d9\u05dd",1,"expandable-list",3,"listItems"],["listTitle","\u05e1\u05e4\u05e8\u05d9\u05dd",1,"expandable-list",3,"listItems"],["listTitle","\u05e1\u05d5\u05d7\u05e8\u05d9\u05dd",1,"expandable-list",3,"listItems"],["listTitle","\u05ea\u05d6\u05db\u05d5\u05e8\u05d5\u05ea",1,"expandable-list",3,"listItems"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"h1"),r.yc(3,"\u05d0\u05e9\u05d5\u05e8\u05d9\u05ea"),r.Ob(),r.Pb(4,"h2"),r.yc(5,"\u05de\u05d0\u05d2\u05e8 \u05d4\u05e1\u05d5\u05e4\u05e8\u05d9\u05dd \u05d5\u05d4\u05e1\u05e4\u05e8\u05d9\u05dd"),r.Ob(),r.Ob(),r.Ob(),r.Pb(6,"div",2),r.Lb(7,"app-expandable-list",3),r.Lb(8,"app-expandable-list",4),r.Lb(9,"app-expandable-list",5),r.Lb(10,"app-expandable-list",6),r.Ob()),2&t&&(r.xb(7),r.hc("listItems",r.nc(7,Bb,r.kc(4,Rb),r.kc(5,jb),r.kc(6,Mb))),r.xb(1),r.hc("listItems",r.nc(14,Bb,r.kc(11,Lb),r.kc(12,Ub),r.kc(13,Fb))),r.xb(1),r.hc("listItems",r.mc(20,qb,r.kc(18,$b),r.kc(19,Vb))),r.xb(1),r.hc("listItems",r.mc(25,qb,r.kc(23,zb),r.kc(24,Wb))))},directives:[Nb],styles:[".homepage-head[_ngcontent-%COMP%]{background-color:#2699fb;height:130px;margin-bottom:30px;display:flex;width:fixed;align-items:center;justify-content:center}.title-wrapper[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}h1[_ngcontent-%COMP%]{font-weight:700;font-size:2rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#fff;font-family:Arial,Helvetica,sans-serif;text-align:center;margin:0}h2[_ngcontent-%COMP%]{font-weight:500;font-size:16pt}"]}),t})();var Kb=n("kt0X");const Gb=Object(Kb.n)("[Writer] load Writer",Object(Kb.q)()),Xb=Object(Kb.n)("[Writer] Set Writer",Object(Kb.q)()),Yb=Object(Kb.n)("[Writers] load Writers List"),Jb=Object(Kb.n)("[Writers] Set Writers List",Object(Kb.q)());function Zb(t,e){if(1&t&&r.Lb(0,"img",2),2&t){const t=r.cc();r.hc("src",t.writer.profileImage,r.rc)}}let Qb=(()=>{class t{constructor(t,e){this.router=t,this._store$=e}ngOnInit(){}goToWriterDetails(){this._store$.dispatch(Gb({writerId:this.writer._id.toString()})),this.router.navigate(["/writer-details"])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Do),r.Kb(Kb.h))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-writer-list-item"]],inputs:{writer:"writer"},decls:4,vars:5,consts:[[1,"writer-list-item",3,"click"],[3,"src",4,"ngIf"],[3,"src"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.ac("click",(function(){return e.goToWriterDetails()})),r.Pb(1,"div"),r.yc(2),r.Ob(),r.wc(3,Zb,1,1,"img",1),r.Ob()),2&t&&(r.xb(2),r.Cc(" ",e.writer.firstName," ",e.writer.lastName," ",e.writer.telephone," ",e.writer.startDate.hebrewDateInWords," "),r.xb(1),r.hc("ngIf",e.writer.profileImage))},directives:[ot],styles:[".writer-list-item[_ngcontent-%COMP%]{border:1px solid #bce0fd;display:flex;flex-direction:row;direction:rtl;height:70px;background-color:#f1f9ff;font-size:16pt;font-family:Arial,Helvetica,sans-serif;font-weight:700;color:#2699fb}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{max-height:40px;max-width:40px;border-radius:100%;display:block;margin:0 20px}"]}),t})();function ty(t,e){1&t&&r.Lb(0,"app-writer-list-item",2),2&t&&r.hc("writer",e.$implicit)}let ey=(()=>{class t{constructor(t,e){this.stitchService=t,this._store$=e,this.writersToDisplay=[],this.writersList$=this._store$.pipe(Object(Kb.r)("writers","writersList"))}ngOnInit(){this._store$.dispatch(Yb()),this.writersList$Subscription=this.writersList$.subscribe(t=>this.writersList=this.writersToDisplay=t)}onKeyUpSearchByName(t){this.writersToDisplay=this.writersList.filter(e=>e.firstName.includes(t.target.value)||e.lastName.includes(t.target.value))}ngOnDestroy(){this.writersList$Subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Kd),r.Kb(Kb.h))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-writers-list-screen"]],decls:4,vars:2,consts:[[3,"keyup"],[3,"writer",4,"ngFor","ngForOf"],[3,"writer"]],template:function(t,e){1&t&&(r.Pb(0,"input",0),r.ac("keyup",(function(t){return e.onKeyUpSearchByName(t)})),r.Ob(),r.Pb(1,"p"),r.yc(2),r.Ob(),r.wc(3,ty,1,1,"app-writer-list-item",1)),2&t&&(r.xb(2),r.Ac("\u05e1\u05d5\u05e4\u05e8\u05d9\u05dd \u05d1\u05e8\u05e9\u05d9\u05de\u05d4 ",e.writersToDisplay.length,""),r.xb(1),r.hc("ngForOf",e.writersToDisplay))},directives:[rt,Qb],styles:[""]}),t})(),ny=(()=>{class t{constructor(){}ngOnInit(){this.advancedSearch=new tn({lowestPrice:new Qe(""),highestPrice:new Qe("")})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-advanced-search"]],decls:13,vars:4,consts:[[3,"formGroup"],[1,"price-between-wraper"],[1,"form-control"],["for",""],["formControlName","highestPrice","type","number"],["formControlName","lowestPrice","type","number"]],template:function(t,e){1&t&&(r.Pb(0,"div"),r.Pb(1,"form",0),r.Pb(2,"div",1),r.Pb(3,"div",2),r.Pb(4,"label",3),r.yc(5,"\u05d4\u05d2\u05d1\u05d5\u05d4 \u05d1\u05d9\u05d5\u05ea\u05e8"),r.Ob(),r.Lb(6,"input",4),r.Ob(),r.Pb(7,"div",2),r.Pb(8,"label",3),r.yc(9,"\u05d4\u05e0\u05de\u05d5\u05da \u05d1\u05d9\u05d5\u05ea\u05e8"),r.Ob(),r.Lb(10,"input",5),r.Ob(),r.Ob(),r.Ob(),r.yc(11),r.dc(12,"json"),r.Ob()),2&t&&(r.xb(1),r.hc("formGroup",e.advancedSearch),r.xb(10),r.Ac(" ",r.ec(12,2,e.advancedSearch.value),"\n"))},directives:[on,le,cn,ne,Ee,ue,gn],pipes:[ut],styles:[".price-between-wraper[_ngcontent-%COMP%]{display:flex;direction:rtl}"]}),t})();const ry=["mapContainer"];function iy(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",1),r.Pb(1,"div"),r.Pb(2,"div"),r.Pb(3,"div"),r.yc(4),r.Ob(),r.Pb(5,"div"),r.yc(6),r.Ob(),r.Ob(),r.Pb(7,"div"),r.yc(8),r.Ob(),r.Pb(9,"div",2),r.ac("click",(function(){return r.qc(t),r.cc().onEditWriter()})),r.yc(10,"\u05e2\u05e8\u05d5\u05da"),r.Ob(),r.Ob(),r.Pb(11,"div"),r.Pb(12,"div"),r.Pb(13,"div"),r.Lb(14,"img",3),r.Ob(),r.Pb(15,"div"),r.Pb(16,"div"),r.yc(17),r.Ob(),r.Pb(18,"div"),r.yc(19,"\u05d8\u05dc\u05e4\u05d5\u05df"),r.Ob(),r.Ob(),r.Ob(),r.Pb(20,"div"),r.Pb(21,"div"),r.Lb(22,"img",3),r.Ob(),r.Pb(23,"div"),r.Pb(24,"div"),r.yc(25),r.Ob(),r.Pb(26,"div"),r.yc(27,"\u05d8\u05dc\u05e4\u05d5\u05df \u05e0\u05d5\u05e1\u05e3"),r.Ob(),r.Ob(),r.Ob(),r.Pb(28,"div"),r.Pb(29,"div"),r.Lb(30,"img",3),r.Ob(),r.Pb(31,"div"),r.Pb(32,"div"),r.yc(33),r.Ob(),r.Pb(34,"div"),r.yc(35,"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc"),r.Ob(),r.Ob(),r.Ob(),r.Pb(36,"div"),r.Pb(37,"div"),r.Lb(38,"img",3),r.Ob(),r.Pb(39,"div"),r.Pb(40,"div"),r.yc(41),r.Ob(),r.Pb(42,"div"),r.yc(43,"\u05d1\u05d9\u05ea"),r.Ob(),r.Ob(),r.Ob(),r.Pb(44,"div"),r.Pb(45,"div"),r.Lb(46,"img",3),r.Ob(),r.Pb(47,"div"),r.Pb(48,"div"),r.Lb(49,"img",4),r.Ob(),r.Pb(50,"div"),r.yc(51),r.Ob(),r.Ob(),r.Ob(),r.Pb(52,"div"),r.Pb(53,"div"),r.Lb(54,"img",3),r.Ob(),r.Pb(55,"div"),r.Pb(56,"div"),r.yc(57,"\u05ea\u05d0\u05e8\u05d9\u05da \u05d4\u05ea\u05d7\u05dc\u05d4"),r.Ob(),r.Pb(58,"div"),r.yc(59),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(60,"div"),r.Lb(61,"div",5,6),r.Ob(),r.Ob()}if(2&t){const t=r.cc();r.xb(4),r.Bc("",t.writer.firstName," ",t.writer.lastName,""),r.xb(2),r.Bc("",t.writer.street," ",t.writer.city,""),r.xb(2),r.zc(t.writer.reminderState),r.xb(9),r.zc(t.writer.telephone),r.xb(8),r.zc(t.writer.secondTelephone),r.xb(8),r.zc(t.writer.email),r.xb(8),r.zc(t.writer.secondTelephone),r.xb(8),r.hc("src","",r.rc),r.xb(2),r.zc(t.writer.isAppropriate.level),r.xb(8),r.zc(t.writer.startDate.hebrewDateInWords)}}const oy=[{path:"",component:Hb,pathMatch:"full"},{path:"edit-writer",component:Tb},{path:"writer-details",component:(()=>{class t{constructor(t,e,n,r){this._store$=t,this.stitchService=e,this.googleMapsService=n,this.store=r,this.writer$=this._store$.pipe(Object(Kb.r)("writers","writer"))}ngOnInit(){this.writer$Subscription=this.writer$.subscribe(t=>this.writer=t)}ngAfterContentInit(){}onEditWriter(){alert("TODO!!!")}ngOnDestroy(){this.writer$Subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Kb.h),r.Kb(Kd),r.Kb(Gd),r.Kb(Kb.h))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-writer-details"]],viewQuery:function(t,e){var n;1&t&&r.Dc(ry,!0),2&t&&r.oc(n=r.bc())&&(e.gmap=n.first)},decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[3,"click"],["src","","alt",""],["alt","",3,"src"],["id","map"],["mapContainer",""]],template:function(t,e){1&t&&r.wc(0,iy,63,12,"div",0),2&t&&r.hc("ngIf",e.writer)},directives:[ot],styles:["#map[_ngcontent-%COMP%]{height:500px;width:100%}"]}),t})()},{path:"writers-list-screen",component:ey},{path:"advanced-search",component:ny}];let sy=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[$o.forRoot(oy)],$o]}),t})(),ay=(()=>{class t{constructor(t){this.stitchService=t}ngOnInit(){this.stitchService.login()}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Kd))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:[ko],styles:[""]}),t})();var cy=n("z6cu"),uy=n("oB13");const ly="Service workers are disabled or not supported by this browser";class hy{constructor(t){if(this.serviceWorker=t,t){const e=Zd(t,"controllerchange").pipe(Object(Kt.a)(()=>t.controller)),n=ar(kn(()=>Object(vn.a)(t.controller)),e);this.worker=n.pipe(Object(jn.a)(t=>!!t)),this.registration=this.worker.pipe(Object(sr.a)(()=>t.getRegistration()));const r=Zd(t,"message").pipe(Object(Kt.a)(t=>t.data)).pipe(Object(jn.a)(t=>t&&t.type)).pipe(Object(uy.a)(new Pn.a));r.connect(),this.events=r}else this.worker=this.events=this.registration=kn(()=>Object(cy.a)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(t,e){return this.worker.pipe(Object(Yn.a)(1),er(n=>{n.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithStatus(t,e,n){const r=this.waitForStatus(n),i=this.postMessage(t,e);return Promise.all([r,i]).then(()=>{})}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){return this.events.pipe(Object(jn.a)(e=>e.type===t))}nextEventOfType(t){return this.eventsOfType(t).pipe(Object(Yn.a)(1))}waitForStatus(t){return this.eventsOfType("STATUS").pipe(Object(jn.a)(e=>e.nonce===t),Object(Yn.a)(1),Object(Kt.a)(t=>{if(!t.status)throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let fy=(()=>{class t{constructor(t){if(this.sw=t,this.subscriptionChanges=new Pn.a,!t.isEnabled)return this.messages=Jd,this.notificationClicks=Jd,void(this.subscription=Jd);this.messages=this.sw.eventsOfType("PUSH").pipe(Object(Kt.a)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Object(Kt.a)(t=>t.data)),this.pushManager=this.sw.registration.pipe(Object(Kt.a)(t=>t.pushManager));const e=this.pushManager.pipe(Object(sr.a)(t=>t.getSubscription()));this.subscription=Object(Qd.a)(e,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(ly));const e={userVisibleOnly:!0};let n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return e.applicationServerKey=r,this.pushManager.pipe(Object(sr.a)(t=>t.subscribe(e)),Object(Yn.a)(1)).toPromise().then(t=>(this.subscriptionChanges.next(t),t))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Object(Yn.a)(1),Object(sr.a)(t=>{if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ly))}decodeBase64(t){return atob(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(hy))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),dy=(()=>{class t{constructor(t){if(this.sw=t,!t.isEnabled)return this.available=Jd,void(this.activated=Jd);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ly));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ly));const t=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:t},t)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(hy))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class py{}const gy=new r.q("NGSW_REGISTER_SCRIPT");function my(t,e,n,i){return()=>{if(!ht(i)||!("serviceWorker"in navigator)||!1===n.enabled)return;let o;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof n.registrationStrategy)o=n.registrationStrategy();else{const[e,...r]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(e){case"registerImmediately":o=Object(vn.a)(null);break;case"registerWithDelay":o=by(+r[0]||0);break;case"registerWhenStable":o=r[0]?Object(Qd.a)(yy(t),by(+r[0])):yy(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get(r.z).runOutsideAngular(()=>o.pipe(Object(Yn.a)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(t=>console.error("Service worker registration failed with:",t))))}}function by(t){return Object(vn.a)(null).pipe(sp(t))}function yy(t){return t.get(r.g).isStable.pipe(Object(jn.a)(t=>t))}function _y(t,e){return new hy(ht(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}let vy=(()=>{class t{static register(e,n={}){return{ngModule:t,providers:[{provide:gy,useValue:e},{provide:py,useValue:n},{provide:hy,useFactory:_y,deps:[py,r.B]},{provide:r.d,useFactory:my,deps:[r.r,gy,py,r.B],multi:!0}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[fy,dy]}),t})();n("jtHE");let wy=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();var Oy=n("B3rN");class Ey{call(t,e){return e.subscribe(new Sy(t))}}class Sy extends Mn.a{_next(t){}}class Ay{call(t,e){return e.subscribe(new Cy(t))}}class Cy extends Mn.a{constructor(t){super(t)}_next(t){this.destination.next(op.a.createNext(t))}_error(t){const e=this.destination;e.next(op.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(op.a.createComplete()),t.complete()}}function Ty(t,e,n,r){return i=>i.lift(new xy(t,e,n,r))}class xy{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new Iy(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class Iy extends Mn.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(p_){return void this.error(p_)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(p_){this.error(p_)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Pn.a,n.set(e,i);const t=new ky(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new ky(e,i))}catch(p_){return void this.error(p_)}this.add(t.subscribe(new Dy(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Dy extends Mn.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class ky extends Wt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new lr.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Py(n)),e.add(r.subscribe(t)),e}}class Py extends lr.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var Ny=n("51Dv");class Ry{constructor(t){this.project=t}call(t,e){return e.subscribe(new jy(t,this.project))}}class jy extends Sn.a{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(p_){return void this.destination.error(p_)}this.hasSubscription=!0,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new Ny.a(this,e,n),i=this.destination;i.add(r);const o=Object(An.a)(this,t,void 0,void 0,r);o!==r&&i.add(o)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t){this.destination.error(t)}notifyComplete(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}class My{call(t,e){return e.subscribe(new By(t))}}class By extends Mn.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}const Ly={dispatch:!0,useEffectsErrorHandler:!0};function Uy(t,e){const n=t(),r=Object.assign(Object.assign({},Ly),e);return Object.defineProperty(n,"__@ngrx/effects_create__",{value:r}),n}function Fy(t){return Object.getOwnPropertyNames(t).filter(e=>t[e]&&t[e].hasOwnProperty("__@ngrx/effects_create__")).map(e=>Object.assign({propertyName:e},t[e]["__@ngrx/effects_create__"]))}function $y(t){return Object.getPrototypeOf(t)}function Vy(t){return Object(Kb.m)(qy,$y)(t)}function qy(t){return function(t){return t.constructor.hasOwnProperty("__@ngrx/effects__")}(t)?t.constructor["__@ngrx/effects__"]:[]}function zy(t,e,n=10){return t.pipe(Object(Xn.a)(r=>(e&&e.handleError(r),n<=1?t:zy(t,e,n-1))))}let Wy=(()=>{class t extends Wt.a{constructor(t){super(),t&&(this.source=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Kb.f))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function Hy(...t){return Object(jn.a)(e=>t.some(t=>"string"==typeof t?t===e.type:t.type===e.type))}function Ky(t){return Gy(t,"ngrxOnInitEffects")}function Gy(t,e){return t&&e in t&&"function"==typeof t[e]}const Xy=new r.q("@ngrx/effects Internal Root Guard"),Yy=new r.q("ngrx/effects: User Provided Effects"),Jy=new r.q("ngrx/effects: Internal Root Effects"),Zy=new r.q("ngrx/effects: Root Effects"),Qy=new r.q("ngrx/effects: Internal Feature Effects"),t_=new r.q("ngrx/effects: Feature Effects"),e_=new r.q("ngrx/effects: Effects Error Handler");let n_=(()=>{class t extends Pn.a{constructor(t,e){super(),this.errorHandler=t,this.effectsErrorHandler=e}addEffects(t){this.next(t)}toActions(){return this.pipe(Ty($y),Object(Zn.a)(t=>t.pipe(Ty(r_))),Object(Zn.a)(t=>{const e=t.pipe(function t(e,n){return n?r=>r.pipe(t((t,r)=>Object(Xt.a)(e(t,r)).pipe(Object(Kt.a)((e,i)=>n(t,e,r,i))))):t=>t.lift(new Ry(e))}(t=>{return(e=this.errorHandler,n=this.effectsErrorHandler,t=>{const r=function(t,e,n){const r=$y(t).constructor.name,i=(o=t,[Vy,Fy].reduce((t,e)=>t.concat(e(o)),[])).map(({propertyName:i,dispatch:o,useEffectsErrorHandler:s})=>{const a="function"==typeof t[i]?t[i]():t[i],c=s?n(a,e):a;return!1===o?c.pipe((function(t){return t.lift(new Ey)})):c.pipe((function(t){return t.lift(new Ay)})).pipe(Object(Kt.a)(e=>({effect:t[i],notification:e,propertyName:i,sourceName:r,sourceInstance:t})))});var o;return Object(Qd.a)(...i)}(t,e,n);return Gy(t,"ngrxOnRunEffects")?t.ngrxOnRunEffects(r):r})(t);var e,n}),Object(Kt.a)(t=>(function(t,e){if("N"===t.notification.kind){const n=t.notification.value;!function(t){return"function"!=typeof t&&t&&t.type&&"string"==typeof t.type}(n)&&e.handleError(new Error(`Effect ${function({propertyName:t,sourceInstance:e,sourceName:n}){const r="function"==typeof e[t];return`"${n}.${String(t)}${r?"()":""}"`}(t)} dispatched an invalid action: ${function(t){try{return JSON.stringify(t)}catch(e){return t}}(n)}`))}}(t,this.errorHandler),t.notification)),Object(jn.a)(t=>"N"===t.kind),(function(t){return t.lift(new My)})),n=t.pipe(Object(Yn.a)(1),Object(jn.a)(Ky),Object(Kt.a)(t=>t.ngrxOnInitEffects()));return Object(Qd.a)(e,n)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(r.m),r.Xb(e_))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function r_(t){return Gy(t,"ngrxOnIdentifyEffects")?t.ngrxOnIdentifyEffects():""}let i_=(()=>{class t{constructor(t,e){this.effectSources=t,this.store=e,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(n_),r.Xb(Kb.h))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),o_=(()=>{class t{constructor(t,e,n,r,i,o,s){this.sources=t,e.start(),r.forEach(e=>t.addEffects(e)),n.dispatch({type:"@ngrx/effects/init"})}addEffects(t){this.sources.addEffects(t)}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(n_),r.Xb(i_),r.Xb(Kb.h),r.Xb(Zy),r.Xb(Kb.k,8),r.Xb(Kb.i,8),r.Xb(Xy,8))}}),t})(),s_=(()=>{class t{constructor(t,e,n,r){e.forEach(e=>e.forEach(e=>t.addEffects(e)))}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Xb(o_),r.Xb(t_),r.Xb(Kb.k,8),r.Xb(Kb.i,8))}}),t})(),a_=(()=>{class t{static forFeature(t=[]){return{ngModule:s_,providers:[t,{provide:Qy,multi:!0,useValue:t},{provide:Yy,multi:!0,useValue:[]},{provide:t_,multi:!0,useFactory:c_,deps:[r.r,Qy,Yy]}]}}static forRoot(t=[]){return{ngModule:o_,providers:[{provide:Xy,useFactory:u_,deps:[[i_,new r.A,new r.I]]},{provide:e_,useValue:zy},i_,n_,Wy,t,{provide:Jy,useValue:[t]},{provide:Yy,multi:!0,useValue:[]},{provide:Zy,useFactory:c_,deps:[r.r,Jy,Yy]}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();function c_(t,e,n){const r=[];for(let i of e)r.push(...i);for(let i of n)r.push(...i);return function(t,e){return e.map(e=>t.get(e))}(t,r)}function u_(t){if(t)throw new TypeError("EffectsModule.forRoot() called twice. Feature modules should use EffectsModule.forFeature() instead.");return"guarded"}const l_={writers:Object(Kb.o)({writer:null,writersList:null},Object(Kb.p)(Xb,(t,e)=>Object.assign(Object.assign({},t),{writer:e.writer})),Object(Kb.p)(Jb,(t,e)=>Object.assign(Object.assign({},t),{writersList:e.writersList})))},h_=[];let f_=(()=>{class t{constructor(t,e){this.actions$=t,this.stitchService=e,this.loadWriter$=Uy(()=>this.actions$.pipe(Hy("[Writer] load Writer"),Object(Zn.a)(t=>Object(Xt.a)(this.stitchService.getWriter(t.writerId)).pipe(Object(Kt.a)(t=>Xb({writer:JSON.parse(JSON.stringify(t))})))))),this.loadWritersList$=Uy(()=>this.actions$.pipe(Hy(Yb),Object(Zn.a)(t=>Object(Xt.a)(this.stitchService.getWriters()).pipe(Object(Kt.a)(t=>Jb({writersList:JSON.parse(JSON.stringify(t))}))))))}}return t.\u0275fac=function(e){return new(e||t)(r.Xb(Wy),r.Xb(Kd))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),d_=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[ay]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[],imports:[[zt.withServerTransition({appId:"serverApp"}),sy,_n,vy.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerImmediately"}),$o,wy,Pm,yn,Kb.j.forRoot(l_,{metaReducers:h_,runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0}}),Oy.a.instrument({maxAge:25,logOnly:!0}),a_.forRoot([f_])]]}),t})();Object(r.R)(),document.addEventListener("DOMContentLoaded",()=>{Vt().bootstrapModule(d_).catch(t=>console.error(t))})},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zp1y:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("l7GE"),i=n("ZUHj");function o(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new s(t,n))}}class s{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new a(t,this.observables,this.project))}}class a extends r.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let o=0;o<r;o++){let t=e[o];this.add(Object(i.a)(this,t,t,o))}}notifyNext(t,e,n,r,i){this.values[n]=e;const o=this.toRespond;if(o.length>0){const t=o.indexOf(n);-1!==t&&o.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}}},[[0,0]]]);